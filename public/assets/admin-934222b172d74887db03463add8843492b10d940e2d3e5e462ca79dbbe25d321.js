function readImage(){if(this.files&&this.files[0]){var t=new FileReader;t.onload=function(t){document.getElementById("preview-img").src=t.target.result,document.getElementById("nameImage").textContent=document.getElementById("validationImage").value},t.readAsDataURL(this.files[0])}}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ApexCharts=e()}(this,function(){"use strict";function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function _(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var t,e=c(n);if(r){var i=c(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return h(this,t)}}function C(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var P=function(){function n(){a(this,n)}return o(n,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),n=t<0?0:255,r=t<0?-1*t:t,a=parseInt(i[0].slice(4),10),o=parseInt(i[1],10),s=parseInt(i[2],10);return"rgb("+(Math.round((n-a)*r)+a)+","+(Math.round((n-o)*r)+o)+","+(Math.round((n-s)*r)+s)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),n=t<0?0:255,r=t<0?-1*t:t,a=i>>16,o=i>>8&255,s=255&i;return"#"+(16777216+65536*(Math.round((n-a)*r)+a)+256*(Math.round((n-o)*r)+o)+(Math.round((n-s)*r)+s)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,e){return n.isColorHex(e)?this.shadeHexColor(t,e):this.shadeRGBColor(t,e)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===y(t)&&!Array.isArray(t)&&null!=t}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(e,i){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(i)&&Object.keys(i).forEach(function(t){n.isObject(i[t])&&t in e?r[t]=n.extend(e[t],i[t]):Object.assign(r,s({},t,i[t]))}),r}},{key:"extendArray",value:function(t,e){var i=[];return t.map(function(t){i.push(n.extend(e,t))}),i}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){if("[object Array]"===Object.prototype.toString.call(t)){for(var e=[],i=0;i<t.length;i++)e[i]=this.clone(t[i]);return e}if("[object Null]"===Object.prototype.toString.call(t))return null;if("[object Date]"===Object.prototype.toString.call(t))return t;if("object"!==y(t))return t;var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=this.clone(t[r]));return n}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",n=t<0?"-":"",r=e[0].replace(".",""),a=Number(e[1])+1;if(a<0){for(i=n+"0.";a++;)i+="0";return i+r.replace(/^-/,"")}for(a-=r.length;a--;)i+="0";return r+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,n=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[n-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce(function(t,e){return Array.isArray(e)&&(e=e.reduce(function(t,e){return t.length>e.length?t:e})),t.length>e.length?t:e},0)}},{key:"hexToRgba",value:function(t,e){var i=0<arguments.length&&void 0!==t?arguments[0]:"#999999",n=1<arguments.length&&void 0!==e?arguments[1]:.6;"#"!==i.substring(0,1)&&(i="#999999");var r=i.replace("#","");r=r.match(new RegExp("(.{"+r.length/3+"})","g"));for(var a=0;a<r.length;a++)r[a]=parseInt(1===r[a].length?r[a]+r[a]:r[a],16);return void 0!==n&&r.push(n),"rgba("+r.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"polarToCartesian",value:function(t,e,i,n){var r=(n-90)*Math.PI/180;return{x:t+i*Math.cos(r),y:e+i*Math.sin(r)}}},{key:"escapeString",value:function(t,e){var i=1<arguments.length&&void 0!==e?arguments[1]:"x",n=t.toString().slice();return n.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,i)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var n=i-t.length+1;n--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||-1<window.navigator.appVersion.indexOf("Trident/"))return!0}},{key:"isIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return 0<n&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}}]),n}(),I=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,i,e){var n=this,r=this.w,a=e.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(t){var e=r.config.chart.dropShadow;(e.enabled?n.addShadow(t,i,e):t).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:a}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,i,e){var n=this,r=this.w,a=e.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(t){var e=r.config.chart.dropShadow;(e.enabled?n.addShadow(t,i,e):t).componentTransfer({rgb:{type:"linear",slope:a}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i,n){var r=3<arguments.length&&void 0!==n?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:r});break;case"darken":this.addDarkenFilter(t,e,{intensity:r})}}},{key:"addShadow",value:function(t,e,i){var n=i.blur,r=i.top,a=i.left,o=i.color,s=i.opacity,l=t.flood(Array.isArray(o)?o[e]:o,s).composite(t.sourceAlpha,"in").offset(a,r).gaussianBlur(n).merge(t.source);return t.blend(t.source,l)}},{key:"dropShadow",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?arguments[2]:0,r=e.top,a=e.left,o=e.blur,s=e.color,l=e.opacity,c=e.noUserSpaceOnUse,h=this.w;return t.unfilter(!0),P.isIE()&&"radialBar"===h.config.chart.type||(s=Array.isArray(s)?s[n]:s,t.filter(function(t){var e=null;e=P.isSafari()||P.isFirefox()||P.isIE()?t.flood(s,l).composite(t.sourceAlpha,"in").offset(a,r).gaussianBlur(o):t.flood(s,l).composite(t.sourceAlpha,"in").offset(a,r).gaussianBlur(o).merge(t.source),t.blend(t.source,e)}),c||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var n=this.w;if(void 0!==n.globals.selectedDataPoints[e]&&-1<n.globals.selectedDataPoints[e].indexOf(i)){t.node.setAttribute("selected",!0);var r=n.config.states.active.filter;"none"!==r&&this.applyFilter(t,e,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(i){!function(t){for(var e in t)t.hasOwnProperty(e)&&i.setAttribute(e,t[e])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),R=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return o(e,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":t="<>";break;case"swing":t=function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1};break;case"bounce":t=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":t=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1};break;default:t="<>"}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,n){t.attr(e).animate(n).attr(i)}},{key:"animateCircleRadius",value:function(t,e,i,n,r,a){e||(e=0),t.attr({r:e}).animate(n,r).attr({r:i}).afterAll(function(){a()})}},{key:"animateCircle",value:function(t,e,i,n,r){t.attr({r:e.r,cx:e.cx,cy:e.cy}).animate(n,r).attr({r:i.r,cx:i.cx,cy:i.cy})}},{key:"animateRect",value:function(t,e,i,n,r){t.attr(e).animate(n).attr(i).afterAll(function(){return r()})}},{key:"animatePathsGradually",value:function(t){var e=t.el,i=t.realIndex,n=t.j,r=t.fill,a=t.pathFrom,o=t.pathTo,s=t.speed,l=t.delay,c=this.w,h=0;c.config.chart.animations.animateGradually.enabled&&(h=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(h=0),this.morphSVG(e,i,n,"line"!==c.config.chart.type||c.globals.comboCharts?r:"stroke",a,o,s,l*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(t){t.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,n,r,a,o,s){var l=this,c=this.w;r||(r=t.attr("pathFrom")),a||(a=t.attr("pathTo"));var h=function(){return"radar"===c.config.chart.type&&(o=1),"M 0 ".concat(c.globals.gridHeight)};(!r||-1<r.indexOf("undefined")||-1<r.indexOf("NaN"))&&(r=h()),(!a||-1<a.indexOf("undefined")||-1<a.indexOf("NaN"))&&(a=h()),c.globals.shouldAnimate||(o=1),t.plot(r).animate(1,c.globals.easing,s).plot(r).animate(o,c.globals.easing,s).plot(a).afterAll(function(){P.isNumber(i)?i===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(t):"none"!==n&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&e===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(t),l.showDelayedElements()})}}]),e}(),F=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"drawLine",value:function(t,e,i,n,r,a,o){var s=4<arguments.length&&void 0!==r?arguments[4]:"#a8a8a8",l=5<arguments.length&&void 0!==a?arguments[5]:0,c=6<arguments.length&&void 0!==o?arguments[6]:null;return this.w.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:n,stroke:s,"stroke-dasharray":l,"stroke-width":c})}},{key:"drawRect",value:function(t,e,i,n,r,a,o,s,l,c){var h=0<arguments.length&&void 0!==t?arguments[0]:0,u=1<arguments.length&&void 0!==e?arguments[1]:0,d=2<arguments.length&&void 0!==i?arguments[2]:0,p=3<arguments.length&&void 0!==n?arguments[3]:0,f=4<arguments.length&&void 0!==r?arguments[4]:0,g=5<arguments.length&&void 0!==a?arguments[5]:"#fefefe",m=6<arguments.length&&void 0!==o?arguments[6]:1,v=7<arguments.length&&void 0!==s?arguments[7]:null,x=8<arguments.length&&void 0!==l?arguments[8]:null,b=9<arguments.length&&void 0!==c?arguments[9]:0,y=this.w.globals.dom.Paper.rect();return y.attr({x:h,y:u,width:0<d?d:0,height:0<p?p:0,rx:f,ry:f,opacity:m,"stroke-width":null!==v?v:0,stroke:null!==x?x:"none","stroke-dasharray":b}),y.node.setAttribute("fill",g),y}},{key:"drawPolygon",value:function(t,e,i,n){var r=1<arguments.length&&void 0!==e?arguments[1]:"#e1e1e1",a=2<arguments.length&&void 0!==i?arguments[2]:1,o=3<arguments.length&&void 0!==n?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(t).attr({fill:o,stroke:r,"stroke-width":a})}},{key:"drawCircle",value:function(t,e){var i=1<arguments.length&&void 0!==e?arguments[1]:null,n=this.w.globals.dom.Paper.circle(2*t);return null!==i&&n.attr(i),n}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,n=t.stroke,r=void 0===n?"#a8a8a8":n,a=t.strokeWidth,o=void 0===a?1:a,s=t.fill,l=t.fillOpacity,c=void 0===l?1:l,h=t.strokeOpacity,u=void 0===h?1:h,d=t.classes,p=t.strokeLinecap,f=void 0===p?null:p,g=t.strokeDashArray,m=void 0===g?0:g,v=this.w;return null===f&&(f=v.config.stroke.lineCap),(-1<i.indexOf("undefined")||-1<i.indexOf("NaN"))&&(i="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(i).attr({fill:s,"fill-opacity":c,stroke:r,"stroke-opacity":u,"stroke-linecap":f,"stroke-width":o,"stroke-dasharray":m,"class":d})}},{key:"group",value:function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:null,i=this.w.globals.dom.Paper.group();return null!==e&&i.attr(e),i}},{key:"move",value:function(t,e){return["M",t,e].join(" ")}},{key:"line",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?arguments[2]:null,r=null;return null===n?r=["L",t,e].join(" "):"H"===n?r=["H",t].join(" "):"V"===n&&(r=["V",e].join(" ")),r}},{key:"curve",value:function(t,e,i,n,r,a){return["C",t,e,i,n,r,a].join(" ")}},{key:"quadraticCurve",value:function(t,e,i,n){return["Q",t,e,i,n].join(" ")}},{key:"arc",value:function(t,e,i,n,r,a,o,s){var l="A";return 7<arguments.length&&void 0!==s&&arguments[7]&&(l="a"),[l,t,e,i,n,r,a,o].join(" ")}},{key:"renderPaths",value:function(t){var e,i=t.j,n=t.realIndex,r=t.pathFrom,a=t.pathTo,o=t.stroke,s=t.strokeWidth,l=t.strokeLinecap,c=t.fill,h=t.animationDelay,u=t.initialSpeed,d=t.dataChangeSpeed,p=t.className,f=t.shouldClipToGrid,g=void 0===f||f,m=t.bindEventsOnPaths,v=void 0===m||m,x=t.drawShadow,b=void 0===x||x,y=this.w,w=new I(this.ctx),A=new R(this.ctx),C=this.w.config.chart.animations.enabled,S=C&&this.w.config.chart.animations.dynamicAnimation.enabled,k=!!(C&&!y.globals.resized||S&&y.globals.dataChanged&&y.globals.shouldAnimate);k?e=r:(e=a,y.globals.animationEnded=!0);var T=y.config.stroke.dashArray,D=0;D=Array.isArray(T)?T[n]:y.config.stroke.dashArray;var L=this.drawPath({d:e,stroke:o,strokeWidth:s,fill:c,fillOpacity:1,classes:p,strokeLinecap:l,strokeDashArray:D});if(L.attr("index",n),g&&L.attr({"clip-path":"url(#gridRectMask".concat(y.globals.cuid,")")}),"none"!==y.config.states.normal.filter.type)w.getDefaultFilter(L,n);else if(y.config.chart.dropShadow.enabled&&b&&(!y.config.chart.dropShadow.enabledOnSeries||y.config.chart.dropShadow.enabledOnSeries&&-1!==y.config.chart.dropShadow.enabledOnSeries.indexOf(n))){var E=y.config.chart.dropShadow;w.dropShadow(L,E,n)}v&&(L.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,L)),L.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,L)),L.node.addEventListener("mousedown",this.pathMouseDown.bind(this,L))),L.attr({pathTo:a,pathFrom:r});var P={el:L,j:i,realIndex:n,pathFrom:r,pathTo:a,fill:c,strokeWidth:s,delay:h};return!C||y.globals.resized||y.globals.dataChanged?!y.globals.resized&&y.globals.dataChanged||A.showDelayedElements():A.animatePathsGradually(_(_({},P),{},{speed:u})),y.globals.dataChanged&&S&&k&&A.animatePathsGradually(_(_({},P),{},{speed:d})),L}},{key:"drawPattern",value:function(e,i,n,t,r){var a=3<arguments.length&&void 0!==t?arguments[3]:"#a8a8a8",o=4<arguments.length&&void 0!==r?arguments[4]:0;return this.w.globals.dom.Paper.pattern(i,n,function(t){"horizontalLines"===e?t.line(0,0,n,0).stroke({color:a,width:o+1}):"verticalLines"===e?t.line(0,0,0,i).stroke({color:a,width:o+1}):"slantedLines"===e?t.line(0,0,i,n).stroke({color:a,width:o}):"squares"===e?t.rect(i,n).fill("none").stroke({color:a,width:o}):"circles"===e&&t.circle(i).fill("none").stroke({color:a,width:o})})}},{key:"drawGradient",value:function(t,e,i,n,r,a,o,s,l){var c,h=5<arguments.length&&void 0!==a?arguments[5]:null,u=6<arguments.length&&void 0!==o?arguments[6]:null,d=7<arguments.length&&void 0!==s?arguments[7]:null,p=8<arguments.length&&void 0!==l?arguments[8]:0,f=this.w;e.length<9&&0===e.indexOf("#")&&(e=P.hexToRgba(e,n)),i.length<9&&0===i.indexOf("#")&&(i=P.hexToRgba(i,r));var g=0,m=1,v=1,x=null;null!==u&&(g=void 0!==u[0]?u[0]/100:0,m=void 0!==u[1]?u[1]/100:1,v=void 0!==u[2]?u[2]/100:1,x=void 0!==u[3]?u[3]/100:null);var b=!("donut"!==f.config.chart.type&&"pie"!==f.config.chart.type&&"polarArea"!==f.config.chart.type&&"bubble"!==f.config.chart.type);if(c=null===d||0===d.length?f.globals.dom.Paper.gradient(b?"radial":"linear",function(t){t.at(g,e,n),t.at(m,i,r),t.at(v,i,r),null!==x&&t.at(x,e,n)}):f.globals.dom.Paper.gradient(b?"radial":"linear",function(e){(Array.isArray(d[p])?d[p]:d).forEach(function(t){e.at(t.offset/100,t.color,t.opacity)})}),b){var y=f.globals.gridWidth/2,w=f.globals.gridHeight/2;"bubble"!==f.config.chart.type?c.attr({gradientUnits:"userSpaceOnUse",cx:y,cy:w,r:h}):c.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===t?c.from(0,0).to(0,1):"diagonal"===t?c.from(0,0).to(1,1):"horizontal"===t?c.from(0,1).to(1,1):"diagonal2"===t&&c.from(1,0).to(0,1);return c}},{key:"drawText",value:function(t){var e,i=t.x,n=t.y,r=t.text,a=t.textAnchor,o=t.fontSize,s=t.fontFamily,l=t.fontWeight,c=t.foreColor,h=t.opacity,u=t.cssClass,d=void 0===u?"":u,p=t.isPlainText,f=void 0===p||p,g=this.w;return void 0===r&&(r=""),a||(a="start"),c&&c.length||(c=g.config.chart.foreColor),s=s||g.config.chart.fontFamily,l=l||"regular",(e=Array.isArray(r)?g.globals.dom.Paper.text(function(t){for(var e=0;e<r.length;e++)0===e?t.tspan(r[e]):t.tspan(r[e]).newLine()}):f?g.globals.dom.Paper.plain(r):g.globals.dom.Paper.text(function(t){return t.tspan(r)})).attr({x:i,y:n,"text-anchor":a,"dominant-baseline":"auto","font-size":o,"font-family":s,"font-weight":l,fill:c,"class":"apexcharts-text "+d}),e.node.style.fontFamily=s,e.node.style.opacity=h,e}},{key:"drawMarker",value:function(t,e,i){t=t||0;var n=i.pSize||0,r=null;if("square"===i.shape){var a=void 0===i.pRadius?n/2:i.pRadius;null!==e&&n||(a=n=0);var o=1.2*n+a,s=this.drawRect(o,o,o,o,a);s.attr({x:t-o/2,y:e-o/2,cx:t,cy:e,"class":i["class"]?i["class"]:"",fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,stroke:i.pointStrokeColor,"stroke-width":i.pWidth?i.pWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}),r=s}else"circle"!==i.shape&&i.shape||(P.isNumber(e)||(e=n=0),r=this.drawCircle(n,{cx:t,cy:e,"class":i["class"]?i["class"]:"",stroke:i.pointStrokeColor,fill:i.pointFillColor,"fill-opacity":i.pointFillOpacity?i.pointFillOpacity:1,"stroke-width":i.pWidth?i.pWidth:0,"stroke-opacity":i.pointStrokeOpacity?i.pointStrokeOpacity:1}));return r}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,n=new I(this.ctx),r=parseInt(t.node.getAttribute("index"),10),a=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&"none"!==i.config.states.active.filter.type&&!i.globals.isTouchDevice){var o=i.config.states.hover.filter;n.applyFilter(t,r,o.type,o.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,n=new I(this.ctx),r=parseInt(t.node.getAttribute("index"),10),a=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&n.getDefaultFilter(t,r)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,n=new I(this.ctx),r=parseInt(t.node.getAttribute("index"),10),a=parseInt(t.node.getAttribute("j"),10),o="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),-1<i.globals.selectedDataPoints[r].indexOf(a)){var s=i.globals.selectedDataPoints[r].indexOf(a);i.globals.selectedDataPoints[r].splice(s,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&0<i.globals.selectedDataPoints.length){i.globals.selectedDataPoints=[];var l=i.globals.dom.Paper.select(".apexcharts-series path").members,c=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,h=function(t){Array.prototype.forEach.call(t,function(t){t.node.setAttribute("selected","false"),n.getDefaultFilter(t,r)})};h(l),h(c)}t.node.setAttribute("selected","true"),o="true",void 0===i.globals.selectedDataPoints[r]&&(i.globals.selectedDataPoints[r]=[]),i.globals.selectedDataPoints[r].push(a)}if("true"===o){var u=i.config.states.active.filter;"none"!==u&&n.applyFilter(t,r,u.type,u.value)}else"none"!==i.config.states.active.filter.type&&n.getDefaultFilter(t,r);"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,n,r){var a=!(4<arguments.length&&void 0!==r)||arguments[4],o=this.w,s=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});n&&s.attr("transform",n),o.globals.dom.Paper.add(s);var l=s.bbox();return a||(l=s.node.getBoundingClientRect()),s.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(0<(t.textContent=e).length&&t.getComputedTextLength()>=i/.8)){for(var n=e.length-3;0<n;n-=3)if(t.getSubStringLength(0,n)<=i/.8)return void(t.textContent=e.substring(0,n)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),e}(),p=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t}return o(e,[{key:"setOrientations",value:function(t,e){var i=1<arguments.length&&void 0!==e?arguments[1]:null,n=this.w;if("vertical"===t.label.orientation){var r=null!==i?i:0,a=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(null!==a){var o=a.getBoundingClientRect();a.setAttribute("x",parseFloat(a.getAttribute("x"))-o.height+4),"top"===t.label.position?a.setAttribute("y",parseFloat(a.getAttribute("y"))+o.width):a.setAttribute("y",parseFloat(a.getAttribute("y"))-o.width);var s=this.annoCtx.graphics.rotateAroundCenter(a),l=s.x,c=s.y;a.setAttribute("transform","rotate(-90 ".concat(l," ").concat(c,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||!e.label.text||e.label.text&&!e.label.text.trim())return null;var n=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=t.getBoundingClientRect(),a=e.label.style.padding.left,o=e.label.style.padding.right,s=e.label.style.padding.top,l=e.label.style.padding.bottom;"vertical"===e.label.orientation&&(s=e.label.style.padding.left,l=e.label.style.padding.right,a=e.label.style.padding.top,o=e.label.style.padding.bottom);var c=r.left-n.left-a,h=r.top-n.top-s,u=this.annoCtx.graphics.drawRect(c-i.globals.barPadForNumericAxis,h,r.width+a+o,r.height+s+l,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&u.node.classList.add(e.id),u}},{key:"annotationsBackground",value:function(){var o=this,s=this.w,i=function(t,e,i){var n=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(e,"']"));if(n){var r=n.parentNode,a=o.addBackgroundToAnno(n,t);a&&r.insertBefore(a.node,n)}};s.config.annotations.xaxis.map(function(t,e){i(t,e,"xaxis")}),s.config.annotations.yaxis.map(function(t,e){i(t,e,"yaxis")}),s.config.annotations.points.map(function(t,e){i(t,e,"point")})}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var n=e.globals.labels.indexOf(t),r=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(n+1)+")");return r&&(i=parseFloat(r.getAttribute("x"))),i}}]),e}(),f=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis}return o(e,[{key:"addXaxisAnnotation",value:function(t,e,i){var n=this.w,r=this.invertAxis?n.globals.minY:n.globals.minX,a=this.invertAxis?n.globals.maxY:n.globals.maxX,o=this.invertAxis?n.globals.yRange[0]:n.globals.xRange,s=(t.x-r)/(o/n.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(s=(a-t.x)/(o/n.globals.gridWidth));var l=t.label.text;"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.invertAxis||n.globals.dataFormatXNumeric||(s=this.annoCtx.helpers.getStringX(t.x));var c=t.strokeDashArray;if(P.isNumber(s)){if(null===t.x2||void 0===t.x2){var h=this.annoCtx.graphics.drawLine(s+t.offsetX,0+t.offsetY,s+t.offsetX,n.globals.gridHeight+t.offsetY,t.borderColor,c,t.borderWidth);e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}else{var u=(t.x2-r)/(o/n.globals.gridWidth);if(this.annoCtx.inversedReversedAxis&&(u=(a-t.x2)/(o/n.globals.gridWidth)),"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.invertAxis||n.globals.dataFormatXNumeric||(u=this.annoCtx.helpers.getStringX(t.x2)),u<s){var d=s;s=u,u=d}var p=this.annoCtx.graphics.drawRect(s+t.offsetX,0+t.offsetY,u-s,n.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,c);p.node.classList.add("apexcharts-annotation-rect"),p.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),e.appendChild(p.node),t.id&&p.node.classList.add(t.id)}var f="top"===t.label.position?4:n.globals.gridHeight,g=this.annoCtx.graphics.getTextRects(l,parseFloat(t.label.style.fontSize)),m=this.annoCtx.graphics.drawText({x:s+t.label.offsetX,y:f+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?g.width/2-12:-g.width/2:0),text:l,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});m.attr({rel:i}),e.appendChild(m.node),this.annoCtx.helpers.setOrientations(t,i)}}},{key:"drawXAxisAnnotations",value:function(){var i=this,t=this.w,n=this.annoCtx.graphics.group({"class":"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(t,e){i.addXaxisAnnotation(t,n.node,e)}),n}}]),e}(),D=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"getStackedSeriesTotals",value:function(){var t=this.w,e=[];if(0===t.globals.series.length)return e;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var n=0,r=0;r<t.globals.series.length;r++)void 0!==t.globals.series[r][i]&&(n+=t.globals.series[r][i]);e.push(n)}return t.globals.stackedSeriesTotals=e}},{key:"getSeriesTotalByIndex",value:function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:null;return null===e?this.w.config.series.reduce(function(t,e){return t+e},0):this.w.globals.series[e].reduce(function(t,e){return t+e},0)}},{key:"isSeriesNull",value:function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:null;return 0===(null===e?this.w.config.series.filter(function(t){return null!==t}):this.w.config.series[e].data.filter(function(t){return null!==t})).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every(function(t,e,i){return t===i[0]})}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map(function(t){return e.config.xaxis.labels.formatter(t-e.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var t=this.w
;t.globals.maxValsInArrayIndex=t.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,t.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach(function(t){e=Math.max(e,t)}),t.globals.markers.largestSize=e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map(function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e+=t[i];else e+=t;return e})}},{key:"getSeriesTotalsXRange",value:function(r,a){var o=this.w;return o.globals.series.map(function(t,e){for(var i=0,n=0;n<t.length;n++)o.globals.seriesX[e][n]>r&&o.globals.seriesX[e][n]<a&&(i+=t[n]);return i})}},{key:"getPercentSeries",value:function(){var o=this.w;o.globals.seriesPercent=o.globals.series.map(function(t){var e=[];if(Array.isArray(t))for(var i=0;i<t.length;i++){var n=o.globals.stackedSeriesTotals[i],r=0;n&&(r=100*t[i]/n),e.push(r)}else{var a=100*t/o.globals.seriesTotals.reduce(function(t,e){return t+e},0);e.push(a)}return e})}},{key:"getCalculatedRatios",value:function(){var t,e,i,n,r=this.w.globals,a=[],o=0,s=[],l=.1,c=0;if(r.yRange=[],r.isMultipleYAxis)for(var h=0;h<r.minYArr.length;h++)r.yRange.push(Math.abs(r.minYArr[h]-r.maxYArr[h])),s.push(0);else r.yRange.push(Math.abs(r.minY-r.maxY));r.xRange=Math.abs(r.maxX-r.minX),r.zRange=Math.abs(r.maxZ-r.minZ);for(var u=0;u<r.yRange.length;u++)a.push(r.yRange[u]/r.gridHeight);if(e=r.xRange/r.gridWidth,i=Math.abs(r.initialMaxX-r.initialMinX)/r.gridWidth,t=r.yRange/r.gridWidth,n=r.xRange/r.gridHeight,(o=r.zRange/r.gridHeight*16)||(o=1),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(r.hasNegs=!0),r.isMultipleYAxis){s=[];for(var d=0;d<a.length;d++)s.push(-r.minYArr[d]/a[d])}else s.push(-r.minY/a[0]),r.minY!==Number.MIN_VALUE&&0!==Math.abs(r.minY)&&(l=-r.minY/t,c=r.minX/e);return{yRatio:a,invertedYRatio:t,zRatio:o,xRatio:e,initialXRatio:i,invertedXRatio:n,baseLineInvertedY:l,baseLineY:s,baseLineX:c}}},{key:"getLogSeries",value:function(t){var i=this,n=this.w;return n.globals.seriesLog=t.map(function(t,e){return n.config.yaxis[e]&&n.config.yaxis[e].logarithmic?t.map(function(t){return null===t?null:i.getLogVal(t,e)}):t}),n.globals.invalidLogScale?t:n.globals.seriesLog}},{key:"getLogVal",value:function(t,e){var i=this.w;return(Math.log(t)-Math.log(i.globals.minYArr[e]))/(Math.log(i.globals.maxYArr[e])-Math.log(i.globals.minYArr[e]))}},{key:"getLogYRatios",value:function(t){var a=this,o=this.w,s=this.w.globals;return s.yLogRatio=t.slice(),s.logYRange=s.yRange.map(function(t,e){if(o.config.yaxis[e]&&a.w.config.yaxis[e].logarithmic){var i,n=-Number.MAX_VALUE,r=Number.MIN_VALUE;return s.seriesLog.forEach(function(t,e){t.forEach(function(t){o.config.yaxis[e]&&o.config.yaxis[e].logarithmic&&(n=Math.max(t,n),r=Math.min(t,r))})}),i=Math.pow(s.yRange[e],Math.abs(r-n)/s.yRange[e]),s.yLogRatio[e]=i/s.gridHeight,i}}),s.invalidLogScale?t.slice():s.yLogRatio}}],[{key:"checkComboSeries",value:function(t){var e=!1,i=0;return t.length&&void 0!==t[0].type&&(e=!0,t.forEach(function(t){"bar"!==t.type&&"column"!==t.type&&"candlestick"!==t.type||i++})),{comboBarCount:i,comboCharts:e}}},{key:"extendArrayProps",value:function(t,e,i){return e.yaxis&&(e=t.extendYAxis(e,i)),e.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),e.annotations.xaxis&&(e=t.extendXAxisAnnotations(e)),e.annotations.points&&(e=t.extendPointAnnotations(e))),e}}]),e}(),g=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t}return o(e,[{key:"addYaxisAnnotation",value:function(t,e,i){var n,r=this.w,a=t.strokeDashArray,o=this._getY1Y2("y1",t),s=t.label.text;if(null===t.y2||void 0===t.y2){var l=this.annoCtx.graphics.drawLine(0+t.offsetX,o+t.offsetY,this._getYAxisAnnotationWidth(t),o+t.offsetY,t.borderColor,a,t.borderWidth);e.appendChild(l.node),t.id&&l.node.classList.add(t.id)}else{if((n=this._getY1Y2("y2",t))>o){var c=o;o=n,n=c}var h=this.annoCtx.graphics.drawRect(0+t.offsetX,n+t.offsetY,this._getYAxisAnnotationWidth(t),o-n,0,t.fillColor,t.opacity,1,t.borderColor,a);h.node.classList.add("apexcharts-annotation-rect"),h.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),e.appendChild(h.node),t.id&&h.node.classList.add(t.id)}var u="right"===t.label.position?r.globals.gridWidth:0,d=this.annoCtx.graphics.drawText({x:u+t.label.offsetX,y:(n||o)+t.label.offsetY-3,text:s,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});d.attr({rel:i}),e.appendChild(d.node)}},{key:"_getY1Y2",value:function(t,e){var i,n="y1"===t?e.y:e.y2,r=this.w;if(this.annoCtx.invertAxis){var a=r.globals.labels.indexOf(n);r.config.xaxis.convertedCatToNumeric&&(a=r.globals.categoryLabels.indexOf(n));var o=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(a+1)+")");o&&(i=parseFloat(o.getAttribute("y")))}else{var s;s=r.config.yaxis[e.yAxisIndex].logarithmic?(n=new D(this.annoCtx.ctx).getLogVal(n,e.yAxisIndex))/r.globals.yLogRatio[e.yAxisIndex]:(n-r.globals.minYArr[e.yAxisIndex])/(r.globals.yRange[e.yAxisIndex]/r.globals.gridHeight),i=r.globals.gridHeight-s,r.config.yaxis[e.yAxisIndex]&&r.config.yaxis[e.yAxisIndex].reversed&&(i=s)}return i}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return e.globals.gridWidth,(-1<t.width.indexOf("%")?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var i=this,t=this.w,n=this.annoCtx.graphics.group({"class":"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.map(function(t,e){i.addYaxisAnnotation(t,n.node,e)}),n}}]),e}(),m=function(){function e(t){a(this,e),this.w=t.w,this.annoCtx=t}return o(e,[{key:"addPointAnnotation",value:function(t,e,i){var n=this.w,r=0,a=0,o=0;this.annoCtx.invertAxis&&console.warn("Point annotation is not supported in horizontal bar charts.");var s,l=parseFloat(t.y);if("string"==typeof t.x){var c=n.globals.labels.indexOf(t.x);n.config.xaxis.convertedCatToNumeric&&(c=n.globals.categoryLabels.indexOf(t.x)),r=this.annoCtx.helpers.getStringX(t.x),null===t.y&&(l=n.globals.series[t.seriesIndex][c])}else r=(t.x-n.globals.minX)/(n.globals.xRange/n.globals.gridWidth);if(s=n.config.yaxis[t.yAxisIndex].logarithmic?(l=new D(this.annoCtx.ctx).getLogVal(l,t.yAxisIndex))/n.globals.yLogRatio[t.yAxisIndex]:(l-n.globals.minYArr[t.yAxisIndex])/(n.globals.yRange[t.yAxisIndex]/n.globals.gridHeight),a=n.globals.gridHeight-s-parseFloat(t.label.style.fontSize)-t.marker.size,o=n.globals.gridHeight-s,n.config.yaxis[t.yAxisIndex]&&n.config.yaxis[t.yAxisIndex].reversed&&(a=s+parseFloat(t.label.style.fontSize)+t.marker.size,o=s),P.isNumber(r)){var h={pSize:t.marker.size,pWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,"class":"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},u=this.annoCtx.graphics.drawMarker(r+t.marker.offsetX,o+t.marker.offsetY,h);e.appendChild(u.node);var d=t.label.text?t.label.text:"",p=this.annoCtx.graphics.drawText({x:r+t.label.offsetX,y:a+t.label.offsetY,text:d,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(p.attr({rel:i}),e.appendChild(p.node),t.customSVG.SVG){var f=this.annoCtx.graphics.group({"class":"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});f.attr({transform:"translate(".concat(r+t.customSVG.offsetX,", ").concat(a+t.customSVG.offsetY,")")}),f.node.innerHTML=t.customSVG.SVG,e.appendChild(f.node)}if(t.image.path){var g=t.image.width?t.image.width:20,m=t.image.height?t.image.height:20;this.annoCtx.addImage({x:r+t.image.offsetX-g/2,y:a+t.image.offsetY-m/2,width:g,height:m,path:t.image.path,appendTo:".apexcharts-point-annotations"})}}}},{key:"drawPointAnnotations",value:function(){var i=this,t=this.w,n=this.annoCtx.graphics.group({"class":"apexcharts-point-annotations"});return t.config.annotations.points.map(function(t,e){i.addPointAnnotation(t,n.node,e)}),n}}]),e}(),v={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},x=function(){function t(){a(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={x:0,y:null,yAxisIndex:0,seriesIndex:0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return o(t,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[v],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},"export":{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(t){return new Date(t).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,startingShape:"flat",endingShape:"flat",rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(t,e){return t+e},0)/t.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(t,e){return t+e},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,sorted:!1,offsetX:0,offsetY:0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss"}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),b=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.graphics=new F(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new p(this),this.xAxisAnnotations=new f(this),this.yAxisAnnotations=new g(this),this.pointsAnnotations=new m(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return o(e,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),n=this.pointsAnnotations.drawPointAnnotations(),r=t.config.chart.animations.enabled,a=[e,i,n],o=[i.node,e.node,n.node],s=0;s<3;s++)t.globals.dom.elGraphical.add(a[s]),!r||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&1<t.globals.dataPoints&&o[s].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:o[s],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var i=this;this.w.config.annotations.images.map(function(t,e){i.addImage(t,e)})}},{key:"drawTextAnnos",value:function(){var i=this;this.w.config.annotations.texts.map(function(t,e){i.addText(t,e)})}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t){var e=t.x,i=t.y,n=t.text,r=t.textAnchor,a=t.foreColor,o=t.fontSize,s=t.fontFamily,l=t.fontWeight,c=t.cssClass,h=t.backgroundColor,u=t.borderWidth,d=t.strokeDashArray,p=t.borderRadius,f=t.borderColor,g=t.appendTo,m=void 0===g?".apexcharts-annotations":g,v=t.paddingLeft,x=void 0===v?4:v,b=t.paddingRight,y=void 0===b?4:b,w=t.paddingBottom,A=void 0===w?2:w,C=t.paddingTop,S=void 0===C?2:C,k=this.w,T=this.graphics.drawText({x:e,y:i,text:n,textAnchor:r||"start",fontSize:o||"12px",fontWeight:l||"regular",fontFamily:s||k.config.chart.fontFamily,foreColor:a||k.config.chart.foreColor,cssClass:c}),D=k.globals.dom.baseEl.querySelector(m);D&&D.appendChild(T.node);var L=T.bbox();if(n){var E=this.graphics.drawRect(L.x-x,L.y-S,L.width+x+y,L.height+A+S,p,h||"transparent",1,u,f,d);D.insertBefore(E.node,T.node)}}},{key:"addImage",value:function(t){var e=this.w,i=t.path,n=t.x,r=void 0===n?0:n,a=t.y,o=void 0===a?0:a,s=t.width,l=void 0===s?20:s,c=t.height,h=void 0===c?20:c,u=t.appendTo,d=void 0===u?".apexcharts-annotations":u,p=e.globals.dom.Paper.image(i);p.size(l,h).move(r,o);var f=e.globals.dom.baseEl.querySelector(d);f&&f.appendChild(p.node)}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,n=t.context,r=t.type,a=t.contextMethod,o=n,s=o.w,l=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),c=l.childNodes.length+1,h=new x,u=Object.assign({},"xaxis"===r?h.xAxisAnnotation:"yaxis"===r?h.yAxisAnnotation:h.pointAnnotation),d=P.extend(u,e);switch(r){case"xaxis":this.addXaxisAnnotation(d,l,c);break;case"yaxis":this.addYaxisAnnotation(d,l,c);break;case"point":this.addPointAnnotation(d,l,c)}var p=s.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),f=this.helpers.addBackgroundToAnno(p,d);return f&&l.insertBefore(f.node,p),i&&s.globals.memory.methodsToExec.push({context:o,id:d.id?d.id:P.randomId(),method:a,label:"addAnnotation",params:e}),n}},{key:"clearAnnotations",value:function(t){var i=t.w,e=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");i.globals.memory.methodsToExec.map(function(t,e){"addText"!==t.label&&"addAnnotation"!==t.label||i.globals.memory.methodsToExec.splice(e,1)}),e=P.listToArray(e),Array.prototype.forEach.call(e,function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})}},{key:"removeAnnotation",value:function(t,i){var n=t.w,e=n.globals.dom.baseEl.querySelectorAll(".".concat(i));e&&(n.globals.memory.methodsToExec.map(function(t,e){t.id===i&&n.globals.memory.methodsToExec.splice(e,1)}),Array.prototype.forEach.call(e,function(t){t.parentElement.removeChild(t)}))}}]),e}(),L=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0}return o(e,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,n=parseInt(e.globals.gridWidth,10),r=parseInt(e.globals.gridHeight,10),a=r<n?n:r,o=t.image,s=0,l=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(s=i.fill.image.width+1,l=i.fill.image.height):(s=a+1,l=a):(s=t.width,l=t.height);var c=document.createElementNS(e.globals.SVGNS,"pattern");F.setAttrs(c,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:s+"px",height:l+"px"});var h=document.createElementNS(e.globals.SVGNS,"image");c.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",o),F.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:s+"px",height:l+"px"}),h.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(t){var e=this.w;return("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||"heatmap"===e.config.chart.type||"treemap"===e.config.chart.type?this.seriesIndex=t.seriesNumber:this.seriesIndex=t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,n,r,a=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var o=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(o=e.globals.seriesColors[this.seriesIndex]),"function"==typeof o&&(o=o({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var s=this.getFillType(this.seriesIndex),l=Array.isArray(a.fill.opacity)?a.fill.opacity[this.seriesIndex]:a.fill.opacity;t.color&&(o=t.color);var c=o;if(-1===o.indexOf("rgb")?o.length<9&&(c=P.hexToRgba(o,l)):-1<o.indexOf("rgba")&&(l=P.getOpacityFromRGBA(o)),t.opacity&&(l=t.opacity),"pattern"===s&&(n=this.handlePatternFill(n,o,l,c)),"gradient"===s&&(r=this.handleGradientFill(o,l,this.seriesIndex)),"image"===s){var h=a.fill.image.src,u=t.patternID?t.patternID:"";this.clippedImgArea({opacity:l,image:Array.isArray(h)?t.seriesNumber<h.length?h[t.seriesNumber]:h[0]:h,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:"pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(u)}),i="url(#pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(u,")")}else i="gradient"===s?r:"pattern"===s?n:c;return t.solid&&(i=c),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,n=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?n=t.globals.stroke.colors:n.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?n=t.globals.fill.colors:n.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?n=t.globals.stroke.colors:n.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?n=t.globals.fill.colors:n.push(t.globals.fill.colors),void 0!==i.fillColors&&(n=[],Array.isArray(i.fillColors)?n=i.fillColors.slice():n.push(i.fillColors)),n}},{key:"handlePatternFill",value:function(t,e,i,n){var r=this.w.config,a=this.opts,o=new F(this.ctx),s=void 0===r.fill.pattern.strokeWidth?Array.isArray(r.stroke.width)?r.stroke.width[this.seriesIndex]:r.stroke.width:Array.isArray(r.fill.pattern.strokeWidth)?r.fill.pattern.strokeWidth[this.seriesIndex]:r.fill.pattern.strokeWidth,l=e;return Array.isArray(r.fill.pattern.style)?void 0!==r.fill.pattern.style[a.seriesNumber]?o.drawPattern(r.fill.pattern.style[a.seriesNumber],r.fill.pattern.width,r.fill.pattern.height,l,s,i):n:o.drawPattern(r.fill.pattern.style,r.fill.pattern.width,r.fill.pattern.height,l,s,i)}},{key:"handleGradientFill",value:function(t,e,i){var n,r=this.w.config,a=this.opts,o=new F(this.ctx),s=new P,l=r.fill.gradient.type,c=t,h=void 0===r.fill.gradient.opacityFrom?e:Array.isArray(r.fill.gradient.opacityFrom)?r.fill.gradient.opacityFrom[i]:r.fill.gradient.opacityFrom;-1<c.indexOf("rgba")&&(h=P.getOpacityFromRGBA(c));var u=void 0===r.fill.gradient.opacityTo?e:Array.isArray(r.fill.gradient.opacityTo)?r.fill.gradient.opacityTo[i]:r.fill.gradient.opacityTo;if(void 0===r.fill.gradient.gradientToColors||0===r.fill.gradient.gradientToColors.length)n="dark"===r.fill.gradient.shade?s.shadeColor(-1*parseFloat(r.fill.gradient.shadeIntensity),-1<t.indexOf("rgb")?P.rgb2hex(t):t):s.shadeColor(parseFloat(r.fill.gradient.shadeIntensity),-1<t.indexOf("rgb")?P.rgb2hex(t):t);else if(r.fill.gradient.gradientToColors[a.seriesNumber]){var d=r.fill.gradient.gradientToColors[a.seriesNumber];-1<(n=d).indexOf("rgba")&&(u=P.getOpacityFromRGBA(d))}else n=t;if(r.fill.gradient.inverseColors){var p=c;c=n,n=p}return-1<c.indexOf("rgb")&&(c=P.rgb2hex(c)),-1<n.indexOf("rgb")&&(n=P.rgb2hex(n)),o.drawGradient(l,c,n,h,u,a.size,r.fill.gradient.stops,r.fill.gradient.colorStops,i)}}]),e}(),k=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],0<t.globals.markers.size.length){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map(function(){return t.config.markers.size})}},{key:"plotChartMarkers",value:function(t,e,i,n,r){var a,o=4<arguments.length&&void 0!==r&&arguments[4],s=this.w,l=e,c=t,h=null,u=new F(this.ctx);if((0<s.globals.markers.size[e]||o)&&(h=u.group({"class":o?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(c.x))for(var d=0;d<c.x.length;d++){var p=i;1===i&&0===d&&(p=0),1===i&&1===d&&(p=1);var f="apexcharts-marker";if("line"!==s.config.chart.type&&"area"!==s.config.chart.type||s.globals.comboCharts||s.config.tooltip.intersect||(f+=" no-pointer-events"),(Array.isArray(s.config.markers.size)?0<s.globals.markers.size[e]:0<s.config.markers.size)||o){P.isNumber(c.y[d])?f+=" w".concat(P.randomId()):f="apexcharts-nullpoint";var g=this.getMarkerConfig(f,e,p);s.config.series[l].data[p]&&(s.config.series[l].data[p].fillColor&&(g.pointFillColor=s.config.series[l].data[p].fillColor),s.config.series[l].data[p].strokeColor&&(g.pointStrokeColor=s.config.series[l].data[p].strokeColor)),n&&(g.pSize=n),(a=u.drawMarker(c.x[d],c.y[d],g)).attr("rel",p),a.attr("j",p),a.attr("index",e),a.node.setAttribute("default-marker-size",g.pSize),new I(this.ctx).setSelectionFilter(a,e,p),this.addEvents(a),h&&h.add(a)}else void 0===s.globals.pointsArray[e]&&(s.globals.pointsArray[e]=[]),s.globals.pointsArray[e].push([c.x[d],c.y[d]])}return h}},{key:"getMarkerConfig",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?arguments[2]:null,r=this.w,a=this.getMarkerStyle(e),o=r.globals.markers.size[e],s=r.config.markers;return null!==n&&s.discrete.length&&s.discrete.map(function(t){t.seriesIndex===e&&t.dataPointIndex===n&&(a.pointStrokeColor=t.strokeColor,a.pointFillColor=t.fillColor,o=t.size)}),{pSize:o,pRadius:s.radius,pWidth:Array.isArray(s.strokeWidth)?s.strokeWidth[e]:s.strokeWidth,pointStrokeColor:a.pointStrokeColor,
pointFillColor:a.pointFillColor,shape:Array.isArray(s.shape)?s.shape[e]:s.shape,"class":t,pointStrokeOpacity:Array.isArray(s.strokeOpacity)?s.strokeOpacity[e]:s.strokeOpacity,pointStrokeDashArray:Array.isArray(s.strokeDashArray)?s.strokeDashArray[e]:s.strokeDashArray,pointFillOpacity:Array.isArray(s.fillOpacity)?s.fillOpacity[e]:s.fillOpacity,seriesIndex:e}}},{key:"addEvents",value:function(t){var e=this.w,i=new F(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,n=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(n)?n[t]:n,pointFillColor:Array.isArray(i)?i[t]:i}}}]),e}(),w=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return o(e,[{key:"draw",value:function(t,e,i){var n=this.w,r=new F(this.ctx),a=i.realIndex,o=i.pointsPos,s=i.zRatio,l=i.elParent,c=r.group({"class":"apexcharts-series-markers apexcharts-series-".concat(n.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(o.x))for(var h=0;h<o.x.length;h++){var u=e+1,d=!0;0===e&&0===h&&(u=0),0===e&&1===h&&(u=1);var p=0,f=n.globals.markers.size[a];if(s!==1/0){f=n.globals.seriesZ[a][u]/s;var g=n.config.plotOptions.bubble;g.minBubbleRadius&&f<g.minBubbleRadius&&(f=g.minBubbleRadius),g.maxBubbleRadius&&f>g.maxBubbleRadius&&(f=g.maxBubbleRadius)}n.config.chart.animations.enabled||(p=f);var m=o.x[h],v=o.y[h];if(p=p||0,null!==v&&void 0!==n.globals.series[a][u]||(d=!1),d){var x=this.drawPoint(m,v,p,f,a,u,e);c.add(x)}l.add(c)}}},{key:"drawPoint",value:function(t,e,i,n,r,a,o){var s=this.w,l=r,c=new R(this.ctx),h=new I(this.ctx),u=new L(this.ctx),d=new k(this.ctx),p=new F(this.ctx),f=d.getMarkerConfig("apexcharts-marker",l),g=u.fillPath({seriesNumber:r,dataPointIndex:a,patternUnits:"objectBoundingBox",value:s.globals.series[r][o]}),m=p.drawCircle(i);if(s.config.series[l].data[a]&&s.config.series[l].data[a].fillColor&&(g=s.config.series[l].data[a].fillColor),m.attr({cx:t,cy:e,fill:g,stroke:f.pointStrokeColor,r:n,"stroke-width":f.pWidth,"stroke-dasharray":f.pointStrokeDashArray,"stroke-opacity":f.pointStrokeOpacity}),s.config.chart.dropShadow.enabled){var v=s.config.chart.dropShadow;h.dropShadow(m,v,r)}if(this.initialAnim&&!s.globals.dataChanged&&!s.globals.resized){var x=s.config.chart.animations.speed;c.animateCircleRadius(m,0,n,x,s.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(m)},100)})}if(s.globals.dataChanged)if(this.dynamicAnim){var b,y,w,A,C=s.config.chart.animations.dynamicAnimation.speed;null!=(A=s.globals.previousPaths[r]&&s.globals.previousPaths[r][o])&&(b=A.x,y=A.y,w=void 0!==A.r?A.r:n);for(var S=0;S<s.globals.collapsedSeries.length;S++)s.globals.collapsedSeries[S].index===r&&(C=1,n=0);0===t&&0===e&&(n=0),c.animateCircle(m,{cx:b,cy:y,r:w},{cx:t,cy:e,r:n},C,s.globals.easing)}else m.attr({r:n});return m.attr({rel:a,j:a,index:r,"default-marker-size":n}),h.setSelectionFilter(m,r,a),d.addEvents(m),m.node.classList.add("apexcharts-marker"),m}},{key:"centerTextInBubble",value:function(t){var e=this.w;return{y:t+=parseInt(e.config.dataLabels.style.fontSize,10)/4}}}]),e}(),A=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"dataLabelsCorrection",value:function(t,e,i,n,r,a,o){var s=this.w,l=!1,c=new F(this.ctx).getTextRects(i,o),h=c.width,u=c.height;void 0===s.globals.dataLabelsRects[n]&&(s.globals.dataLabelsRects[n]=[]),s.globals.dataLabelsRects[n].push({x:t,y:e,width:h,height:u});var d=s.globals.dataLabelsRects[n].length-2,p=void 0!==s.globals.lastDrawnDataLabelsIndexes[n]?s.globals.lastDrawnDataLabelsIndexes[n][s.globals.lastDrawnDataLabelsIndexes[n].length-1]:0;if(void 0!==s.globals.dataLabelsRects[n][d]){var f=s.globals.dataLabelsRects[n][p];(t>f.x+f.width+2||e>f.y+f.height+2||t+h<f.x)&&(l=!0)}return(0===r||a)&&(l=!0),{x:t,y:e,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(t,e,i,n,r){var a=this,o=4<arguments.length&&void 0!==r?arguments[4]:2,s=this.w,l=new F(this.ctx),c=s.config.dataLabels,h=0,u=0,d=i,p=null;if(!c.enabled||!Array.isArray(t.x))return p;p=l.group({"class":"apexcharts-data-labels"});for(var f=0;f<t.x.length;f++)if(h=t.x[f]+c.offsetX,u=t.y[f]+c.offsetY+o,!isNaN(h)){1===i&&0===f&&(d=0),1===i&&1===f&&(d=1);var g=s.globals.series[e][d],m="",v=function(t){return s.config.dataLabels.formatter(t,{ctx:a.ctx,seriesIndex:e,dataPointIndex:d,w:s})};if("bubble"===s.config.chart.type)m=v(g=s.globals.seriesZ[e][d]),u=t.y[f],u=new w(this.ctx).centerTextInBubble(u,e,d).y;else void 0!==g&&(m=v(g));this.plotDataLabelsText({x:h,y:u,text:m,i:e,j:d,parent:p,offsetCorrection:!0,dataLabelsConfig:s.config.dataLabels})}return p}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new F(this.ctx),n=t.x,r=t.y,a=t.i,o=t.j,s=t.text,l=t.textAnchor,c=t.fontSize,h=t.parent,u=t.dataLabelsConfig,d=t.color,p=t.alwaysDrawDataLabel,f=t.offsetCorrection;if(!(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(a)<0)){var g={x:n,y:r,drawnextLabel:!0};f&&(g=this.dataLabelsCorrection(n,r,s,a,o,p,parseInt(u.style.fontSize,10))),e.globals.zoomed||(n=g.x,r=g.y),g.textRects;var m=e.globals.dataLabels.style.colors[a];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(m=e.globals.dataLabels.style.colors[o]),d&&(m=d);var v=u.offsetX,x=u.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(x=v=0),g.drawnextLabel){var b=i.drawText({width:100,height:parseInt(u.style.fontSize,10),x:n+v,y:r+x,foreColor:m,textAnchor:l||u.textAnchor,text:s,fontSize:c||u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight||"normal"});if(b.attr({"class":"apexcharts-datalabel",cx:n,cy:r}),u.dropShadow.enabled){var y=u.dropShadow;new I(this.ctx).dropShadow(b,y)}h.add(b),void 0===e.globals.lastDrawnDataLabelsIndexes[a]&&(e.globals.lastDrawnDataLabelsIndexes[a]=[]),e.globals.lastDrawnDataLabelsIndexes[a].push(o)}}}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,n=i.config.dataLabels.background,r=n.padding,a=n.padding/2,o=e.width,s=e.height,l=new F(this.ctx).drawRect(e.x-r,e.y-a/2,o+2*r,s+a,n.borderRadius,"transparent"===i.config.chart.background?"#fff":i.config.chart.background,n.opacity,n.borderWidth,n.borderColor);return n.dropShadow.enabled&&new I(this.ctx).dropShadow(l,n.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var n=e[i],r=n.getBBox(),a=null;if(r.width&&r.height&&(a=this.addBackgroundToDataLabel(n,r)),a){n.parentNode.insertBefore(a.node,n);var o=n.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?a.attr({fill:o}):a.animate().attr({fill:o}),n.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),n=0;n<e.length;n++)i&&i.insertBefore(e[n],i.nextSibling)}}]),e}(),T=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t}return o(e,[{key:"handleBarDataLabels",value:function(t){var e=t.x,i=t.y,n=t.y1,r=t.y2,a=t.i,o=t.j,s=t.realIndex,l=t.series,c=t.barHeight,h=t.barWidth,u=t.barYPosition,d=t.visibleSeries,p=t.renderedPath,f=this.w,g=new F(this.barCtx.ctx),m=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth,v=e+parseFloat(h*d),x=i+parseFloat(c*d);f.globals.isXNumeric&&!f.globals.isBarHorizontal&&(v=e+parseFloat(h*(d+1)),x=i+parseFloat(c*(d+1))-m);var b=e,y=i,w={},A=f.config.dataLabels,C=this.barCtx.barOptions.dataLabels;void 0!==u&&this.barCtx.isTimelineBar&&(y=x=u);var S=A.offsetX,k=A.offsetY,T={width:0,height:0};if(f.config.dataLabels.enabled){var D=this.barCtx.series[a][o];T=g.getTextRects(f.globals.yLabelFormatters[0](D),parseFloat(A.style.fontSize))}var L={x:e,y:i,i:a,j:o,renderedPath:p,bcx:v,bcy:x,barHeight:c,barWidth:h,textRects:T,strokeWidth:m,dataLabelsX:b,dataLabelsY:y,barDataLabelsConfig:C,offX:S,offY:k};return w=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(L):this.calculateColumnsDataLabelsPosition(L),p.attr({cy:w.bcy,cx:w.bcx,j:o,val:l[a][o],barHeight:c,barWidth:h}),this.drawCalculatedDataLabels({x:w.dataLabelsX,y:w.dataLabelsY,val:this.barCtx.isTimelineBar?[n,r]:l[a][o],i:s,j:o,barWidth:h,barHeight:c,textRects:T,dataLabelsConfig:A})}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var e,i=this.w,n=t.i,r=t.j,a=t.y,o=t.bcx,s=t.barWidth,l=t.barHeight,c=t.textRects,h=t.dataLabelsY,u=t.barDataLabelsConfig,d=t.strokeWidth,p=t.offX,f=t.offY;l=Math.abs(l);var g="vertical"===i.config.plotOptions.bar.dataLabels.orientation;o-=d/2;var m=i.globals.gridWidth/i.globals.dataPoints;e=i.globals.isXNumeric?o-s/2+p:o-m+s/2+p,g&&(e=e+c.height/2-d/2-2);var v=this.barCtx.series[n][r]<0,x=a;switch(this.barCtx.isReversed&&(x=a-l+(v?2*l:0),a-=l),u.position){case"center":h=g?v?x+l/2+f:x+l/2-f:v?x-l/2+c.height/2+f:x+l/2+c.height/2-f;break;case"bottom":h=g?v?x+l+f:x+l-f:v?x-l+c.height+d+f:x+l-c.height/2+d-f;break;case"top":h=g?v?x+f:x-f:v?x-c.height/2-f:x+c.height+f}return i.config.chart.stacked||(h<0?h=0+d:h+c.height/3>i.globals.gridHeight&&(h=i.globals.gridHeight-d)),{bcx:o,bcy:a,dataLabelsX:e,dataLabelsY:h}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,n=t.i,r=t.j,a=t.bcy,o=t.barHeight,s=t.barWidth,l=t.textRects,c=t.dataLabelsX,h=t.strokeWidth,u=t.barDataLabelsConfig,d=t.offX,p=t.offY,f=e.globals.gridHeight/e.globals.dataPoints;s=Math.abs(s);var g=a-(this.barCtx.isTimelineBar?0:f)+o/2+l.height/2+p-3,m=this.barCtx.series[n][r]<0,v=i;switch(this.barCtx.isReversed&&(v=i+s-(m?2*s:0),i=e.globals.gridWidth-s),u.position){case"center":c=m?v+s/2-d:Math.max(l.width/2,v-s/2)+d;break;case"bottom":c=m?v+s-h-Math.round(l.width/2)-d:v-s+h+Math.round(l.width/2)+d;break;case"top":c=m?v-h+Math.round(l.width/2)-d:v-h-Math.round(l.width/2)+d}return e.config.chart.stacked||(c<0?c=c+l.width+h:c+l.width/2>e.globals.gridWidth&&(c=e.globals.gridWidth-l.width-h)),{bcx:i,bcy:a,dataLabelsX:c,dataLabelsY:g}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,n=t.val,r=t.i,a=t.j,o=t.textRects,s=t.barHeight,l=t.barWidth,c=t.dataLabelsConfig,h=this.w,u="rotate(0)";"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&(u="rotate(-90, ".concat(e,", ").concat(i,")"));var d=new A(this.barCtx.ctx),p=new F(this.barCtx.ctx),f=c.formatter,g=null,m=-1<h.globals.collapsedSeriesIndices.indexOf(r);if(c.enabled&&!m){g=p.group({"class":"apexcharts-data-labels",transform:u});var v="";void 0!==n&&(v=f(n,{seriesIndex:r,dataPointIndex:a,w:h})),0===n&&h.config.chart.stacked&&(v="");var x=h.globals.series[r][a]<=0,b=h.config.plotOptions.bar.dataLabels.position;"vertical"===h.config.plotOptions.bar.dataLabels.orientation&&("top"===b&&(c.textAnchor=x?"end":"start"),"center"===b&&(c.textAnchor="middle"),"bottom"===b&&(c.textAnchor=x?"end":"start")),this.barCtx.isTimelineBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<p.getTextRects(v,parseFloat(c.style.fontSize)).width&&(v=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?(0<l&&o.width/1.6>l||l<0&&o.width/1.6<l)&&(v=""):o.height/1.6>s&&(v=""));var y=_({},c);this.barCtx.isHorizontal&&n<0&&("start"===c.textAnchor?y.textAnchor="end":"end"===c.textAnchor&&(y.textAnchor="start")),d.plotDataLabelsText({x:e,y:i,text:v,i:r,j:a,parent:g,dataLabelsConfig:y,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return g}}]),e}(),S=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return o(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(P.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(i,n){function t(t){for(var e=0;e<t.length;e++)t[e].index===n&&i.node.classList.add("apexcharts-series-collapsed")}var e=this.w;t(e.globals.collapsedSeries),t(e.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(t,e,i){var n=!(0<arguments.length&&void 0!==t)||arguments[0],r=!(1<arguments.length&&void 0!==e)||arguments[1],a=!(2<arguments.length&&void 0!==i)||arguments[2],o=this.w,s=P.clone(o.globals.initialSeries);o.globals.previousPaths=[],a?(o.globals.collapsedSeries=[],o.globals.ancillaryCollapsedSeries=[],o.globals.collapsedSeriesIndices=[],o.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),o.config.series=s,n&&(r&&(o.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,o.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)-1<e.globals.collapsedSeriesIndices.indexOf(i)&&(t[i].data=[]);return t}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w,n=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1,a=null,o=null;i.globals.axisCharts||"radialBar"===i.config.chart.type?i.globals.axisCharts?(a=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"))):a=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']")):a=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var s=0;s<n.length;s++)n[s].classList.add(this.legendInactiveClass);null!==a&&(i.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),null!==o&&o.classList.remove(this.legendInactiveClass))}else if("mouseout"===t.type)for(var l=0;l<n.length;l++)n[l].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var n=this,i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(t){for(var e=0;e<r.length;e++)r[e].classList[t](n.legendInactiveClass)};if("mousemove"===t.type){var o=parseInt(e.getAttribute("rel"),10)-1;a("add"),function(t){for(var e=0;e<r.length;e++){var i=parseInt(r[e].getAttribute("val"),10);i>=t.from&&i<=t.to&&r[e].classList.remove(n.legendInactiveClass)}}(i.config.plotOptions.heatmap.colorScale.ranges[o])}else"mouseout"===t.type&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(t){var n=0<arguments.length&&void 0!==t&&arguments[0],r=this.w,e=0;if(1<r.config.series.length)for(var i=r.config.series.map(function(t,e){var i=!1;return n&&(i="bar"===r.config.series[e].type||"column"===r.config.series[e].type),t.data&&0<t.data.length&&!i?e:-1}),a=0;a<i.length;a++)if(-1!==i[a]){e=i[a];break}return e}},{key:"getPreviousPaths",value:function(){function r(t,e,i){for(var n=t[e].childNodes,r={type:i,paths:[],realIndex:t[e].getAttribute("data:realIndex")},a=0;a<n.length;a++)if(n[a].hasAttribute("pathTo")){var o=n[a].getAttribute("pathTo");r.paths.push({d:o})}s.globals.previousPaths.push(r)}var s=this.w;s.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(t){for(var e,i=(e=t,s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"))),n=0;n<i.length;n++)r(i,n,t)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var t=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s.config.chart.type," .apexcharts-series"));if(0<t.length)for(var e=function(t){for(var n=s.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),r=[],e=function(e){var t=function(t){return n[e].getAttribute(t)},i={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};r.push({rect:i,color:n[e].getAttribute("color")})},i=0;i<n.length;i++)e(i);s.globals.previousPaths.push(r)},i=0;i<t.length;i++)e(i);s.globals.axisCharts||(s.globals.previousPaths=s.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(0<i.length)for(var n=0;n<i.length;n++){for(var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(n,"'] circle")),a=[],o=0;o<r.length;o++)a.push({x:r[o].getAttribute("cx"),y:r[o].getAttribute("cy"),r:r[o].getAttribute("r")});e.globals.previousPaths.push(a)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new F(this.ctx),n=t.globals.svgWidth/2,r=t.globals.svgHeight/2,a="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(n=10,a="start"):"right"===e.align&&(n=t.globals.svgWidth-10,a="end"),"top"===e.verticalAlign?r=50:"bottom"===e.verticalAlign&&(r=t.globals.svgHeight-50),n+=e.offsetX,r=r+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var o=i.drawText({x:n,y:r,text:e.text,textAnchor:a,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,"class":"apexcharts-text-nodata"});t.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var n=0;n<t[e.globals.maxValsInArrayIndex].length;n++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),n=0;n<i.length-1;n++)if(i[n][0]!==i[n+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(t){return 0<t.length?t:[]})}}]),e}(),E=function(){function e(t){a(this,e),this.w=t.w,this.barCtx=t}return o(e,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(0<t[i].length&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var n=0;n<t[i].length;n++)e.globals.seriesX[i][n]>e.globals.minX&&e.globals.seriesX[i][n]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1)}},{key:"initialPositions",value:function(){var t,e,i,n,r,a,o,s,l=this.w,c=l.globals.dataPoints;this.barCtx.isTimelineBar&&(c=l.globals.labels.length);var h=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)r=(i=l.globals.gridHeight/c)/h,l.globals.isXNumeric&&(r=(i=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,s=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),e=(i-r*this.barCtx.seriesLen)/2;else{if(n=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(n=l.globals.gridWidth/l.globals.dataPoints),a=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var u=this.barCtx.xRatio;l.config.xaxis.convertedCatToNumeric&&(u=this.barCtx.initialXRatio),l.globals.minXDiff&&.5!==l.globals.minXDiff&&0<l.globals.minXDiff/u&&(n=l.globals.minXDiff/u),(a=n/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}o=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),t=l.globals.padHorizontal+(n-a*this.barCtx.seriesLen)/2}return{x:t,y:e,yDivision:i,xDivision:n,barHeight:r,barWidth:a,zeroH:o,zeroW:s}}},{key:"getPathFillColor",value:function(e,i,n,t){var r=this.w,a=new L(this.barCtx.ctx),o=null,s=this.barCtx.barOptions.distributed?n:i;return 0<this.barCtx.barOptions.colors.ranges.length&&this.barCtx.barOptions.colors.ranges.map(function(t){e[i][n]>=t.from&&e[i][n]<=t.to&&(o=t.color)}),r.config.series[i].data[n]&&r.config.series[i].data[n].fillColor&&(o=r.config.series[i].data[n].fillColor),a.fillPath({seriesNumber:this.barCtx.barOptions.distributed?s:t,dataPointIndex:n,color:o,value:e[i][n]})}},{key:"getStrokeWidth",value:function(t,e,i){var n=0,r=this.w;return void 0===this.barCtx.series[t][e]||null===this.barCtx.series[t][e]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(n=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),n}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,n=t.x1,r=t.x2,a=t.y1,o=t.y2,s=t.elSeries,l=this.w,c=new F(this.barCtx.ctx),h=new S(this.barCtx.ctx).getActiveConfigSeriesIndex();if(0<this.barCtx.barOptions.colors.backgroundBarColors.length&&h===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e-=this.barCtx.barOptions.colors.backgroundBarColors.length);var u=this.barCtx.barOptions.colors.backgroundBarColors[e],d=c.drawRect(void 0!==n?n:0,void 0!==a?a:0,void 0!==r?r:l.globals.gridWidth,void 0!==o?o:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,u,this.barCtx.barOptions.colors.backgroundBarOpacity);s.add(d),d.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e=t.barWidth,i=t.barXPosition,n=t.yRatio,r=t.y1,a=t.y2,o=t.strokeWidth,s=t.series,l=t.realIndex,c=t.i,h=t.j,u=t.w,d=new F(this.barCtx.ctx);(o=Array.isArray(o)?o[l]:o)||(o=0);var p={barWidth:e,strokeWidth:o,yRatio:n,barXPosition:i,y1:r,y2:a},f=this.getRoundedBars(u,p,s,c,h),g=i,m=i+e,v=d.move(g,f.y1),x=d.move(g,f.y1);return 0<u.globals.previousPaths.length&&(x=this.barCtx.getPreviousPath(l,h,!1)),{pathTo:v=v+d.line(g,f.y2)+f.endingPath+d.line(m-o,f.y2)+d.line(m-o,f.y1)+f.startingPath+"z",pathFrom:x=x+d.line(g,r)+d.line(m-o,r)+d.line(m-o,r)+d.line(m-o,r)+d.line(g,r)}}},{key:"getBarpaths",value:function(t){var e=t.barYPosition,i=t.barHeight,n=t.x1,r=t.x2,a=t.strokeWidth,o=t.series,s=t.realIndex,l=t.i,c=t.j,h=t.w,u=new F(this.barCtx.ctx);(a=Array.isArray(a)?a[s]:a)||(a=0);var d={barHeight:i,strokeWidth:a,barYPosition:e,x2:r,x1:n},p=this.getRoundedBars(h,d,o,l,c),f=u.move(p.x1,e),g=u.move(p.x1,e);0<h.globals.previousPaths.length&&(g=this.barCtx.getPreviousPath(s,c,!1));var m=e,v=e+i;return{pathTo:f=f+u.line(p.x2,m)+p.endingPath+u.line(p.x2,v-a)+u.line(p.x1,v-a)+p.startingPath+"z",pathFrom:g=g+u.line(n,m)+u.line(n,v-a)+u.line(n,v-a)+u.line(n,v-a)+u.line(n,m)}}},{key:"getRoundedBars",value:function(t,e,i,n,r){var a=new F(this.barCtx.ctx),o=Array.isArray(e.strokeWidth)?e.strokeWidth[n]:e.strokeWidth;if(o||(o=0),this.barCtx.isHorizontal){var s=null,l="",c=e.x2,h=e.x1;if(void 0!==i[n][r]||null!==i[n][r]){var u=i[n][r]<0,d=e.barHeight/2-o;switch(u&&(d=-e.barHeight/2-o),d>Math.abs(c-h)&&(d=Math.abs(c-h)),"rounded"===this.barCtx.barOptions.endingShape&&(c=e.x2-d/2),"rounded"===this.barCtx.barOptions.startingShape&&(h=e.x1+d/2),this.barCtx.barOptions.endingShape){case"flat":s=a.line(c,e.barYPosition+e.barHeight-o);break;case"rounded":s=a.quadraticCurve(c+d,e.barYPosition+(e.barHeight-o)/2,c,e.barYPosition+e.barHeight-o)}switch(this.barCtx.barOptions.startingShape){case"flat":l=a.line(h,e.barYPosition+e.barHeight-o);break;case"rounded":l=a.quadraticCurve(h-d,e.barYPosition+e.barHeight/2,h,e.barYPosition)}}return{endingPath:s,startingPath:l,x2:c,x1:h}}var p=null,f="",g=e.y2,m=e.y1;if(void 0!==i[n][r]||null!==i[n][r]){var v=i[n][r]<0,x=e.barWidth/2-o;switch(v&&(x=-e.barWidth/2-o),x>Math.abs(g-m)&&(x=Math.abs(g-m)),"rounded"===this.barCtx.barOptions.endingShape&&(g+=x/2),"rounded"===this.barCtx.barOptions.startingShape&&(m-=x/2),this.barCtx.barOptions.endingShape){case"flat":p=a.line(e.barXPosition+e.barWidth-o,g);break;case"rounded":p=a.quadraticCurve(e.barXPosition+(e.barWidth-o)/2,g-x,e.barXPosition+e.barWidth-o,g)}switch(this.barCtx.barOptions.startingShape){case"flat":f=a.line(e.barXPosition+e.barWidth-o,m);break;case"rounded":f=a.quadraticCurve(e.barXPosition+(e.barWidth-o)/2,m+x,e.barXPosition,m)}}return{endingPath:p,startingPath:f,y2:g,y1:m}}}]),e}(),M=function(){function n(t,e){a(this,n),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isTimelineBar="datetime"===i.config.xaxis.type&&i.globals.seriesRangeBarTimeline.length,this.xyRatios=e,null!==this.xyRatios&&(this.xRatio=e.xRatio,this.initialXRatio=e.initialXRatio,this.yRatio=e.yRatio,this.invertedXRatio=e.invertedXRatio,this.invertedYRatio=e.invertedYRatio,this.baseLineY=e.baseLineY,this.baseLineInvertedY=e.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new E(this)}return o(n,[{key:"draw",value:function(t,e){var i=this.w,n=new F(this.ctx),r=new D(this.ctx,i);t=r.getLogSeries(t),this.series=t,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var a=n.group({"class":"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var o=0,s=0;o<t.length;o++,s++){var l,c,h,u,d=void 0,p=void 0,f=[],g=[],m=i.globals.comboCharts?e[o]:o,v=n.group({"class":"apexcharts-series",rel:o+1,seriesName:P.escapeString(i.globals.seriesNames[m]),"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(v,m),0<t[o].length&&(this.visibleI=this.visibleI+1);var x=0,b=0;1<this.yRatio.length&&(this.yaxisIndex=m),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var y=this.barHelpers.initialPositions();p=y.y,x=y.barHeight,c=y.yDivision,u=y.zeroW,d=y.x,b=y.barWidth,l=y.xDivision,h=y.zeroH,this.horizontal||g.push(d+b/2);for(var w=n.group({"class":"apexcharts-datalabels","data:realIndex":m}),A=0;A<i.globals.dataPoints;A++){var C=this.barHelpers.getStrokeWidth(o,A,m),S=null,k={indexes:{i:o,j:A,realIndex:m,bc:s},x:d,y:p,strokeWidth:C,elSeries:v};this.isHorizontal?(S=this.drawBarPaths(_(_({},k),{},{barHeight:x,zeroW:u,yDivision:c})),b=this.series[o][A]/this.invertedYRatio):(S=this.drawColumnPaths(_(_({},k),{},{xDivision:l,barWidth:b,zeroH:h})),x=this.series[o][A]/this.yRatio[this.yaxisIndex]),p=S.y,d=S.x,0<A&&g.push(d+b/2),f.push(p);var T=this.barHelpers.getPathFillColor(t,o,A,m);this.renderSeries({realIndex:m,pathFill:T,j:A,i:o,pathFrom:S.pathFrom,pathTo:S.pathTo,strokeWidth:C,elSeries:v,x:d,y:p,series:t,barHeight:x,barWidth:b,elDataLabelsWrap:w,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[m]=g,i.globals.seriesYvalues[m]=f,a.add(v)}return a}},{key:"renderSeries",value:function(t){var e=t.realIndex,i=t.pathFill,n=t.lineFill,r=t.j,a=t.i,o=t.pathFrom,s=t.pathTo,l=t.strokeWidth,c=t.elSeries,h=t.x,u=t.y,d=t.y1,p=t.y2,f=t.series,g=t.barHeight,m=t.barWidth,v=t.barYPosition,x=t.elDataLabelsWrap,b=t.visibleSeries,y=t.type,w=this.w,A=new F(this.ctx);n||(n=this.barOptions.distributed?w.globals.stroke.colors[r]:w.globals.stroke.colors[e]),w.config.series[a].data[r]&&w.config.series[a].data[r].strokeColor&&(n=w.config.series[a].data[r].strokeColor),this.isNullValue&&(i="none");var C=r/w.config.chart.animations.animateGradually.delay*(w.config.chart.animations.speed/w.globals.dataPoints)/2.4,S=A.renderPaths({i:a,j:r,realIndex:e,pathFrom:o,pathTo:s,stroke:n,strokeWidth:l,strokeLineCap:w.config.stroke.lineCap,fill:i,animationDelay:C,initialSpeed:w.config.chart.animations.speed,dataChangeSpeed:w.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(y,"-area")});S.attr("clip-path","url(#gridRectMask".concat(w.globals.cuid,")")),void 0!==d&&void 0!==p&&(S.attr("data-range-y1",d),S.attr("data-range-y2",p)),new I(this.ctx).setSelectionFilter(S,e,r),c.add(S);var k=new T(this).handleBarDataLabels({x:h,y:u,y1:d,y2:p,i:a,j:r,series:f,realIndex:e,barHeight:g,barWidth:m,barYPosition:v,renderedPath:S,visibleSeries:b});return null!==k&&x.add(k),c.add(x),c}},{key:"drawBarPaths",value:function(t){var e=t.indexes,i=t.barHeight,n=t.strokeWidth,r=t.zeroW,a=t.x,o=t.y,s=t.yDivision,l=t.elSeries,c=this.w,h=e.i,u=e.j;c.globals.isXNumeric&&(o=(c.globals.seriesX[h][u]-c.globals.minX)/this.invertedXRatio-i);var d=o+i*this.visibleI;a=void 0===this.series[h][u]||null===this.series[h][u]?r:r+this.series[h][u]/this.invertedYRatio-2*(this.isReversed?this.series[h][u]/this.invertedYRatio:0);var p=this.barHelpers.getBarpaths({barYPosition:d,barHeight:i,x1:r,x2:a,strokeWidth:n,series:this.series,realIndex:e.realIndex,i:h,j:u,w:c});return c.globals.isXNumeric||(o+=s),this.barHelpers.barBackground({j:u,i:h,y1:d-i*this.visibleI,y2:i*this.seriesLen,elSeries:l}),{pathTo:p.pathTo,pathFrom:p.pathFrom,x:a,y:o,barYPosition:d}}},{key:"drawColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=t.y,r=t.xDivision,a=t.barWidth,o=t.zeroH,s=t.strokeWidth,l=t.elSeries,c=this.w,h=e.realIndex,u=e.i,d=e.j,p=e.bc;if(c.globals.isXNumeric){var f=h;c.globals.seriesX[h].length||(f=c.globals.maxValsInArrayIndex),i=(c.globals.seriesX[f][d]-c.globals.minX)/this.xRatio-a*this.seriesLen/2}var g=i+a*this.visibleI;n=void 0===this.series[u][d]||null===this.series[u][d]?o:o-this.series[u][d]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[u][d]/this.yRatio[this.yaxisIndex]:0);var m=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:a,y1:o,y2:n,strokeWidth:s,series:this.series,realIndex:e.realIndex,i:u,j:d,w:c});return c.globals.isXNumeric||(i+=r),this.barHelpers.barBackground({bc:p,j:d,i:u,x1:g-s/2-a*this.visibleI,x2:a*this.seriesLen+s/2,elSeries:l}),{pathTo:m.pathTo,pathFrom:m.pathFrom,x:i,y:n,barXPosition:g}}},{key:"getPreviousPath",value:function(t,e){for(var i,n=this.w,r=0;r<n.globals.previousPaths.length;r++){var a=n.globals.previousPaths[r];a.paths&&0<a.paths.length&&parseInt(a.realIndex,10)===parseInt(t,10)&&void 0!==n.globals.previousPaths[r].paths[e]&&(i=n.globals.previousPaths[r].paths[e].d)}return i}}]),n}(),O=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return o(e,[{key:"isValidDate",value:function(t){return!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){function i(t,e){var i=t+""
;for(e=e||2;i.length<e;)i="0"+i;return i}var n=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,a=["\0"].concat(C(n.months)),o=["\x01"].concat(C(n.shortMonths)),s=["\x02"].concat(C(n.days)),l=["\x03"].concat(C(n.shortDays)),c=r?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var h=(r?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+a[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+i(h))).replace(/(^|[^\\])M/g,"$1"+h);var u=r?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+s[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+i(u))).replace(/(^|[^\\])d/g,"$1"+u);var d=r?t.getUTCHours():t.getHours(),p=12<d?d-12:0===d?12:d;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+i(d))).replace(/(^|[^\\])H/g,"$1"+d)).replace(/(^|[^\\])hh+/g,"$1"+i(p))).replace(/(^|[^\\])h/g,"$1"+p);var f=r?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+i(f))).replace(/(^|[^\\])m/g,"$1"+f);var g=r?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+i(g))).replace(/(^|[^\\])s/g,"$1"+g);var m=r?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+i(m,3)),m=Math.round(m/10),e=e.replace(/(^|[^\\])ff/g,"$1"+i(m)),m=Math.round(m/10);var v=d<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+m)).replace(/(^|[^\\])TT+/g,"$1"+v)).replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var x=v.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+x)).replace(/(^|[^\\])t/g,"$1"+x.charAt(0));var b=-t.getTimezoneOffset(),y=r||!b?"Z":0<b?"+":"-";if(!r){var w=(b=Math.abs(b))%60;y+=i(Math.floor(b/60))+":"+i(w)}e=e.replace(/(^|[^\\])K/g,"$1"+y);var A=(r?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(s[0],"g"),s[A])).replace(new RegExp(l[0],"g"),l[A])).replace(new RegExp(a[0],"g"),a[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e){var i=this.w;void 0!==i.config.xaxis.min&&(t=i.config.xaxis.min),void 0!==i.config.xaxis.max&&(e=i.config.xaxis.max);var n=this.getDate(t),r=this.getDate(e),a=this.formatDate(n,"yyyy MM dd HH mm ss").split(" "),o=this.formatDate(r,"yyyy MM dd HH mm ss").split(" ");return{minSecond:parseInt(a[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(a[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(a[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(a[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(a[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(a[0],10),maxYear:parseInt(o[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var n=this.daysCntOfYear[e]+i;return 1<e&&this.isLeapYear()&&n++,n}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=P.monthMod(t),!0){case-1<this.months30.indexOf(t):2===t&&(i=this.isLeapYear(e)?29:28);break;case-1<this.months31.indexOf(t):default:i=31}return i}}]),e}(),N=function(){function t(){return a(this,t),e.apply(this,arguments)}l(t,M);var e=u(t);return o(t,[{key:"draw",value:function(t,e){var i=this.w,n=new F(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=t,this.seriesRangeStart=i.globals.seriesRangeStart,this.seriesRangeEnd=i.globals.seriesRangeEnd,this.barHelpers.initVariables(t);for(var r=n.group({"class":"apexcharts-rangebar-series apexcharts-plot-series"}),a=0;a<t.length;a++){var o,s,l,c=void 0,h=void 0,u=void 0,d=i.globals.comboCharts?e[a]:a,p=n.group({"class":"apexcharts-series",seriesName:P.escapeString(i.globals.seriesNames[d]),rel:a+1,"data:realIndex":d});0<t[a].length&&(this.visibleI=this.visibleI+1);var f=0,g=0;1<this.yRatio.length&&(this.yaxisIndex=d);var m=this.barHelpers.initialPositions();h=m.y,l=m.zeroW,c=m.x,g=m.barWidth,o=m.xDivision,s=m.zeroH;for(var v=n.group({"class":"apexcharts-datalabels","data:realIndex":d}),x=0;x<i.globals.dataPoints;x++){var b=this.barHelpers.getStrokeWidth(a,x,d),y=this.seriesRangeStart[a][x],w=this.seriesRangeEnd[a][x],A=null,C=null,S={x:c,y:h,strokeWidth:b,elSeries:p};if(u=m.yDivision,f=m.barHeight,this.isHorizontal){C=h+f*this.visibleI;var k=this.seriesLen;i.config.plotOptions.bar.rangeBarGroupRows&&(k=1);var T=(u-f*k)/2;if(void 0===i.config.series[a].data[x])break;if(this.isTimelineBar&&i.config.series[a].data[x].x){var D=this.detectOverlappingBars({i:a,j:x,barYPosition:C,srty:T,barHeight:f,yDivision:u,initPositions:m});f=D.barHeight,C=D.barYPosition}g=(A=this.drawRangeBarPaths(_({indexes:{i:a,j:x,realIndex:d},barHeight:f,barYPosition:C,zeroW:l,yDivision:u,y1:y,y2:w},S))).barWidth}else f=(A=this.drawRangeColumnPaths(_({indexes:{i:a,j:x,realIndex:d},zeroH:s,barWidth:g,xDivision:o},S))).barHeight;h=A.y,c=A.x;var L=this.barHelpers.getPathFillColor(t,a,x,d),E=i.globals.stroke.colors[d];this.renderSeries({realIndex:d,pathFill:L,lineFill:E,j:x,i:a,x:c,y:h,y1:y,y2:w,pathFrom:A.pathFrom,pathTo:A.pathTo,strokeWidth:b,elSeries:p,series:t,barHeight:f,barYPosition:C,barWidth:g,elDataLabelsWrap:v,visibleSeries:this.visibleI,type:"rangebar"})}r.add(p)}return r}},{key:"detectOverlappingBars",value:function(t){var e=t.i,i=t.j,n=t.barYPosition,r=t.srty,a=t.barHeight,o=t.yDivision,s=t.initPositions,l=this.w,c=[],h=l.config.series[e].data[i].rangeName,u=l.config.series[e].data[i].x,d=l.globals.labels.indexOf(u),p=l.globals.seriesRangeBarTimeline[e].findIndex(function(t){return t.x===u&&0<t.overlaps.length});return n=l.config.plotOptions.bar.rangeBarGroupRows?r+o*d:r+a*this.visibleI+o*d,-1<p&&!l.config.plotOptions.bar.rangeBarOverlap&&-1<(c=l.globals.seriesRangeBarTimeline[e][p].overlaps).indexOf(h)&&(n=(a=s.barHeight/c.length)*this.visibleI+o*(100-parseInt(this.barOptions.barHeight,10))/100/2+a*(this.visibleI+c.indexOf(h))+o*d),{barYPosition:n,barHeight:a}}},{key:"drawRangeColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=(t.strokeWidth,t.xDivision),r=t.barWidth,a=t.zeroH,o=this.w,s=e.i,l=e.j,c=this.yRatio[this.yaxisIndex],h=e.realIndex,u=this.getRangeValue(h,l),d=Math.min(u.start,u.end),p=Math.max(u.start,u.end);o.globals.isXNumeric&&(i=(o.globals.seriesX[s][l]-o.globals.minX)/this.xRatio-r/2);var f=i+r*this.visibleI;void 0===this.series[s][l]||null===this.series[s][l]?d=a:(d=a-d/c,p=a-p/c);var g=Math.abs(p-d),m=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:r,y1:d,y2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:e.realIndex,i:h,j:l,w:o});return o.globals.isXNumeric||(i+=n),{pathTo:m.pathTo,pathFrom:m.pathFrom,barHeight:g,x:i,y:p,barXPosition:f}}},{key:"drawRangeBarPaths",value:function(t){var e=t.indexes,i=t.y,n=t.y1,r=t.y2,a=t.yDivision,o=t.barHeight,s=t.barYPosition,l=t.zeroW,c=this.w,h=l+n/this.invertedYRatio,u=l+r/this.invertedYRatio,d=Math.abs(u-h),p=this.barHelpers.getBarpaths({barYPosition:s,barHeight:o,x1:h,x2:u,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:e.realIndex,realIndex:e.realIndex,j:e.j,w:c});return c.globals.isXNumeric||(i+=a),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:d,x:u,y:i}}},{key:"getRangeValue",value:function(t,e){var i=this.w;return{start:i.globals.seriesRangeStart[t][e],end:i.globals.seriesRangeEnd[t][e]}}},{key:"getTooltipValues",value:function(t){var e=t.ctx,i=t.seriesIndex,n=t.dataPointIndex,r=t.y1,a=t.y2,o=t.w,s=o.globals.seriesRangeStart[i][n],l=o.globals.seriesRangeEnd[i][n],c=o.globals.labels[n],h=o.config.series[i].name?o.config.series[i].name:"",u=o.config.tooltip.y.formatter,d=o.config.tooltip.y.title.formatter,p={w:o,seriesIndex:i,dataPointIndex:n};"function"==typeof d&&(h=d(h,p)),r&&a&&(s=r,l=a,o.config.series[i].data[n].x&&(c=o.config.series[i].data[n].x+":"),"function"==typeof u&&(c=u(c,p)));var f="",g="",m=o.globals.colors[i];if(void 0===o.config.tooltip.x.formatter)if("datetime"===o.config.xaxis.type){var v=new O(e);f=v.formatDate(v.getDate(s),o.config.tooltip.x.format),g=v.formatDate(v.getDate(l),o.config.tooltip.x.format)}else f=s,g=l;else f=o.config.tooltip.x.formatter(s),g=o.config.tooltip.x.formatter(l);return{start:s,end:l,startVal:f,endVal:g,ylabel:c,color:m,seriesName:h}}},{key:"buildCustomTooltipHTML",value:function(t){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t.color+'">'+(t.seriesName||"")+'</span></div><div> <span class="category">'+t.ylabel+' </span> <span class="value start-value">'+t.start+'</span> <span class="separator">-</span> <span class="value end-value">'+t.end+"</span></div></div>"}}]),t}(),z=function(){function e(t){a(this,e),this.opts=t}return o(e,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,P.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var e=t.seriesIndex,i=t.dataPointIndex,n=t.w;return'<div class="apexcharts-tooltip-candlestick"><div>Open: <span class="value">'+n.globals.seriesCandleO[e][i]+'</span></div><div>High: <span class="value">'+n.globals.seriesCandleH[e][i]+'</span></div><div>Low: <span class="value">'+n.globals.seriesCandleL[e][i]+'</span></div><div>Close: <span class="value">'+n.globals.seriesCandleC[e][i]+"</span></div></div>"}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){e.ctx;var i=e.seriesIndex,n=e.dataPointIndex,r=e.w,a=r.globals.seriesRangeStart[i][n];return r.globals.seriesRangeEnd[i][n]-a},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?(h=new N((c=t).ctx,null),u=h.getTooltipValues(c),d=u.color,p=u.seriesName,f=u.ylabel,g=u.startVal,m=u.endVal,h.buildCustomTooltipHTML({color:d,seriesName:p,ylabel:f,start:g,end:m})):(i=new N((e=t).ctx,null),n=i.getTooltipValues(e),r=n.color,a=n.seriesName,o=n.ylabel,s=n.start,l=n.end,i.buildCustomTooltipHTML({color:r,seriesName:a,ylabel:o,start:s,end:l}));var e,i,n,r,a,o,s,l,c,h,u,d,p,f,g,m}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(t){return P.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(i){i.dataLabels=i.dataLabels||{},i.dataLabels.formatter=i.dataLabels.formatter||void 0;var t=i.dataLabels.formatter;return i.yaxis.forEach(function(t,e){i.yaxis[e].min=0,i.yaxis[e].max=100}),"bar"===i.chart.type&&(i.dataLabels.formatter=t||function(t){return"number"==typeof t&&t?t.toFixed(0)+"%":t}),i}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(t){return P.isNumber(t)?Math.floor(t):t};var n=t.xaxis.labels.formatter,r=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(r=i.map(function(t){return Array.isArray(t)?t:String(t)})),r&&r.length&&(t.xaxis.labels.formatter=function(t){return P.isNumber(t)?n(r[Math.floor(t)-1]):n(t)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}}]),e}(),B=function(){function e(t){a(this,e),this.opts=t}return o(e,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,n=new x,r=new z(i);this.chartType=i.chart.type,"histogram"===this.chartType&&(i.chart.type="bar",i=P.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},i)),i=this.extendYAxis(i),i=this.extendAnnotations(i);var a=n.init(),o={};if(i&&"object"===y(i)){var s={};s=-1!==["line","area","bar","candlestick","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?r[i.chart.type]():r.line(),i.chart.brush&&i.chart.brush.enabled&&(s=r.brush(s)),i.chart.stacked&&"100%"===i.chart.stackType&&(i=r.stacked100(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),((i=this.checkForCatToNumericXAxis(this.chartType,s,i)).chart.sparkline&&i.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(s=r.sparkline(s)),o=P.extend(a,s)}var l=P.extend(o,window.Apex);return a=P.extend(l,i),this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var n=new z(i),r="bar"===t&&i.plotOptions&&i.plotOptions.bar&&i.plotOptions.bar.horizontal,a="pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t,o="datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type,s=i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement;return r||a||!o||"between"===s||(i=n.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(n,t){var r=new x;(void 0===n.yaxis||!n.yaxis||Array.isArray(n.yaxis)&&0===n.yaxis.length)&&(n.yaxis={}),n.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(n.yaxis=P.extend(n.yaxis,window.Apex.yaxis)),n.yaxis.constructor!==Array?n.yaxis=[P.extend(r.yAxis,n.yaxis)]:n.yaxis=P.extendArray(n.yaxis,r.yAxis);var e=!1;n.yaxis.forEach(function(t){t.logarithmic&&(e=!0)});var a=n.series;return t&&!a&&(a=t.config.series),e&&a.length!==n.yaxis.length&&a.length&&(n.yaxis=a.map(function(t,e){if(t.name||(a[e].name="series-".concat(e+1)),n.yaxis[e])return n.yaxis[e].seriesName=a[e].name,n.yaxis[e];var i=P.extend(r.yAxis,n.yaxis[0]);return i.show=!1,i})),e&&1<a.length&&a.length!==n.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),n}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new x;return t.annotations.yaxis=P.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new x;return t.annotations.xaxis=P.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new x;return t.annotations.points=P.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.chart.background||(t.chart.background="#424242"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(1<e.yaxis.length)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&("barWidth"===e.xaxis.crosshairs.width&&1<e.series.length&&(console.warn('crosshairs.width = "barWidth" is only supported in single series, not in a multi-series barChart.'),e.xaxis.crosshairs.width="tickWidth"),e.plotOptions.bar.horizontal&&(e.states.hover.type="none",e.tooltip.shared=!1),e.tooltip.followCursor||(console.warn("followCursor option in shared columns cannot be turned off. Please set %ctooltip.followCursor: true","color: blue;"),e.tooltip.followCursor=!0)),"candlestick"===e.chart.type&&e.yaxis[0].reversed&&(console.warn("Reversed y-axis in candlestick chart is not supported."),e.yaxis[0].reversed=!1),e.chart.group&&0===e.yaxis[0].labels.minWidth&&console.warn("It looks like you have multiple charts in synchronization. You must provide yaxis.labels.minWidth which must be EQUAL for all grouped charts to prevent incorrect behaviour."),Array.isArray(e.stroke.width)&&"line"!==e.chart.type&&"area"!==e.chart.type&&(console.warn("stroke.width option accepts array only for line and area charts. Reverted back to Number"),e.stroke.width=e.stroke.width[0]),e}}]),e}(),H=function(){function t(){a(this,t)}return o(t,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRangeBarTimeline=[],t.seriesPercent=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.xaxisLabelsCount=0,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=P.extend({},t),e.initialSeries=P.clone(t.series),e.lastXAxis=P.clone(e.initialConfig.xaxis),e.lastYAxis=P.clone(e.initialConfig.yaxis),e}}]),t}(),X=function(){function e(t){a(this,e),this.opts=t}return o(e,[{key:"init",value:function(){var t=new B(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new H).init(t)}}}]),e}(),W=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.coreUtils=new D(this.ctx)}return o(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new S(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&0<t[this.activeSeriesIndex].data.length&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new S(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&0<t[this.activeSeriesIndex].data.length&&void 0!==t[this.activeSeriesIndex].data[0]&&null!==t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){var i=this.w.config,n=this.w.globals;i.xaxis.sorted&&("datetime"===i.xaxis.type?t[e].data.sort(function(t,e){return new Date(t[0]).getTime()-new Date(e[0]).getTime()}):"numeric"===i.xaxis.type&&t[e].data.sort(function(t,e){return t[0]-e[0]}));for(var r=0;r<t[e].data.length;r++)if(void 0!==t[e].data[r][1]&&(Array.isArray(t[e].data[r][1])&&4===t[e].data[r][1].length?this.twoDSeries.push(P.parseNumber(t[e].data[r][1][3])):5===t[e].data[r].length?this.twoDSeries.push(P.parseNumber(t[e].data[r][4])):this.twoDSeries.push(P.parseNumber(t[e].data[r][1])),n.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var a=new Date(t[e].data[r][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(t[e].data[r][0]);for(var o=0;o<t[e].data.length;o++)void 0!==t[e].data[o][2]&&(this.threeDSeries.push(t[e].data[o][2]),n.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,n=this.w.globals,r=new O(this.ctx),a=e;-1<n.collapsedSeriesIndices.indexOf(e)&&(a=this.activeSeriesIndex),i.xaxis.sorted&&("datetime"===i.xaxis.type?t[e].data.sort(function(t,e){return new Date(t.x).getTime()-new Date(e.x).getTime()}):"numeric"===i.xaxis.type&&t[e].data.sort(function(t,e){return t.x-e.x}));for(var o=0;o<t[e].data.length;o++)void 0!==t[e].data[o].y&&(Array.isArray(t[e].data[o].y)?this.twoDSeries.push(P.parseNumber(t[e].data[o].y[t[e].data[o].y.length-1])):this.twoDSeries.push(P.parseNumber(t[e].data[o].y)));for(var s=0;s<t[a].data.length;s++){var l="string"==typeof t[a].data[s].x,c=Array.isArray(t[a].data[s].x),h=!c&&!!r.isValidDate(t[a].data[s].x.toString());if(l||h)if(l||i.xaxis.convertedCatToNumeric){var u=n.isBarHorizontal&&n.isRangeData;"datetime"!==i.xaxis.type||u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[a].data[s].x)):this.twoDSeriesX.push(r.parseDate(t[a].data[s].x))}else"datetime"===i.xaxis.type?this.twoDSeriesX.push(r.parseDate(t[a].data[s].x.toString())):(n.dataFormatXNumeric=!0,n.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[a].data[s].x)));else c?this.fallbackToCategory=!0:(n.isXNumeric=!0,n.dataFormatXNumeric=!0),this.twoDSeriesX.push(t[a].data[s].x)}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var d=0;d<t[e].data.length;d++)this.threeDSeries.push(t[e].data[d].z);n.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.config,n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",t,e)),n.seriesRangeStart.push(r.start),n.seriesRangeEnd.push(r.end),"datetime"===i.xaxis.type&&n.seriesRangeBarTimeline.push(r.rangeUniques),n.seriesRangeBarTimeline.forEach(function(t){t&&t.forEach(function(o){o.y.forEach(function(t,e){for(var i=0;i<o.y.length;i++)if(e!==i){var n=t.y1,r=t.y2,a=o.y[i].y1;n<=o.y[i].y2&&a<=r&&(o.overlaps.indexOf(t.rangeName)<0&&o.overlaps.push(t.rangeName),o.overlaps.indexOf(o.y[i].rangeName)<0&&o.overlaps.push(o.y[i].rangeName))}})})}),r}},{key:"handleCandleStickData",value:function(t,e){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleCandleStickDataFormat("array",t,e):this.isFormatXY()&&(n=this.handleCandleStickDataFormat("xy",t,e)),i.seriesCandleO[e]=n.o,i.seriesCandleH[e]=n.h,i.seriesCandleL[e]=n.l,i.seriesCandleC[e]=n.c,n}},{key:"handleRangeDataFormat",value:function(t,a,o){var s=[],l=[],c=a[o].data.filter(function(e,t,i){return t===i.findIndex(function(t){return t.x===e.x})}).map(function(t){return{x:t.x,overlaps:[],y:[]}}),e="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",i=new S(this.ctx).getActiveConfigSeriesIndex();if("array"===t){if(2!==a[i].data[0][1].length)throw new Error(e);for(var n=0;n<a[o].data.length;n++)s.push(a[o].data[n][1][0]),l.push(a[o].data[n][1][1])}else if("xy"===t){if(2!==a[i].data[0].y.length)throw new Error(e);for(var r=function(t){var e=P.randomId(),i=a[o].data[t].x,n={y1:a[o].data[t].y[0],y2:a[o].data[t].y[1],rangeName:e};a[o].data[t].rangeName=e;var r=c.findIndex(function(t){return t.x===i});c[r].y.push(n),s.push(n.y1),l.push(n.y2)},h=0;h<a[o].data.length;h++)r(h)}return{start:s,end:l,rangeUniques:c}}},{key:"handleCandleStickDataFormat",value:function(t,e,i){var n=this.w,r=[],a=[],o=[],s=[],l="Please provide [Open, High, Low and Close] values in valid format. Read more https://apexcharts.com/docs/series/#candlestick";if("array"===t){if(!Array.isArray(e[i].data[0][1])&&5!==e[i].data[0].length||Array.isArray(e[i].data[0][1])&&4!==e[i].data[0][1].length)throw new Error(l);if(5===e[i].data[0].length)for(var c=0;c<e[i].data.length;c++)r.push(e[i].data[c][1]),a.push(e[i].data[c][2]),o.push(e[i].data[c][3]),s.push(e[i].data[c][4]);else for(var h=0;h<e[i].data.length;h++)r.push(e[i].data[h][1][0]),a.push(e[i].data[h][1][1]),o.push(e[i].data[h][1][2]),s.push(e[i].data[h][1][3])}else if("xy"===t){if(!n.globals.comboCharts&&4!==e[i].data[0].y.length||n.globals.comboCharts&&"candlestick"===e[i].type&&e[i].data.length&&4!==e[i].data[0].y.length)throw new Error(l);for(var u=0;u<e[i].data.length;u++)r.push(e[i].data[u].y[0]),a.push(e[i].data[u].y[1]),o.push(e[i].data[u].y[2]),s.push(e[i].data[u].y[3])}return{o:r,h:a,l:o,c:s}}},{key:"parseDataAxisCharts",value:function(t,e){var i=this,n=1<arguments.length&&void 0!==e?arguments[1]:this.ctx,r=this.w.config,a=this.w.globals,o=new O(n),s=0<r.labels.length?r.labels.slice():r.xaxis.categories.slice();a.isTimelineBar="rangeBar"===r.chart.type&&"datetime"===r.xaxis.type;for(var l=function(){for(var t=0;t<s.length;t++)if("string"==typeof s[t]){if(!o.isValidDate(s[t]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");i.twoDSeriesX.push(o.parseDate(s[t]))}else i.twoDSeriesX.push(s[t])},c=0;c<t.length;c++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[c].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==r.chart.type&&"rangeArea"!==r.chart.type&&"rangeBar"!==t[c].type&&"rangeArea"!==t[c].type||(a.isRangeData=!0,this.handleRangeData(t,c)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,c):this.isFormatXY()&&this.handleFormatXY(t,c),"candlestick"!==r.chart.type&&"candlestick"!==t[c].type||this.handleCandleStickData(t,c),a.series.push(this.twoDSeries),a.labels.push(this.twoDSeriesX),a.seriesX.push(this.twoDSeriesX),c!==this.activeSeriesIndex||this.fallbackToCategory||(a.isXNumeric=!0);else{"datetime"===r.xaxis.type?(a.isXNumeric=!0,l(),a.seriesX.push(this.twoDSeriesX)
):"numeric"===r.xaxis.type&&(a.isXNumeric=!0,0<s.length&&(this.twoDSeriesX=s,a.seriesX.push(this.twoDSeriesX))),a.labels.push(this.twoDSeriesX);var h=t[c].data.map(function(t){return P.parseNumber(t)});a.series.push(h)}a.seriesZ.push(this.threeDSeries),void 0!==t[c].name?a.seriesNames.push(t[c].name):a.seriesNames.push("series-"+parseInt(c+1,10)),void 0!==t[c].color?a.seriesColors.push(t[c].color):a.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var n=0;n<e.series.length;n++)void 0===e.seriesNames[n]&&e.seriesNames.push("series-"+(n+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;0<e.xaxis.categories.length?i.labels=e.xaxis.categories:0<e.labels.length?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRangeBarTimeline.length&&(i.seriesRangeBarTimeline.map(function(t){t.forEach(function(t){i.labels.indexOf(t.x)<0&&t.x&&i.labels.push(t.x)})}),i.labels=i.labels.filter(function(t,e,i){return i.indexOf(t)===e})),e.xaxis.convertedCatToNumeric&&(new z(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,n=[];if(e.axisCharts){if(0<e.series.length)for(var r=0;r<e.series[e.maxValsInArrayIndex].length;r++)n.push(r+1);e.seriesX=[];for(var a=0;a<t.length;a++)e.seriesX.push(n);e.isXNumeric=!0}if(0===n.length){n=e.axisCharts?[]:e.series.map(function(t,e){return e+1});for(var o=0;o<t.length;o++)e.seriesX.push(n)}e.labels=n,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=n.map(function(t){return i.xaxis.labels.formatter(t)})),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,n=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),n.axisCharts?this.parseDataAxisCharts(t):this.parseDataNonAxisCharts(t),this.coreUtils.getLargestSeries(),"bar"===i.chart.type&&i.chart.stacked){var r=new S(this.ctx);n.series=r.setNullSeriesToZeroValues(n.series)}this.coreUtils.getSeriesTotals(),n.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),n.dataFormatXNumeric||n.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var a=this.coreUtils.getCategoryLabels(n.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){n.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this,i=this.w;i.globals.ignoreYAxisIndexes=i.globals.collapsedSeries.map(function(t){if(e.w.globals.isMultipleYAxis&&!i.config.chart.stacked)return t.index})}}]),e}(),Y=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return o(e,[{key:"xLabelFormat",value:function(t,e,i,n){var r=this.w;if("datetime"!==r.config.xaxis.type||void 0!==r.config.xaxis.labels.formatter||void 0!==r.config.tooltip.x.formatter)return t(e,i,n);var a=new O(this.ctx);return a.formatDate(a.getDate(e),r.config.tooltip.x.format)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map(function(t){return t}):t}},{key:"defaultYFormatter",value:function(t,e,i){var n=this.w;return P.isNumber(t)&&(t=0!==n.globals.yValueDecimal?t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:n.globals.yValueDecimal):n.globals.maxYArr[i]-n.globals.minYArr[i]<5?t.toFixed(1):t.toFixed(0)),t}},{key:"setLabelFormatters",value:function(){var n=this,r=this.w;return r.globals.xLabelFormatter=function(t){return n.defaultGeneralFormatter(t)},r.globals.xaxisTooltipFormatter=function(t){return n.defaultGeneralFormatter(t)},r.globals.ttKeyFormatter=function(t){return n.defaultGeneralFormatter(t)},r.globals.ttZFormatter=function(t){return t},r.globals.legendFormatter=function(t){return n.defaultGeneralFormatter(t)},void 0!==r.config.xaxis.labels.formatter?r.globals.xLabelFormatter=r.config.xaxis.labels.formatter:r.globals.xLabelFormatter=function(t){return P.isNumber(t)?!r.config.xaxis.convertedCatToNumeric&&"numeric"===r.config.xaxis.type&&r.globals.dataPoints<50?t.toFixed(1):r.globals.isBarHorizontal&&r.globals.maxY-r.globals.minYArr<4?t.toFixed(1):t.toFixed(0):t},"function"==typeof r.config.tooltip.x.formatter?r.globals.ttKeyFormatter=r.config.tooltip.x.formatter:r.globals.ttKeyFormatter=r.globals.xLabelFormatter,"function"==typeof r.config.xaxis.tooltip.formatter&&(r.globals.xaxisTooltipFormatter=r.config.xaxis.tooltip.formatter),(Array.isArray(r.config.tooltip.y)||void 0!==r.config.tooltip.y.formatter)&&(r.globals.ttVal=r.config.tooltip.y),void 0!==r.config.tooltip.z.formatter&&(r.globals.ttZFormatter=r.config.tooltip.z.formatter),void 0!==r.config.legend.formatter&&(r.globals.legendFormatter=r.config.legend.formatter),r.config.yaxis.forEach(function(e,i){void 0!==e.labels.formatter?r.globals.yLabelFormatters[i]=e.labels.formatter:r.globals.yLabelFormatters[i]=function(t){return r.globals.xyCharts?Array.isArray(t)?t.map(function(t){return n.defaultYFormatter(t,e,i)}):n.defaultYFormatter(t,e,i):t}}),r.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce(function(t,e){return t.length>e.length?t:e},0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),e}(),j=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"getLabel",value:function(t,i,e,n,r,a){var o=4<arguments.length&&void 0!==r?arguments[4]:[],s=5<arguments.length&&void 0!==a?arguments[5]:"12px",l=this.w,c=void 0===t[n]?"":t[n],h=c,u=l.globals.xLabelFormatter,d=l.config.xaxis.labels.formatter,p=!1,f=c;h=new Y(this.ctx).xLabelFormat(u,c,f,{i:n,dateFormatter:new O(this.ctx).formatDate,w:l}),void 0!==d&&(h=d(c,t[n],{i:n,dateFormatter:new O(this.ctx).formatDate,w:l}));var g=function(t){var e=null;return i.forEach(function(t){"month"===t.unit?e="year":"day"===t.unit?e="month":"hour"===t.unit?e="day":"minute"===t.unit&&(e="hour")}),e===t};0<i.length?(p=g(i[n].unit),e=i[n].position,h=i[n].value):"datetime"===l.config.xaxis.type&&void 0===d&&(h=""),void 0===h&&(h=""),h=Array.isArray(h)?h:h.toString();var m=new F(this.ctx),v={};v=l.globals.rotateXLabels?m.getTextRects(h,parseInt(s,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):m.getTextRects(h,parseInt(s,10));var x=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(h)&&(0===h.indexOf("NaN")||0===h.toLowerCase().indexOf("invalid")||0<=h.toLowerCase().indexOf("infinity")||0<=o.indexOf(h)&&x)&&(h=""),{x:e,text:h,textRect:v,isBold:p}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var n=this.w,r=n.config.xaxis.tickAmount;return"dataPoints"===r&&(r=Math.round(n.globals.gridWidth/120)),i<r||t%Math.round(i/(r+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,n,r){var a=this.w;if(0===t&&a.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&a.globals.skipLastTimelinelabel&&(e.text=""),a.config.xaxis.labels.hideOverlappingLabels&&0<n.length){var o=r[r.length-1];e.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=new D(this.ctx);return!e.config.yaxis[t].show||!e.config.yaxis[t].showForNullSeries&&i.isSeriesNull(t)&&-1===e.globals.collapsedSeriesIndices.indexOf(t)}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,n,r,a,o){var s=this.w,l=new F(this.ctx),c=s.globals.translateY;if(n.show&&0<e){!0===s.config.yaxis[r].opposite&&(t+=n.width);for(var h=e;0<=h;h--){var u=c+e/10+s.config.yaxis[r].labels.offsetY-1;s.globals.isBarHorizontal&&(u=a*h),"heatmap"===s.config.chart.type&&(u+=a/2);var d=l.drawLine(t+i.offsetX-n.width+n.offsetX,u+n.offsetY,t+i.offsetX+n.offsetX,u+n.offsetY,n.color);o.add(d),c+=a}}}}]),e}(),V=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"fixSvgStringForIe11",value:function(t){if(!P.isIE11())return t;var e=0,i=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(t){return 2==++e?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"':t});return(i=i.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(){var t=this.w.globals.dom.Paper.svg();return this.fixSvgStringForIe11(t)}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(n,function(t){t.setAttribute("width",0)}),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var t=this.getSvgString(),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(e)}},{key:"dataURI",value:function(){var h=this;return new Promise(function(i){var t=h.w;h.cleanup();var n=document.createElement("canvas");n.width=t.globals.svgWidth,n.height=parseInt(t.globals.dom.elWrap.style.height,10);var e="transparent"===t.config.chart.background?"#fff":t.config.chart.background,r=n.getContext("2d");r.fillStyle=e,r.fillRect(0,0,n.width,n.height);var a=h.getSvgString();if(window.canvg&&P.isIE11()){var o=window.canvg.Canvg.fromString(r,a,{ignoreClear:!0,ignoreDimensions:!0});o.start();var s=n.msToBlob();o.stop(),i({blob:s})}else{var l="data:image/svg+xml,"+encodeURIComponent(a),c=new Image;c.crossOrigin="anonymous",c.onload=function(){if(r.drawImage(c,0,0),n.msToBlob){var t=n.msToBlob();i({blob:t})}else{var e=n.toDataURL("image/png");i({imgURI:e})}},c.src=l}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar["export"].svg.filename,".svg")}},{key:"exportToPng",value:function(){var n=this;this.dataURI().then(function(t){var e=t.imgURI,i=t.blob;i?navigator.msSaveOrOpenBlob(i,n.w.globals.chartID+".png"):n.triggerDownload(e,n.w.config.chart.toolbar["export"].png.filename,".png")})}},{key:"exportToCSV",value:function(t){var r=this,o=t.series,s=t.columnDelimiter,e=t.lineDelimiter,i=void 0===e?"\n":e,l=this.w,c=[],h=[],n="data:text/csv;charset=utf-8,",u=new W(this.ctx),a=new j(this.ctx),d=function(t){var e="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var i=l.globals.yLabelFormatters[0],n=new S(r.ctx).getActiveConfigSeriesIndex();e=i(l.globals.labels[t],{seriesIndex:n,dataPointIndex:t,w:l})}else e=a.getLabel(l.globals.labels,l.globals.timescaleLabels,0,t).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?e=l.config.xaxis.categories[t]:l.config.labels.length&&(e=l.config.labels[t]))}else e=l.config.labels[t];return P.isNumber(e)?e:e.split(s).join("")};c.push(l.config.chart.toolbar["export"].csv.headerCategory),o.map(function(t,e){var i=t.name?t.name:"series-".concat(e);l.globals.axisCharts&&c.push(i.split(s).join("")?i.split(s).join(""):"series-".concat(e))}),l.globals.axisCharts||(c.push(l.config.chart.toolbar["export"].csv.headerValue),h.push(c.join(s))),o.map(function(t,e){l.globals.axisCharts?function(t,e){if(c.length&&0===e&&h.push(c.join(s)),t.data&&t.data.length)for(var i=0;i<t.data.length;i++){c=[];var n=d(i);if(n||(u.isFormatXY()?n=o[e].data[i].x:u.isFormat2DArray()&&(n=o[e].data[i]?o[e].data[i][0]:"")),0===e){c.push((a=n,"datetime"===l.config.xaxis.type&&10<=String(a).length?l.config.chart.toolbar["export"].csv.dateFormatter(n):n.split(s).join("")));for(var r=0;r<l.globals.series.length;r++)c.push(l.globals.series[r][i])}("candlestick"===l.config.chart.type||t.type&&"candlestick"===t.type)&&(c.pop(),c.push(l.globals.seriesCandleO[e][i]),c.push(l.globals.seriesCandleH[e][i]),c.push(l.globals.seriesCandleL[e][i]),c.push(l.globals.seriesCandleC[e][i])),"rangeBar"===l.config.chart.type&&(c.pop(),c.push(l.globals.seriesRangeStart[e][i]),c.push(l.globals.seriesRangeEnd[e][i])),c.length&&h.push(c.join(s))}var a}(t,e):((c=[]).push(l.globals.labels[e].split(s).join("")),c.push(l.globals.series[e]),h.push(c.join(s)))}),n+=h.join(i),this.triggerDownload(encodeURI(n),l.config.chart.toolbar["export"].csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var n=document.createElement("a");n.href=t,n.download=(e||this.w.globals.chartID)+i,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),e}(),G=function(){function i(t){a(this,i),this.ctx=t,this.w=t.w;var e=this.w;this.axesUtils=new j(t),this.xaxisLabels=e.globals.labels.slice(),0<e.globals.timescaleLabels.length&&!e.globals.isBarHorizontal&&(this.xaxisLabels=e.globals.timescaleLabels.slice()),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===e.config.xaxis.position?this.offY=0:this.offY=e.globals.gridHeight+1,this.offY=this.offY+e.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===e.config.chart.type&&e.config.plotOptions.bar.horizontal,this.xaxisFontSize=e.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=e.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=e.config.xaxis.labels.style.colors,this.xaxisBorderWidth=e.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=e.config.yaxis[0].axisBorder.width.toString()),-1<this.xaxisBorderWidth.indexOf("%")?this.xaxisBorderWidth=e.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=e.config.xaxis.axisBorder.height,this.yaxis=e.config.yaxis[0]}return o(i,[{key:"drawXaxis",value:function(){var o,s=this,l=this.w,c=new F(this.ctx),t=c.group({"class":"apexcharts-xaxis",transform:"translate(".concat(l.config.xaxis.offsetX,", ").concat(l.config.xaxis.offsetY,")")}),h=c.group({"class":"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});t.add(h);for(var u=l.globals.padHorizontal,d=[],e=0;e<this.xaxisLabels.length;e++)d.push(this.xaxisLabels[e]);var p=d.length;if(l.globals.isXNumeric){var i=1<p?p-1:p;o=l.globals.gridWidth/i,u=u+o/2+l.config.xaxis.labels.offsetX}else o=l.globals.gridWidth/d.length,u=u+o+l.config.xaxis.labels.offsetX;for(var n=function(t){var e=u-o/2+l.config.xaxis.labels.offsetX;0===t&&1===p&&o/2===u&&1===l.globals.dataPoints&&(e=l.globals.gridWidth/2);var i=s.axesUtils.getLabel(d,l.globals.timescaleLabels,e,t,s.drawnLabels,s.xaxisFontSize),n=28;if(l.globals.rotateXLabels&&(n=22),(i=void 0!==l.config.xaxis.tickAmount&&"dataPoints"!==l.config.xaxis.tickAmount&&"datetime"!==l.config.xaxis.type?s.axesUtils.checkLabelBasedOnTickamount(t,i,p):s.axesUtils.checkForOverflowingLabels(t,i,p,s.drawnLabels,s.drawnLabelsRects)).text&&l.globals.xaxisLabelsCount++,l.config.xaxis.labels.show){var r=c.drawText({x:i.x,y:s.offY+l.config.xaxis.labels.offsetY+n-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:i.text,textAnchor:"middle",fontWeight:i.isBold?600:l.config.xaxis.labels.style.fontWeight,fontSize:s.xaxisFontSize,fontFamily:s.xaxisFontFamily,foreColor:Array.isArray(s.xaxisForeColors)?l.config.xaxis.convertedCatToNumeric?s.xaxisForeColors[l.globals.minX+t-1]:s.xaxisForeColors[t]:s.xaxisForeColors,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});h.add(r);var a=document.createElementNS(l.globals.SVGNS,"title");a.textContent=Array.isArray(i.text)?i.text.join(" "):i.text,r.node.appendChild(a),""!==i.text&&(s.drawnLabels.push(i.text),s.drawnLabelsRects.push(i))}u+=o},r=0;r<=p-1;r++)n(r);if(void 0!==l.config.xaxis.title.text){var a=c.group({"class":"apexcharts-xaxis-title"}),f=c.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.offY-parseFloat(this.xaxisFontSize)+l.globals.xAxisLabelsHeight+l.config.xaxis.title.offsetY,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});a.add(f),t.add(a)}if(l.config.xaxis.axisBorder.show){var g=l.globals.barPadForNumericAxis,m=c.drawLine(l.globals.padHorizontal+l.config.xaxis.axisBorder.offsetX-g,this.offY,this.xaxisBorderWidth+g,this.offY,l.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);t.add(m)}return t}},{key:"drawXaxisInversed",value:function(s){var l,c,h=this,u=this.w,d=new F(this.ctx),t=u.config.yaxis[0].opposite?u.globals.translateYAxisX[s]:0,e=d.group({"class":"apexcharts-yaxis apexcharts-xaxis-inversed",rel:s}),p=d.group({"class":"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+t+", 0)"});e.add(p);var f=[];if(u.config.yaxis[s].show)for(var i=0;i<this.xaxisLabels.length;i++)f.push(this.xaxisLabels[i]);l=u.globals.gridHeight/f.length,c=-l/2.2;var g=u.globals.yLabelFormatters[0],m=u.config.yaxis[0].labels;if(m.show)for(var n=function(t){var e=void 0===f[t]?"":f[t];e=g(e,{seriesIndex:s,dataPointIndex:t,w:u});var i=h.axesUtils.getYAxisForeColor(m.style.colors,s),n=0;Array.isArray(e)&&(n=e.length/2*parseInt(m.style.fontSize,10));var r=d.drawText({x:m.offsetX-15,y:c+l+m.offsetY-n,text:e,textAnchor:h.yaxis.opposite?"start":"end",foreColor:Array.isArray(i)?i[t]:i,fontSize:m.style.fontSize,fontFamily:m.style.fontFamily,fontWeight:m.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+m.style.cssClass});p.add(r);var a=document.createElementNS(u.globals.SVGNS,"title");if(a.textContent=e.text,r.node.appendChild(a),0!==u.config.yaxis[s].labels.rotate){var o=d.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(".concat(u.config.yaxis[s].labels.rotate," 0 ").concat(o.y,")"))}c+=l},r=0;r<=f.length-1;r++)n(r);if(void 0!==u.config.yaxis[0].title.text){var a=d.group({"class":"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+t+", 0)"}),o=d.drawText({x:0,y:u.globals.gridHeight/2,text:u.config.yaxis[0].title.text,textAnchor:"middle",foreColor:u.config.yaxis[0].title.style.color,fontSize:u.config.yaxis[0].title.style.fontSize,fontWeight:u.config.yaxis[0].title.style.fontWeight,fontFamily:u.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[0].title.style.cssClass});a.add(o),e.add(a)}var v=0;this.isCategoryBarHorizontal&&u.config.yaxis[0].opposite&&(v=u.globals.gridWidth);var x=u.config.xaxis.axisBorder;if(x.show){var b=d.drawLine(u.globals.padHorizontal+x.offsetX+v,1+x.offsetY,u.globals.padHorizontal+x.offsetX+v,u.globals.gridHeight+x.offsetY,x.color,0);e.add(b)}return u.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,f.length,u.config.yaxis[0].axisBorder,u.config.yaxis[0].axisTicks,0,l,e),e}},{key:"drawXaxisTicks",value:function(t,e){var i=this.w,n=t;if(!(t<0||t-2>i.globals.gridWidth)){var r=this.offY+i.config.xaxis.axisTicks.offsetY,a=r+i.config.xaxis.axisTicks.height;if("top"===i.config.xaxis.position&&(a=r-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var o=new F(this.ctx).drawLine(t+i.config.xaxis.axisTicks.offsetX,r+i.config.xaxis.offsetY,n+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);e.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,n=t.globals.padHorizontal;if(0<t.globals.timescaleLabels.length)for(var r=0;r<i;r++)n=this.xaxisLabels[r].position,e.push(n);else for(var a=i,o=0;o<a;o++){var s=a;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(s-=1),n+=t.globals.gridWidth/s,e.push(n)}return e}},{key:"xAxisLabelCorrections",value:function(){var n=this.w,r=new F(this.ctx),t=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text"),e=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(n.globals.rotateXLabels||n.config.xaxis.labels.rotateAlways)for(var o=0;o<a.length;o++){var s=r.rotateAroundCenter(a[o]);s.y=s.y-1,s.x=s.x+1,a[o].setAttribute("transform","rotate(".concat(n.config.xaxis.labels.rotate," ").concat(s.x," ").concat(s.y,")")),a[o].setAttribute("text-anchor","end"),t.setAttribute("transform","translate(0, ".concat(-10,")"));var l=a[o].childNodes;n.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,function(t){r.placeTextWithEllipsis(t,t.textContent,n.config.xaxis.labels.maxHeight-("bottom"===n.config.legend.position?20:10))})}else!function(){for(var e=n.globals.gridWidth/(n.globals.labels.length+1),t=0;t<a.length;t++){var i=a[t].childNodes;n.config.xaxis.labels.trim&&"datetime"!==n.config.xaxis.type&&Array.prototype.forEach.call(i,function(t){r.placeTextWithEllipsis(t,t.textContent,e)})}}();if(0<e.length){var c=e[e.length-1].getBBox(),h=e[0].getBBox();c.x<-20&&e[e.length-1].parentNode.removeChild(e[e.length-1]),h.x+h.width>n.globals.gridWidth&&!n.globals.isBarHorizontal&&e[0].parentNode.removeChild(e[0]);for(var u=0;u<i.length;u++)r.placeTextWithEllipsis(i[u],i[u].textContent,n.config.yaxis[0].labels.maxWidth-2*parseFloat(n.config.yaxis[0].title.style.fontSize)-20)}}}]),i}(),U=function(){function i(t){a(this,i),this.ctx=t,this.w=t.w;var e=this.w;this.xaxisLabels=e.globals.labels.slice(),this.axesUtils=new j(t),this.isTimelineBar="datetime"===e.config.xaxis.type&&e.globals.seriesRangeBarTimeline.length,0<e.globals.timescaleLabels.length&&(this.xaxisLabels=e.globals.timescaleLabels.slice())}return o(i,[{key:"drawGridArea",value:function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:null,i=this.w,n=new F(this.ctx);null===e&&(e=n.group({"class":"apexcharts-grid"}));var r=n.drawLine(i.globals.padHorizontal,1,i.globals.padHorizontal,i.globals.gridHeight,"transparent"),a=n.drawLine(i.globals.padHorizontal,i.globals.gridHeight,i.globals.gridWidth,i.globals.gridHeight,"transparent");return e.add(a),e.add(r),e}},{key:"drawGrid",value:function(){var t=null;return this.w.globals.axisCharts&&(t=this.renderGrid(),this.drawGridArea(t.el)),t}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new F(this.ctx),n=Array.isArray(t.config.stroke.width)?0:t.config.stroke.width;if(Array.isArray(t.config.stroke.width)){var r=0;t.config.stroke.width.forEach(function(t){r=Math.max(r,t)}),n=r}e.dom.elGridRectMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=document.createElementNS(e.SVGNS,"clipPath"),e.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(e.cuid));var a=t.config.chart.type,o=0,s=0;("bar"===a||"rangeBar"===a||0<t.globals.comboBarCount)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(o=t.config.grid.padding.left,s=t.config.grid.padding.right,e.barPadForNumericAxis>o&&(o=e.barPadForNumericAxis,s=e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(-n/2-o-2,-n/2,e.gridWidth+n+s+o+4,e.gridHeight+n,0,"#fff"),new D(this).getLargestMarkerSize();var l=t.globals.markers.largestSize+1;e.dom.elGridRectMarker=i.drawRect(2*-l,2*-l,e.gridWidth+4*l,e.gridHeight+4*l,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var c=e.dom.baseEl.querySelector("defs");c.appendChild(e.dom.elGridRectMask),c.appendChild(e.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,n=t.y1,r=t.x2,a=t.y2,o=t.xCount,s=t.parent,l=this.w;0===e&&l.globals.skipFirstTimelinelabel||e===o-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type||(l.config.grid.xaxis.lines.show&&this._drawGridLine({x1:i,y1:n,x2:r,y2:a,parent:s}),new G(this.ctx).drawXaxisTicks(i,this.elg))}},{key:"_drawGridLine",value:function(t){var e=t.x1,i=t.y1,n=t.x2,r=t.y2,a=t.parent,o=this.w,s=a.node.classList.contains("apexcharts-gridlines-horizontal"),l=o.config.grid.strokeDashArray,c=o.globals.barPadForNumericAxis,h=new F(this).drawLine(e-(s?c:0),i,n+(s?c:0),r,o.config.grid.borderColor,l);h.node.classList.add("apexcharts-gridline"),a.add(h)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,n=t.y1,r=t.x2,a=t.y2,o=t.type,s=this.w,l=new F(this.ctx),c=s.globals.barPadForNumericAxis;if("column"!==o||"datetime"!==s.config.xaxis.type){var h=s.config.grid[o].colors[e],u=l.drawRect(i-("row"===o?c:0),n,r+("row"===o?2*c:0),a,0,h,s.config.grid[o].opacity);this.elg.add(u),u.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),u.node.classList.add("apexcharts-grid-".concat(o))}}},{key:"_drawXYLines",value:function(t){var s=this,l=t.xCount,e=t.tickAmount,c=this.w;if(c.config.grid.xaxis.lines.show||c.config.xaxis.axisTicks.show){var i,n=c.globals.padHorizontal,r=c.globals.gridHeight;c.globals.timescaleLabels.length?function(t){for(var e=t.xC,i=t.x1,n=t.y1,r=t.x2,a=t.y2,o=0;o<e;o++)i=s.xaxisLabels[o].position,r=s.xaxisLabels[o].position,s._drawGridLines({i:o,x1:i,y1:n,x2:r,y2:a,xCount:l,parent:s.elgridLinesV})}({xC:l,x1:n,y1:0,x2:i,y2:r}):(c.globals.isXNumeric&&(l=c.globals.xAxisScale.result.length),c.config.xaxis.convertedCatToNumeric&&(l=c.globals.xaxisLabelsCount),function(t){var e=t.xC,i=t.x1,n=t.y1,r=t.x2,a=t.y2;if(void 0!==c.config.xaxis.tickAmount&&"dataPoints"!==c.config.xaxis.tickAmount)c.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(t,e){var i=t.getBBox();s._drawGridLines({i:e,x1:i.x+i.width/2,y1:n,x2:i.x+i.width/2,y2:a,xCount:l,parent:s.elgridLinesV})});else for(var o=0;o<e+(c.globals.isXNumeric?0:1);o++)0===o&&1===e&&1===c.globals.dataPoints&&(r=i=c.globals.gridWidth/2),s._drawGridLines({i:o,x1:i,y1:n,x2:r,y2:a,xCount:l,parent:s.elgridLinesV}),r=i+=c.globals.gridWidth/(c.globals.isXNumeric?e-1:e)}({xC:l,x1:n,y1:0,x2:i,y2:r}))}if(c.config.grid.yaxis.lines.show){var a=0,o=0,h=c.globals.gridWidth,u=e+1;this.isTimelineBar&&(u=c.globals.labels.length);for(var d=0;d<u+(this.isTimelineBar?1:0);d++)this._drawGridLine({x1:0,y1:a,x2:h,y2:o,parent:this.elgridLinesH}),o=a+=c.globals.gridHeight/(this.isTimelineBar?u:e)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var n,r=i.globals.padHorizontal,a=i.globals.gridHeight,o=0;o<e+1;o++)i.config.grid.xaxis.lines.show&&this._drawGridLine({x1:r,y1:0,x2:n,y2:a,parent:this.elgridLinesV}),new G(this.ctx).drawXaxisTicks(r,this.elg),n=r=r+i.globals.gridWidth/e+.3;if(i.config.grid.yaxis.lines.show)for(var s=0,l=0,c=i.globals.gridWidth,h=0;h<i.globals.dataPoints+1;h++)this._drawGridLine({x1:0,y1:s,x2:c,y2:l,parent:this.elgridLinesH}),l=s+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=new F(this.ctx);this.elg=e.group({"class":"apexcharts-grid"}),this.elgridLinesH=e.group({"class":"apexcharts-gridlines-horizontal"}),this.elgridLinesV=e.group({"class":"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var i,n=t.globals.yAxisScale.length?t.globals.yAxisScale[0].result.length-1:5,r=0;r<t.globals.series.length&&(void 0!==t.globals.yAxisScale[r]&&(n=t.globals.yAxisScale[r].result.length-1),!(2<n));r++);return!t.globals.isBarHorizontal||this.isTimelineBar?(i=this.xaxisLabels.length,this.isTimelineBar&&(n=t.globals.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(i=t.config.xaxis.tickAmount)),this._drawXYLines({xCount:i,tickAmount:n})):(i=n,n=t.globals.xTickAmount,this._drawInvertedXYLines({xCount:i,tickAmount:n})),this.drawGridBands(i,n),{el:this.elg,xAxisTickWidth:t.globals.gridWidth/i}}},{key:"drawGridBands",value:function(t,e){var i=this.w;if(void 0!==i.config.grid.row.colors&&0<i.config.grid.row.colors.length)for(var n=0,r=i.globals.gridHeight/e,a=i.globals.gridWidth,o=0,s=0;o<e;o++,s++)s>=i.config.grid.row.colors.length&&(s=0),this._drawGridBandRect({c:s,x1:0,y1:n,x2:a,y2:r,type:"row"}),n+=i.globals.gridHeight/e;if(void 0!==i.config.grid.column.colors&&0<i.config.grid.column.colors.length)for(var l=i.globals.isBarHorizontal||"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric?t:t-1,c=i.globals.padHorizontal,h=i.globals.padHorizontal+i.globals.gridWidth/l,u=i.globals.gridHeight,d=0,p=0;d<t;d++,p++)p>=i.config.grid.column.colors.length&&(p=0),this._drawGridBandRect({c:p,x1:c,y1:0,x2:h,y2:u,type:"column"}),c+=i.globals.gridWidth/l}}]),i}(),q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"niceScale",value:function(t,e,i,n,r){var a=2<arguments.length&&void 0!==i?arguments[2]:10,o=3<arguments.length&&void 0!==n?arguments[3]:0,s=4<arguments.length?r:void 0,l=this.w,c=Math.abs(e-t);if("dataPoints"===(a=this._adjustTicksForSmallRange(a,o,c))&&(a=l.globals.dataPoints-1),t===Number.MIN_VALUE&&0===e||!P.isNumber(t)&&!P.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE)return t=0,e=a,this.linearScale(t,e,a);e<t?(console.warn("axis.min cannot be greater than axis.max"),e=t+.1):t===e&&(t=0===t?0:t-.5,e=0===e?2:e+.5);var h=[];c<1&&s&&("candlestick"===l.config.chart.type||"candlestick"===l.config.series[o].type||l.globals.isRangeData)&&(e*=1.01);var u=a+1;u<2?u=2:2<u&&(u-=2);var d=c/u,p=Math.floor(P.log10(d)),f=Math.pow(10,p),g=Math.round(d/f);g<1&&(g=1);var m=g*f,v=m*Math.floor(t/m),x=m*Math.ceil(e/m),b=v;if(s&&2<c){for(;h.push(b),!((b+=m)>x););return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}var y=t;(h=[]).push(y);for(var w=Math.abs(e-t)/a,A=0;A<=a;A++)y+=w,h.push(y);return h[h.length-2]>=e&&h.pop(),{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"linearScale",value:function(t,e,i,n){var r=2<arguments.length&&void 0!==i?arguments[2]:10,a=3<arguments.length?n:void 0,o=Math.abs(e-t),s=o/(r=this._adjustTicksForSmallRange(r,a,o));r===Number.MAX_VALUE&&(r=10,s=1);for(var l=[],c=t;0<=r;)l.push(c),c+=s,r-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScale",value:function(t){for(var e=[],i=Math.ceil(Math.log10(t))+1,n=0;n<i;n++)e.push(Math.pow(10,n));return{result:e,niceMin:e[0],niceMax:e[e.length-1]}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var n=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var r=this.w.config.yaxis[e].labels.formatter(1);P.isNumber(Number(r))&&!P.isFloat(r)&&(n=Math.ceil(i))}return n<t?n:t}},{key:"setYScaleForIndex",value:function(t,e,i){var n=this.w.globals,r=this.w.config,a=n.isBarHorizontal?r.xaxis:r.yaxis[t];void 0===n.yAxisScale[t]&&(n.yAxisScale[t]=[]);var o=Math.abs(i-e);if(a.logarithmic&&o<=5&&(n.invalidLogScale=!0),a.logarithmic&&5<o)n.allSeriesCollapsed=!1,n.yAxisScale[t]=this.logarithmicScale(i);else if(i!==-Number.MAX_VALUE&&P.isNumber(i))if(n.allSeriesCollapsed=!1,void 0===a.min&&void 0===a.max||a.forceNiceScale){var s=void 0===r.yaxis[t].max&&void 0===r.yaxis[t].min||r.yaxis[t].forceNiceScale;n.yAxisScale[t]=this.niceScale(e,i,a.tickAmount?a.tickAmount:o<5&&1<o?o+1:5,t,s)}else n.yAxisScale[t]=this.linearScale(e,i,a.tickAmount,t);else n.yAxisScale[t]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(t,e){var i=this.w,n=i.globals,r=i.config.xaxis,a=Math.abs(e-t);return e!==-Number.MAX_VALUE&&P.isNumber(e)?n.xAxisScale=this.niceScale(t,e,r.tickAmount?r.tickAmount:a<5&&1<a?a+1:5,0):n.xAxisScale=this.linearScale(0,5,5),n.xAxisScale}},{key:"setMultipleYScales",value:function(){var a=this,t=this.w.globals,o=this.w.config,s=t.minYArr.concat([]),l=t.maxYArr.concat([]),c=[];o.yaxis.forEach(function(i,n){var r=n;o.series.forEach(function(t,e){t.name===i.seriesName&&(n!==(r=e)?c.push({index:e,similarIndex:n,alreadyExists:!0}):c.push({index:e}))});var t=s[r],e=l[r];a.setYScaleForIndex(n,t,e)}),this.sameScaleInMultipleAxes(s,l,c)}},{key:"sameScaleInMultipleAxes",value:function(t,r,e){var s=this,l=this.w.config,c=this.w.globals,o=[]
;e.forEach(function(t){t.alreadyExists&&(void 0===o[t.index]&&(o[t.index]=[]),o[t.index].push(t.index),o[t.index].push(t.similarIndex))}),(c.yAxisSameScaleIndices=o).forEach(function(r,a){o.forEach(function(t,e){var i,n;a!==e&&0<(i=r,n=t,i.filter(function(t){return-1!==n.indexOf(t)})).length&&(o[a]=o[a].concat(o[e]))})});var i=o.map(function(i){return i.filter(function(t,e){return i.indexOf(t)===e})}).map(function(t){return t.sort()});o=o.filter(function(t){return!!t});var a=i.slice(),n=a.map(function(t){return JSON.stringify(t)});a=a.filter(function(t,e){return n.indexOf(JSON.stringify(t))===e});var h=[],u=[];t.forEach(function(i,n){a.forEach(function(t,e){-1<t.indexOf(n)&&(void 0===h[e]&&(h[e]=[],u[e]=[]),h[e].push({key:n,value:i}),u[e].push({key:n,value:r[n]}))})});var d=Array.apply(null,Array(a.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),p=Array.apply(null,Array(a.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);h.forEach(function(t,e){t.forEach(function(t){d[e]=Math.min(t.value,d[e])})}),u.forEach(function(t,e){t.forEach(function(t){p[e]=Math.max(t.value,p[e])})}),t.forEach(function(t,o){u.forEach(function(i,n){var r=d[n],a=p[n];l.chart.stacked&&(a=0,i.forEach(function(t,e){t.value!==-Number.MAX_VALUE&&(a+=t.value),r!==Number.MIN_VALUE&&(r+=h[n][e].value)})),i.forEach(function(t,e){i[e].key===o&&(void 0!==l.yaxis[o].min&&(r="function"==typeof l.yaxis[o].min?l.yaxis[o].min(c.minY):l.yaxis[o].min),void 0!==l.yaxis[o].max&&(a="function"==typeof l.yaxis[o].max?l.yaxis[o].max(c.maxY):l.yaxis[o].max),s.setYScaleForIndex(o,r,a))})})})}},{key:"autoScaleY",value:function(t,h,u){t||(t=this);var d=t.w;if(d.globals.isMultipleYAxis||d.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),h;var p=d.globals.seriesX[0],f=d.config.chart.stacked;return h.forEach(function(n,t){for(var r=0,e=0;e<p.length;e++)if(p[e]>=u.xaxis.min){r=e;break}var a,o,s=d.globals.minYArr[t],l=d.globals.maxYArr[t],c=d.globals.stackedSeriesTotals;d.globals.series.forEach(function(i,t){var e=i[r];f?(e=c[r],a=o=e,c.forEach(function(t,e){p[e]<=u.xaxis.max&&p[e]>=u.xaxis.min&&(o<t&&null!==t&&(o=t),i[e]<a&&null!==i[e]&&(a=i[e]))})):(a=o=e,i.forEach(function(e,i){if(p[i]<=u.xaxis.max&&p[i]>=u.xaxis.min){var n=e,r=e;d.globals.series.forEach(function(t){null!==e&&(n=Math.min(t[i],n),r=Math.max(t[i],r))}),o<r&&null!==r&&(o=r),n<a&&null!==n&&(a=n)}})),void 0===a&&void 0===o&&(a=s,o=l),(o*=o<0?.9:1.1)<0&&o<l&&(o=l),(a*=a<0?1.1:.9)<0&&s<a&&(a=s),1<h.length?(h[t].min=void 0===n.min?a:n.min,h[t].max=void 0===n.max?o:n.max):(h[0].min=void 0===n.min?a:n.min,h[0].max=void 0===n.max?o:n.max)})}),h}}]),e}(),$=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.scales=new q(t)}return o(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t,e,i,n){var r=1<arguments.length&&void 0!==e?arguments[1]:Number.MAX_VALUE,a=2<arguments.length&&void 0!==i?arguments[2]:-Number.MAX_VALUE,o=3<arguments.length&&void 0!==n?arguments[3]:null,s=this.w.config,l=this.w.globals,c=-Number.MAX_VALUE,h=Number.MIN_VALUE;null===o&&(o=t+1);var u=l.series,d=u,p=u;"candlestick"===s.chart.type?(d=l.seriesCandleL,p=l.seriesCandleH):l.isRangeData&&(d=l.seriesRangeStart,p=l.seriesRangeEnd);for(var f=t;f<o;f++){l.dataPoints=Math.max(l.dataPoints,u[f].length);for(var g=0;g<l.series[f].length;g++){var m=u[f][g];null!==m&&P.isNumber(m)?(c=Math.max(c,p[f][g]),r=Math.min(r,d[f][g]),a=Math.max(a,d[f][g]),"candlestick"===this.w.config.chart.type&&(c=Math.max(c,l.seriesCandleO[f][g]),c=Math.max(c,l.seriesCandleH[f][g]),c=Math.max(c,l.seriesCandleL[f][g]),a=c=Math.max(c,l.seriesCandleC[f][g])),P.isFloat(m)&&(m=P.noExponents(m),l.yValueDecimal=Math.max(l.yValueDecimal,m.toString().split(".")[1].length)),h>d[f][g]&&d[f][g]<0&&(h=d[f][g])):l.hasNullValues=!0}}return"rangeBar"===s.chart.type&&l.seriesRangeStart.length&&l.isBarHorizontal&&"datetime"===s.xaxis.type&&(h=r),"bar"===s.chart.type&&(h<0&&c<0&&(c=0),h===Number.MIN_VALUE&&(h=0)),{minY:h,maxY:c,lowestY:r,highestY:a}}},{key:"setYRange",value:function(){var i=this.w.globals,e=this.w.config;i.maxY=-Number.MAX_VALUE,i.minY=Number.MIN_VALUE;var t=Number.MAX_VALUE;if(i.isMultipleYAxis)for(var n=0;n<i.series.length;n++){var r=this.getMinYMaxY(n,t,null,n+1);i.minYArr.push(r.minY),i.maxYArr.push(r.maxY),t=r.lowestY}var a=this.getMinYMaxY(0,t,null,i.series.length);if(i.minY=a.minY,i.maxY=a.maxY,t=a.lowestY,e.chart.stacked&&this._setStackedMinMax(),("line"===e.chart.type||"area"===e.chart.type||"candlestick"===e.chart.type||"rangeBar"===e.chart.type&&!i.isBarHorizontal)&&i.minY===Number.MIN_VALUE&&t!==-Number.MAX_VALUE&&t!==i.maxY){var o=i.maxY-t;(0<=t&&t<=10||void 0!==e.yaxis[0].min||void 0!==e.yaxis[0].max)&&(o=0),i.minY=t-5*o/100,0<t&&i.minY<0&&(i.minY=0),i.maxY=i.maxY+5*o/100}return e.yaxis.forEach(function(t,e){void 0!==t.max&&("number"==typeof t.max?i.maxYArr[e]=t.max:"function"==typeof t.max&&(i.maxYArr[e]=t.max(i.isMultipleYAxis?i.maxYArr[e]:i.maxY)),i.maxY=i.maxYArr[e]),void 0!==t.min&&("number"==typeof t.min?i.minYArr[e]=t.min:"function"==typeof t.min&&(i.minYArr[e]=t.min(i.isMultipleYAxis?i.minYArr[e]===Number.MIN_VALUE?0:i.minYArr[e]:i.minY)),i.minY=i.minYArr[e])}),i.isBarHorizontal&&["min","max"].forEach(function(t){void 0!==e.xaxis[t]&&"number"==typeof e.xaxis[t]&&("min"===t?i.minY=e.xaxis[t]:i.maxY=e.xaxis[t])}),i.isMultipleYAxis?(this.scales.setMultipleYScales(),i.minY=t,i.yAxisScale.forEach(function(t,e){i.minYArr[e]=t.niceMin,i.maxYArr[e]=t.niceMax})):(this.scales.setYScaleForIndex(0,i.minY,i.maxY),i.minY=i.yAxisScale[0].niceMin,i.maxY=i.yAxisScale[0].niceMax,i.minYArr[0]=i.yAxisScale[0].niceMin,i.maxYArr[0]=i.yAxisScale[0].niceMax),{minY:i.minY,maxY:i.maxY,minYArr:i.minYArr,maxYArr:i.maxYArr,yAxisScale:i.yAxisScale}}},{key:"setXRange",value:function(){var i=this.w.globals,t=this.w.config,e="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!i.noLabelsProvided||i.noLabelsProvided||i.isXNumeric;if(i.isXNumeric&&function(){for(var t=0;t<i.series.length;t++)if(i.labels[t])for(var e=0;e<i.labels[t].length;e++)null!==i.labels[t][e]&&P.isNumber(i.labels[t][e])&&(i.maxX=Math.max(i.maxX,i.labels[t][e]),i.initialMaxX=Math.max(i.maxX,i.labels[t][e]),i.minX=Math.min(i.minX,i.labels[t][e]),i.initialMinX=Math.min(i.minX,i.labels[t][e]))}(),i.noLabelsProvided&&0===t.xaxis.categories.length&&(i.maxX=i.labels[i.labels.length-1],i.initialMaxX=i.labels[i.labels.length-1],i.minX=1,i.initialMinX=1),i.isXNumeric||i.noLabelsProvided||i.dataFormatXNumeric){var n;if(void 0===t.xaxis.tickAmount?(n=Math.round(i.svgWidth/150),"numeric"===t.xaxis.type&&i.dataPoints<30&&(n=i.dataPoints-1),n>i.dataPoints&&0!==i.dataPoints&&(n=i.dataPoints-1)):"dataPoints"===t.xaxis.tickAmount?(1<i.series.length&&(n=i.series[i.maxValsInArrayIndex].length-1),i.isXNumeric&&(n=i.maxX-i.minX-1)):n=t.xaxis.tickAmount,i.xTickAmount=n,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(i.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(i.minX=t.xaxis.min),void 0!==t.xaxis.range&&(i.minX=i.maxX-t.xaxis.range),i.minX!==Number.MAX_VALUE&&i.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!i.dataFormatXNumeric){for(var r=[],a=i.minX-1;a<i.maxX;a++)r.push(a+1);i.xAxisScale={result:r,niceMin:r[0],niceMax:r[r.length-1]}}else i.xAxisScale=this.scales.setXScale(i.minX,i.maxX);else i.xAxisScale=this.scales.linearScale(1,n,n),i.noLabelsProvided&&0<i.labels.length&&(i.xAxisScale=this.scales.linearScale(1,i.labels.length,n-1),i.seriesX=i.labels.slice());e&&(i.labels=i.xAxisScale.result.slice())}return i.isBarHorizontal&&i.labels.length&&(i.xTickAmount=i.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:i.minX,maxX:i.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&P.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new O(this.ctx);if("datetime"===e.xaxis.type){var n=i.getDate(t.minX);n.setUTCDate(n.getDate()-2),t.minX=new Date(n).getTime();var r=i.getDate(t.maxX);r.setUTCDate(r.getDate()+2),t.maxX=new Date(r).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var r=this.w.globals;r.isXNumeric&&r.seriesX.forEach(function(t,n){1===t.length&&t.push(r.seriesX[r.maxValsInArrayIndex][r.seriesX[r.maxValsInArrayIndex].length-1]);var e=t.slice();e.sort(function(t,e){return t-e}),e.forEach(function(t,e){if(0<e){var i=t-r.seriesX[n][e-1];0<i&&(r.minXDiff=Math.min(i,r.minXDiff))}}),1===r.dataPoints&&r.minXDiff===Number.MAX_VALUE&&(r.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var t=this.w.globals,e=[],i=[];if(t.series.length)for(var n=0;n<t.series[t.maxValsInArrayIndex].length;n++)for(var r=0,a=0,o=0;o<t.series.length;o++)null!==t.series[o][n]&&P.isNumber(t.series[o][n])&&(0<t.series[o][n]?r=r+parseFloat(t.series[o][n])+1e-4:a+=parseFloat(t.series[o][n])),o===t.series.length-1&&(e.push(r),i.push(a));for(var s=0;s<e.length;s++)t.maxY=Math.max(t.maxY,e[s]),t.minY=Math.min(t.minY,i[s])}}]),e}(),Z=function(){function i(t){a(this,i),this.ctx=t,this.w=t.w;var e=this.w;this.xaxisFontSize=e.config.xaxis.labels.style.fontSize,this.axisFontFamily=e.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=e.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===e.config.chart.type&&e.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===e.config.xaxis.position&&(this.xAxisoffX=e.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new j(t)}return o(i,[{key:"drawYaxis",value:function(s){var l=this,c=this.w,h=new F(this.ctx),u=c.config.yaxis[s].labels.style,d=u.fontSize,p=u.fontFamily,f=u.fontWeight,t=h.group({"class":"apexcharts-yaxis",rel:s,transform:"translate("+c.globals.translateYAxisX[s]+", 0)"});if(this.axesUtils.isYAxisHidden(s))return t;var g=h.group({"class":"apexcharts-yaxis-texts-g"});t.add(g);var m=c.globals.yAxisScale[s].result.length-1,v=c.globals.gridHeight/m,x=c.globals.translateY,b=c.globals.yLabelFormatters[s],y=c.globals.yAxisScale[s].result.slice();y=this.axesUtils.checkForReversedLabels(s,y);var w="";if(c.config.yaxis[s].labels.show)for(var e=function(t){var e=y[t];e=b(e,t);var i=c.config.yaxis[s].labels.padding;c.config.yaxis[s].opposite&&0!==c.config.yaxis.length&&(i*=-1);var n=l.axesUtils.getYAxisForeColor(u.colors,s),r=h.drawText({x:i,y:x+m/10+c.config.yaxis[s].labels.offsetY+1,text:e,textAnchor:c.config.yaxis[s].opposite?"start":"end",fontSize:d,fontFamily:p,fontWeight:f,foreColor:Array.isArray(n)?n[t]:n,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.cssClass});if(t===m&&(w=r),g.add(r),0!==c.config.yaxis[s].labels.rotate){var a=h.rotateAroundCenter(w.node),o=h.rotateAroundCenter(r.node);r.node.setAttribute("transform","rotate(".concat(c.config.yaxis[s].labels.rotate," ").concat(a.x," ").concat(o.y,")"))}x+=v},i=m;0<=i;i--)e(i);if(void 0!==c.config.yaxis[s].title.text){var n=h.group({"class":"apexcharts-yaxis-title"}),r=0;c.config.yaxis[s].opposite&&(r=c.globals.translateYAxisX[s]);var a=h.drawText({x:r,y:c.globals.gridHeight/2+c.globals.translateY+c.config.yaxis[s].title.offsetY,text:c.config.yaxis[s].title.text,textAnchor:"end",foreColor:c.config.yaxis[s].title.style.color,fontSize:c.config.yaxis[s].title.style.fontSize,fontWeight:c.config.yaxis[s].title.style.fontWeight,fontFamily:c.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+c.config.yaxis[s].title.style.cssClass});n.add(a),t.add(n)}var o=c.config.yaxis[s].axisBorder,A=31+o.offsetX;if(c.config.yaxis[s].opposite&&(A=-31-o.offsetX),o.show){var C=h.drawLine(A,c.globals.translateY+o.offsetY-2,A,c.globals.gridHeight+c.globals.translateY+o.offsetY+2,o.color,0,o.width);t.add(C)}return c.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(A,m,o,c.config.yaxis[s].axisTicks,s,v,t),t}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new F(this.ctx),n=i.group({"class":"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=i.group({"class":"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(r);var a=e.globals.yAxisScale[t].result.length-1,o=e.globals.gridWidth/a+.1,s=o+e.config.xaxis.labels.offsetX,l=e.globals.xLabelFormatter,c=e.globals.yAxisScale[t].result.slice(),h=e.globals.timescaleLabels;0<h.length&&(this.xaxisLabels=h.slice(),a=(c=h.slice()).length),c=this.axesUtils.checkForReversedLabels(t,c);var u=h.length;if(e.config.xaxis.labels.show)for(var d=u?0:a;u?d<u:0<=d;u?d++:d--){var p=c[d];p=l(p,d);var f=e.globals.gridWidth+e.globals.padHorizontal-(s-o+e.config.xaxis.labels.offsetX);if(h.length){var g=this.axesUtils.getLabel(c,h,f,d,this.drawnLabels,this.xaxisFontSize);f=g.x,p=g.text,this.drawnLabels.push(g.text),0===d&&e.globals.skipFirstTimelinelabel&&(p=""),d===c.length-1&&e.globals.skipLastTimelinelabel&&(p="")}var m=i.drawText({x:f,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:p,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+e.config.xaxis.labels.style.cssClass});r.add(m),m.tspan(p);var v=document.createElementNS(e.globals.SVGNS,"title");v.textContent=p,m.node.appendChild(v),s+=o}return this.inversedYAxisTitleText(n),this.inversedYAxisBorder(n),n}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new F(this.ctx),n=e.config.xaxis.axisBorder;if(n.show){var r=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(r-=15);var a=i.drawLine(e.globals.padHorizontal+r+n.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,n.color,0,n.height);t.add(a)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new F(this.ctx);if(void 0!==e.config.xaxis.title.text){var n=i.group({"class":"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});n.add(r),t.add(n)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,n=new F(this.ctx),r={width:0,height:0},a={width:0,height:0},o=i.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g"));null!==o&&(r=o.getBoundingClientRect());var s=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text"));if(null!==s&&(a=s.getBoundingClientRect()),null!==s){var l=this.xPaddingForYAxisTitle(t,r,a,e);s.setAttribute("x",l.xPos-(e?10:0))}if(null!==s){var c=n.rotateAroundCenter(s);s.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,n){var r=this.w,a=0,o=0,s=10;return void 0===r.config.yaxis[t].title.text||t<0?{xPos:o,padd:0}:(n?(o=e.width+r.config.yaxis[t].title.offsetX+i.width/2+s/2,0===(a+=1)&&(o-=s/2)):(o=-1*e.width+r.config.yaxis[t].title.offsetX+s/2+i.width/2,r.globals.isBarHorizontal&&(s=25,o=-1*e.width-r.config.yaxis[t].title.offsetX-s)),{xPos:o,padd:s})}},{key:"setYAxisXPosition",value:function(r,a){var o=this.w,s=0,l=0,c=18,h=1;1<o.config.yaxis.length&&(this.multipleYs=!0),o.config.yaxis.map(function(t,e){var i=-1<o.globals.ignoreYAxisIndexes.indexOf(e)||!t.show||t.floating||0===r[e].width,n=r[e].width+a[e].width;t.opposite?o.globals.isBarHorizontal?(l=o.globals.gridWidth+o.globals.translateX-1,o.globals.translateYAxisX[e]=l-t.labels.offsetX):(l=o.globals.gridWidth+o.globals.translateX+h,i||(h=h+n+20),o.globals.translateYAxisX[e]=l-t.labels.offsetX+20):(s=o.globals.translateX-c,i||(c=c+n+20),o.globals.translateYAxisX[e]=s+t.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var o=this.w,t=o.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(t=P.listToArray(t)).forEach(function(t,e){var i=o.config.yaxis[e];if(i&&void 0!==i.labels.align){var n=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),r=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label"));r=P.listToArray(r);var a=n.getBoundingClientRect();"left"===i.labels.align?(r.forEach(function(t){t.setAttribute("text-anchor","start")}),i.opposite||n.setAttribute("transform","translate(-".concat(a.width,", 0)"))):"center"===i.labels.align?(r.forEach(function(t){t.setAttribute("text-anchor","middle")}),n.setAttribute("transform","translate(".concat(a.width/2*(i.opposite?1:-1),", 0)"))):"right"===i.labels.align&&(r.forEach(function(t){t.setAttribute("text-anchor","end")}),i.opposite&&n.setAttribute("transform","translate(".concat(a.width,", 0)")))}})}}]),i}(),t=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.documentEvent=P.bind(this.documentEvent,this)}return o(e,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var n=i.globals.events[t].indexOf(e);-1!==n&&i.globals.events[t].splice(n,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var n=i.globals.events[t],r=n.length,a=0;a<r;a++)n[a].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var e=this,i=this.w,n=this.ctx,r=i.globals.dom.baseEl.querySelector(i.globals.chartClass);this.ctx.eventList.forEach(function(t){r.addEventListener(t,function(t){var e=Object.assign({},i,{seriesIndex:i.globals.capturedSeriesIndex,dataPointIndex:i.globals.capturedDataPointIndex});"mousemove"===t.type||"touchmove"===t.type?"function"==typeof i.config.chart.events.mouseMove&&i.config.chart.events.mouseMove(t,n,e):("mouseup"===t.type&&1===t.which||"touchend"===t.type)&&("function"==typeof i.config.chart.events.click&&i.config.chart.events.click(t,n,e),n.ctx.events.fireEvent("click",[t,n,e]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(t){i.globals.dom.baseEl.addEventListener(t,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var n=e.globals.dom.baseEl.querySelector(".apexcharts-menu");n&&n.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&n.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),e}(),J=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&0<window.Apex.chart.locales.length&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=t.filter(function(t){return t.name===e})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var n=P.extend(v,i);this.w.globals.locale=n.options}}]),e}(),K=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"drawAxis",value:function(t){var e,i,n=this.w.globals,r=this.w.config,a=new G(this.ctx),o=new Z(this.ctx);n.axisCharts&&"radar"!==t&&(n.isBarHorizontal?(i=o.drawYaxisInversed(0),e=a.drawXaxisInversed(0),n.dom.elGraphical.add(e),n.dom.elGraphical.add(i)):(e=a.drawXaxis(),n.dom.elGraphical.add(e),r.yaxis.map(function(t,e){-1===n.ignoreYAxisIndexes.indexOf(e)&&(i=o.drawYaxis(e),n.dom.Paper.add(i))}))),r.yaxis.map(function(t,e){-1===n.ignoreYAxisIndexes.indexOf(e)&&o.yAxisTitleRotate(e,t.opposite)})}}]),e}(),Q=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new F(this.ctx),i=new I(this.ctx),n=t.config.xaxis.crosshairs.fill.gradient,r=t.config.xaxis.crosshairs.dropShadow,a=t.config.xaxis.crosshairs.fill.type,o=n.colorFrom,s=n.colorTo,l=n.opacityFrom,c=n.opacityTo,h=n.stops,u=r.enabled,d=r.left,p=r.top,f=r.blur,g=r.color,m=r.opacity,v=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===a&&(v=e.drawGradient("vertical",o,s,l,c,null,h,null));var x=e.drawRect();1===t.config.xaxis.crosshairs.width&&(x=e.drawLine()),x.attr({"class":"apexcharts-xcrosshairs",x:0,y:0,y2:t.globals.gridHeight,width:P.isNumber(t.config.xaxis.crosshairs.width)?t.config.xaxis.crosshairs.width:0,height:t.globals.gridHeight,fill:v,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),u&&(x=i.dropShadow(x,{left:d,top:p,blur:f,color:g,opacity:m})),t.globals.dom.elGraphical.add(x)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new F(this.ctx),i=t.config.yaxis[0].crosshairs,n=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var r=e.drawLine(-n,0,t.globals.gridWidth+n,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);r.attr({"class":"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(r)}var a=e.drawLine(-n,0,t.globals.gridWidth+n,0,i.stroke.color,0,0);a.attr({"class":"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(a)}}]),e}(),tt=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"checkResponsiveConfig",value:function(t){var o=this,s=this.w,e=s.config;if(0!==e.responsive.length){var l=e.responsive.slice();l.sort(function(t,e){return t.breakpoint>e.breakpoint?1:e.breakpoint>t.breakpoint?-1:0}).reverse();var c=new B({}),i=function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:{},i=l[0].breakpoint,n=0<window.innerWidth?window.innerWidth:screen.width;if(i<n){var r=D.extendArrayProps(c,s.globals.initialConfig,s);e=P.extend(r,e),e=P.extend(s.config,e),o.overrideResponsiveOptions(e)}else for(var a=0;a<l.length;a++)n<l[a].breakpoint&&(e=D.extendArrayProps(c,l[a].options,s),e=P.extend(s.config,e),o.overrideResponsiveOptions(e))};if(t){var n=D.extendArrayProps(c,t,s);n=P.extend(s.config,n),i(n=P.extend(n,t))}else i({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new B(t).init({responsiveOverride:!0});this.w.config=e}}]),e}(),et=function(){function i(t){a(this,i),this.ctx=t,this.colors=[],this.w=t.w;var e=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===e.config.chart.type&&e.config.plotOptions.treemap.distributed||"heatmap"===e.config.chart.type&&e.config.plotOptions.heatmap.distributed,this.isBarDistributed=e.config.plotOptions.bar.distributed&&("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)}return o(i,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var n=this,r=this.w,t=new P;if(r.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(r.config.theme.mode)),void 0===r.config.colors?r.globals.colors=this.predefined():(r.globals.colors=r.config.colors,Array.isArray(r.config.colors)&&0<r.config.colors.length&&"function"==typeof r.config.colors[0]&&(r.globals.colors=r.config.series.map(function(t,e){var i=r.config.colors[e];return i||(i=r.config.colors[0]),"function"==typeof i?(n.isColorFn=!0,i({value:r.globals.axisCharts?r.globals.series[e][0]?r.globals.series[e][0]:0:r.globals.series[e],seriesIndex:e,dataPointIndex:e,w:r})):i}))),r.globals.seriesColors.map(function(t,e){t&&(r.globals.colors[e]=t)}),r.config.theme.monochrome.enabled){var e=[],i=r.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(i=r.globals.series[0].length*r.globals.series.length);for(var a=r.config.theme.monochrome.color,o=1/(i/r.config.theme.monochrome.shadeIntensity),s=r.config.theme.monochrome.shadeTo,l=0,c=0;c<i;c++){var h=void 0;h="dark"===s?t.shadeColor(-1*l,a):t.shadeColor(l,a),l+=o,e.push(h)}r.globals.colors=e.slice()}var u=r.globals.colors.slice();this.pushExtraColors(r.globals.colors),["fill","stroke"].forEach(function(t){void 0===r.config[t].colors?r.globals[t].colors=n.isColorFn?r.config.colors:u:r.globals[t].colors=r.config[t].colors.slice(),n.pushExtraColors(r.globals[t].colors)}),void 0===r.config.dataLabels.style.colors?r.globals.dataLabels.style.colors=u:r.globals.dataLabels.style.colors=r.config.dataLabels.style.colors.slice(),this.pushExtraColors(r.globals.dataLabels.style.colors,50),void 0===r.config.plotOptions.radar.polygons.fill.colors?r.globals.radarPolygons.fill.colors=["dark"===r.config.theme.mode?"#424242":"#fff"]:r.globals.radarPolygons.fill.colors=r.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(r.globals.radarPolygons.fill.colors,20),void 0===r.config.markers.colors?r.globals.markers.colors=u:r.globals.markers.colors=r.config.markers.colors.slice(),this.pushExtraColors(r.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?arguments[2]:null,r=this.w,a=e||r.globals.series.length;if(null===n&&(n=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===r.config.chart.type&&r.config.plotOptions.heatmap.colorScale.inverse),n&&r.globals.series.length&&(a=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),t.length<a)for(var o=a-t.length,s=0;s<o;s++)t.push(t[s])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode||"light",i=t.theme.palette?t.theme.palette:"dark"===e?"palette4":"palette1",n=t.chart.foreColor?t.chart.foreColor:"dark"===e?"#f6f7f8":"#373d3f";return t.tooltip.theme=e,t.chart.foreColor=n,t.theme.palette=i,t}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"];break;default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]}return this.colors}}]),i}(),it=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,n=e.globals.svgWidth/2,r=i.offsetY,a="middle";if("left"===i.align?(n=10,a="start"):"right"===i.align&&(n=e.globals.svgWidth-10,a="end"),n+=i.offsetX,r=r+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var o=new F(this.ctx).drawText({x:n,y:r,text:i.text,textAnchor:a,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(o)}}}]),e}(),nt=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,n=0,r="title"===t?e.config.title.floating:e.config.subtitle.floating,a=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==a&&!r){var o=a.getBoundingClientRect();i=o.width,n=e.globals.axisCharts?o.height+5:o.height}return{width:i,height:n}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.baseEl.querySelector(".apexcharts-legend");t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},P.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var n=e.map(function(t){return Array.isArray(t)?t.length:1}),r=Math.max.apply(Math,C(n));i=e[n.indexOf(r)]}return i}}]),e}(),rt=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),0<e.globals.timescaleLabels.length){var n=this.getxAxisTimeScaleLabelsCoords();t={width:n.width,height:n.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var r=e.globals.xLabelFormatter,a=P.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,i);e.globals.isBarHorizontal&&(o=a=e.globals.yAxisScale[0].result.reduce(function(t,e){return t.length>e.length?t:e},0));var s=new Y(this.dCtx.ctx),l=a;a=s.xLabelFormat(r,a,l,{i:void 0,dateFormatter:new O(this.dCtx.ctx).formatDate,w:e}),o=s.xLabelFormat(r,o,l,{i:void 0,dateFormatter:new O(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===a||""===String(a).trim())&&(o=a="1");var c=new F(this.dCtx.ctx),h=c.getTextRects(a,e.config.xaxis.labels.style.fontSize),u=h;if(a!==o&&(u=c.getTextRects(o,e.config.xaxis.labels.style.fontSize)),(t={width:h.width>=u.width?h.width:u.width,height:h.height>=u.height?h.height:u.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var d=function(t){return c.getTextRects(t,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};h=d(a),a!==o&&(u=d(o)),t.height=(h.height>u.height?h.height:u.height)/1.5,t.width=h.width>u.width?h.width:u.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var n=new F(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=n.width,i=n.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(t){return t.value}),n=i.reduce(function(t,e){return void 0===t?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):t.length>e.length?t:e},0);return 1.05*(t=new F(this.dCtx.ctx).getTextRects(n,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var n=this,r=this.w,a=r.globals,e=r.config,o=e.xaxis.type,s=t.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var i=r.config.yaxis[0].opposite&&r.globals.isBarHorizontal,l=function(t,e){var i;i=e,
-1!==a.collapsedSeriesIndices.indexOf(i)||function(){if(n.dCtx.timescaleLabels&&n.dCtx.timescaleLabels.length){var t=n.dCtx.timescaleLabels[0],e=n.dCtx.timescaleLabels[n.dCtx.timescaleLabels.length-1].position+s/1.75-n.dCtx.yAxisWidthRight,i=t.position-s/1.75+n.dCtx.yAxisWidthLeft;e>a.svgWidth-a.translateX&&(a.skipLastTimelinelabel=!0),i<0&&(a.skipFirstTimelinelabel=!0)}else"datetime"===o?n.dCtx.gridPad.right<s&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):"datetime"!==o&&n.dCtx.gridPad.right<s/2-n.dCtx.yAxisWidthRight&&!a.rotateXLabels&&("between"!==r.config.xaxis.tickPlacement||r.globals.isBarHorizontal)&&(n.dCtx.xPadRight=s/2+1)}()};e.yaxis.forEach(function(t,e){i?(n.dCtx.gridPad.left<s&&(n.dCtx.xPadLeft=s/2+1),n.dCtx.xPadRight=s/2+1):l(0,e)})}}]),e}(),at=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"getyAxisLabelsCoords",value:function(){var u=this,d=this.w,p=[],f=10,g=new j(this.dCtx.ctx);return d.config.yaxis.map(function(t,e){var i=d.globals.yAxisScale[e];if(!g.isYAxisHidden(e)&&t.labels.show&&i.result.length){var n=d.globals.yLabelFormatters[e],r=String(i.niceMin).length>String(i.niceMax).length?i.niceMin:i.niceMax,a=n(r,{seriesIndex:e,dataPointIndex:-1,w:d}),o=a;if(void 0!==a&&0!==a.length||(a=r),d.globals.isBarHorizontal){f=0;var s=d.globals.labels.slice();a=n(a=P.getLargestStringFromArr(s),{seriesIndex:e,dataPointIndex:-1,w:d}),o=u.dCtx.dimHelpers.getLargestStringFromMultiArr(a,s)}var l=new F(u.dCtx.ctx),c=l.getTextRects(a,t.labels.style.fontSize),h=c;a!==o&&(h=l.getTextRects(o,t.labels.style.fontSize)),p.push({width:(h.width>c.width?h.width:c.width)+f,height:h.height>c.height?h.height:c.height})}else p.push({width:0,height:0})}),p}},{key:"getyAxisTitleCoords",value:function(){var i=this,t=this.w,n=[];return t.config.yaxis.map(function(t){if(t.show&&void 0!==t.title.text){var e=new F(i.dCtx.ctx).getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,"rotate(-90 0 0)",!1);n.push({width:e.width,height:e.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var a=this.w,o=0,s=0,l=0,c=1<a.globals.yAxisScale.length?10:0,h=new j(this.dCtx.ctx),i=function(t,e){var i,n=a.config.yaxis[e].floating,r=0;0<t.width&&!n?(r=t.width+c,i=e,-1<a.globals.ignoreYAxisIndexes.indexOf(i)&&(r=r-t.width-c)):r=n||h.isYAxisHidden(e)?0:5,a.config.yaxis[e].opposite?l+=r:s+=r,o+=r};return a.globals.yLabelsCoords.map(function(t,e){i(t,e)}),a.globals.yTitleCoords.map(function(t,e){i(t,e)}),a.globals.isBarHorizontal&&!a.config.yaxis[0].floating&&(o=a.globals.yLabelsCoords[0].width+a.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=l,o}}]),e}(),ot=function(){function e(t){a(this,e),this.w=t.w,this.dCtx=t}return o(e,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w;if(e.globals.noData||e.globals.allSeriesCollapsed)return 0;var i=e.config.chart.type,n=0,r="bar"===i||"rangeBar"===i?e.config.series.length:1;if(0<e.globals.comboBarCount&&(r=e.globals.comboBarCount),e.globals.collapsedSeries.forEach(function(t){"bar"!==t.type&&"rangeBar"!==t.type||(r-=1)}),e.config.chart.stacked&&(r=1),("bar"===i||"rangeBar"===i||0<e.globals.comboBarCount)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&0<r){var a,o,s=Math.abs(e.globals.initialMaxX-e.globals.initialMinX);s<=3&&(s=e.globals.dataPoints),a=s/t,e.globals.minXDiff&&0<e.globals.minXDiff/a&&(o=e.globals.minXDiff/a),t/2<o&&(o/=2),(n=o/r*parseInt(e.config.plotOptions.bar.columnWidth,10)/100)<1&&(n=1),n=n/(1<r?1:1.5)+5,e.globals.barPadForNumericAxis=n}return n}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,i=this.w,t=i.globals,n=this.dCtx.isSparkline||!i.globals.axisCharts?0:10;["title","subtitle"].forEach(function(t){void 0!==i.config[t].text?n+=i.config[t].margin:n+=e.dCtx.isSparkline||!i.globals.axisCharts?0:5}),!i.config.legend.show||"bottom"!==i.config.legend.position||i.config.legend.floating||i.globals.axisCharts||(n+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");t.gridHeight=t.gridHeight-r.height-a.height-n,t.translateY=t.translateY+r.height+a.height+n}},{key:"setGridXPosForDualYAxis",value:function(i,n){var r=this.w,a=new j(this.dCtx.ctx);r.config.yaxis.map(function(t,e){-1!==r.globals.ignoreYAxisIndexes.indexOf(e)||t.floating||a.isYAxisHidden(e)||(t.opposite&&(r.globals.translateX=r.globals.translateX-(n[e].width+i[e].width)-parseInt(r.config.yaxis[e].labels.style.fontSize,10)/1.2-12),r.globals.translateX<2&&(r.globals.translateX=2))})}}]),e}(),st=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new nt(this),this.dimYAxis=new at(this),this.dimXAxis=new rt(this),this.dimGrid=new ot(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return o(e,[{key:"plotCoords",value:function(){var t=this.w.globals;this.lgRect=this.dimHelpers.getLegendsRect(),t.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),t.gridHeight=t.gridHeight-this.gridPad.top-this.gridPad.bottom,t.gridWidth=t.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var e=this.dimGrid.gridPadForColumnsInNumericAxis(t.gridWidth);t.gridWidth=t.gridWidth-2*e,t.translateX=t.translateX+this.gridPad.left+this.xPadLeft+(0<e?e+4:0),t.translateY=t.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,i=this.w,e=i.globals,n=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();i.globals.yLabelsCoords=[],i.globals.yTitleCoords=[],i.config.yaxis.map(function(t,e){i.globals.yLabelsCoords.push({width:n[e].width,index:e}),i.globals.yTitleCoords.push({width:r[e].width,index:e})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,o),e.translateXAxisY=i.globals.rotateXLabels?this.xAxisHeight/8:-4,e.translateXAxisX=i.globals.rotateXLabels&&i.globals.isXNumeric&&i.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,i.globals.isBarHorizontal&&(e.rotateXLabels=!1,e.translateXAxisY=parseInt(i.config.xaxis.labels.style.fontSize,10)/1.5*-1),e.translateXAxisY=e.translateXAxisY+i.config.xaxis.labels.offsetY,e.translateXAxisX=e.translateXAxisX+i.config.xaxis.labels.offsetX;var s=this.yAxisWidth,l=this.xAxisHeight;e.xAxisLabelsHeight=this.xAxisHeight,e.xAxisLabelsWidth=this.xAxisWidth,e.xAxisHeight=this.xAxisHeight;var c=10;("radar"===i.config.chart.type||this.isSparkline)&&(s=0,l=e.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===i.config.chart.type)&&(c=l=s=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(a);var h=function(){e.translateX=s,e.gridHeight=e.svgHeight-t.lgRect.height-l-(t.isSparkline||"treemap"===i.config.chart.type?0:i.globals.rotateXLabels?10:15),e.gridWidth=e.svgWidth-s};switch("top"===i.config.xaxis.position&&(c=e.xAxisHeight-i.config.xaxis.axisTicks.height-5),i.config.legend.position){case"bottom":e.translateY=c,h();break;case"top":e.translateY=this.lgRect.height+c,h();break;case"left":e.translateY=c,e.translateX=this.lgRect.width+s,e.gridHeight=e.svgHeight-l-12,e.gridWidth=e.svgWidth-this.lgRect.width-s;break;case"right":e.translateY=c,e.translateX=s,e.gridHeight=e.svgHeight-l-12,e.gridWidth=e.svgWidth-this.lgRect.width-s-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,n),new Z(this.ctx).setYAxisXPosition(n,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,n=0;t.config.legend.show&&!t.config.legend.floating&&(n=20);var r="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",a=i.plotOptions[r].offsetY,o=i.plotOptions[r].offsetX;if(!i.legend.show||i.legend.floating)return e.gridHeight=e.svgHeight-i.grid.padding.left+i.grid.padding.right,e.gridWidth=e.gridHeight,e.translateY=a,void(e.translateX=o+(e.svgWidth-e.gridWidth)/2);switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=a-10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height-e.goldenPadding,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+a+10,e.translateX=o+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-n,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=a,e.translateX=o+this.lgRect.width+n;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-n-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=a,e.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e){var i=this.w;this.xAxisHeight=(t.height+e.height)*(i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO)+(i.globals.rotateXLabels?22:10),this.xAxisWidth=t.width,this.xAxisHeight-e.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var n=0,r=0;i.config.yaxis.forEach(function(t){n+=t.labels.minWidth,r+=t.labels.maxWidth}),this.yAxisWidth<n&&(this.yAxisWidth=n),this.yAxisWidth>r&&(this.yAxisWidth=r)}}]),e}(),lt=function(){function e(t){a(this,e),this.w=t.w,this.lgCtx=t}return o(e,[{key:"getLegendStyles",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css");var e=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.position-bottom, .apexcharts-legend.position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-left, .apexcharts-legend.position-top.apexcharts-align-left, .apexcharts-legend.position-right, .apexcharts-legend.position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-center, .apexcharts-legend.position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.position-bottom.apexcharts-align-right, .apexcharts-legend.position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.position-bottom .apexcharts-legend-series, .apexcharts-legend.position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return t.appendChild(e),t}},{key:"getLegendBBox",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),e=t.width;return{clwh:t.height,clww:e}}},{key:"appendToForeignObject",value:function(){var t=this.w.globals;t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject");var e=t.dom.elLegendForeign;e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",t.svgWidth),e.setAttribute("height",t.svgHeight),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.appendChild(t.dom.elLegendWrap),e.appendChild(this.getLegendStyles()),t.dom.Paper.node.insertBefore(e,t.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(t,e){var i=this,n=this.w;if(n.globals.axisCharts||"radialBar"===n.config.chart.type){n.globals.resized=!0;var r=null,a=null;n.globals.risingSeries=[],n.globals.axisCharts?(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),a=parseInt(r.getAttribute("data:realIndex"),10)):(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),a=parseInt(r.getAttribute("rel"),10)-1),e?[{cs:n.globals.collapsedSeries,csi:n.globals.collapsedSeriesIndices},{cs:n.globals.ancillaryCollapsedSeries,csi:n.globals.ancillaryCollapsedSeriesIndices}].forEach(function(t){i.riseCollapsedSeries(t.cs,t.csi,a)}):this.hideSeries({seriesEl:r,realIndex:a})}else{var o=n.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),s=n.config.chart.type;if("pie"===s||"polarArea"===s||"donut"===s){var l=n.config.plotOptions.pie.donut.labels;new F(this.lgCtx.ctx).pathMouseDown(o.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(o.members[0].node,l)}o.fire("click")}}},{key:"hideSeries",value:function(t){var e=t.seriesEl,i=t.realIndex,n=this.w,r=P.clone(n.config.series);if(n.globals.axisCharts){var a=!1;if(n.config.yaxis[i]&&n.config.yaxis[i].show&&n.config.yaxis[i].showAlways&&(a=!0,n.globals.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(n.globals.ancillaryCollapsedSeries.push({index:i,data:r[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),n.globals.ancillaryCollapsedSeriesIndices.push(i))),!a){n.globals.collapsedSeries.push({index:i,data:r[i].data.slice(),type:e.parentNode.className.baseVal.split("-")[1]}),n.globals.collapsedSeriesIndices.push(i);var o=n.globals.risingSeries.indexOf(i);n.globals.risingSeries.splice(o,1)}}else n.globals.collapsedSeries.push({index:i,data:r[i]}),n.globals.collapsedSeriesIndices.push(i);for(var s=e.childNodes,l=0;l<s.length;l++)s[l].classList.contains("apexcharts-series-markers-wrap")&&(s[l].classList.contains("apexcharts-hide")?s[l].classList.remove("apexcharts-hide"):s[l].classList.add("apexcharts-hide"));n.globals.allSeriesCollapsed=n.globals.collapsedSeries.length===n.config.series.length,r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var n=this.w,r=P.clone(n.config.series);if(0<t.length){for(var a=0;a<t.length;a++)t[a].index===i&&(n.globals.axisCharts?r[i].data=t[a].data.slice():r[i]=t[a].data,t.splice(a,1),e.splice(a,1),n.globals.risingSeries.push(i));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(i){var n=this.w;return n.globals.axisCharts?i.forEach(function(t,e){-1<n.globals.collapsedSeriesIndices.indexOf(e)&&(i[e].data=[])}):i.forEach(function(t,e){-1<n.globals.collapsedSeriesIndices.indexOf(e)&&(i[e]=0)}),i}}]),e}(),ct=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new lt(this)}return o(e,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config;if((i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||1<e.series.length||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),P.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,n=e.globals.seriesNames,r=e.globals.colors.slice();if("heatmap"===e.config.chart.type){var a=e.config.plotOptions.heatmap.colorScale.ranges;n=a.map(function(t){return t.name?t.name:t.from+" - "+t.to}),r=a.map(function(t){return t.color})}else this.isBarsDistributed&&(n=e.globals.labels.slice());for(var o=e.globals.legendFormatter,s=e.config.legend.inverseOrder,l=s?n.length-1:0;s?0<=l:l<=n.length-1;s?l--:l++){var c=o(n[l],{seriesIndex:l,w:e}),h=!1,u=!1;if(0<e.globals.collapsedSeries.length)for(var d=0;d<e.globals.collapsedSeries.length;d++)e.globals.collapsedSeries[d].index===l&&(h=!0);if(0<e.globals.ancillaryCollapsedSeriesIndices.length)for(var p=0;p<e.globals.ancillaryCollapsedSeriesIndices.length;p++)e.globals.ancillaryCollapsedSeriesIndices[p]===l&&(u=!0);var f=document.createElement("span");f.classList.add("apexcharts-legend-marker");var g=e.config.legend.markers.offsetX,m=e.config.legend.markers.offsetY,v=e.config.legend.markers.height,x=e.config.legend.markers.width,b=e.config.legend.markers.strokeWidth,y=e.config.legend.markers.strokeColor,w=e.config.legend.markers.radius,A=f.style;A.background=r[l],A.color=r[l],A.setProperty("background",r[l],"important"),e.config.legend.markers.fillColors&&e.config.legend.markers.fillColors[l]&&(A.background=e.config.legend.markers.fillColors[l]),void 0!==e.globals.seriesColors[l]&&(A.background=e.globals.seriesColors[l],A.color=e.globals.seriesColors[l]),A.height=Array.isArray(v)?parseFloat(v[l])+"px":parseFloat(v)+"px",A.width=Array.isArray(x)?parseFloat(x[l])+"px":parseFloat(x)+"px",A.left=Array.isArray(g)?g[l]:g,A.top=Array.isArray(m)?m[l]:m,A.borderWidth=Array.isArray(b)?b[l]:b,A.borderColor=Array.isArray(y)?y[l]:y,A.borderRadius=Array.isArray(w)?parseFloat(w[l])+"px":parseFloat(w)+"px",e.config.legend.markers.customHTML&&(Array.isArray(e.config.legend.markers.customHTML)?e.config.legend.markers.customHTML[l]&&(f.innerHTML=e.config.legend.markers.customHTML[l]()):f.innerHTML=e.config.legend.markers.customHTML()),F.setAttrs(f,{rel:l+1,"data:collapsed":h||u}),(h||u)&&f.classList.add("apexcharts-inactive-legend");var C=document.createElement("div"),S=document.createElement("span");S.classList.add("apexcharts-legend-text"),S.innerHTML=Array.isArray(c)?c.join(" "):c;var k=e.config.legend.labels.useSeriesColors?e.globals.colors[l]:e.config.legend.labels.colors;k||(k=e.config.chart.foreColor),S.style.color=k,S.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",S.style.fontWeight=e.config.legend.fontWeight,S.style.fontFamily=i||e.config.chart.fontFamily,F.setAttrs(S,{rel:l+1,i:l,"data:default-text":encodeURIComponent(c),"data:collapsed":h||u}),C.appendChild(f),C.appendChild(S);var T=new D(this.ctx);e.config.legend.showForZeroSeries||0===T.getSeriesTotalByIndex(l)&&T.seriesHaveSameValues(l)&&!T.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&C.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||T.isSeriesNull(l)&&-1===e.globals.collapsedSeriesIndices.indexOf(l)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&C.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(C),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("position-"+e.config.legend.position),C.classList.add("apexcharts-legend-series"),C.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",F.setAttrs(C,{rel:l+1,seriesName:P.escapeString(n[l]),"data:collapsed":h||u}),(h||u)&&C.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||C.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,n=i.globals.dom.baseEl.querySelector(".apexcharts-legend"),r=n.getBoundingClientRect(),a=0,o=0;if("bottom"===i.config.legend.position)o+=i.globals.svgHeight-r.height/2;else if("top"===i.config.legend.position){var s=new st(this.ctx),l=s.dimHelpers.getTitleSubtitleCoords("title").height,c=s.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=o+(0<l?l-10:0)+(0<c?c-10:0)}n.style.position="absolute",a=a+t+i.config.legend.offsetX,o=o+e+i.config.legend.offsetY,n.style.left=a+"px",n.style.top=o+"px","bottom"===i.config.legend.position?(n.style.top="auto",n.style.bottom=5-i.config.legend.offsetY+"px"):"right"===i.config.legend.position&&(n.style.left="auto",n.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(t){n.style[t]&&(n.style[t]=parseInt(i.config.legend[t],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var e=this.legendHelpers.getLegendBBox(),i=new st(this.ctx),n=i.dimHelpers.getTitleSubtitleCoords("title"),r=i.dimHelpers.getTitleSubtitleCoords("subtitle"),a=0;"bottom"===t.config.legend.position?a=-e.clwh/1.8:"top"===t.config.legend.position&&(a=n.height+r.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,a)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendBBox(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var n=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,n,this.w]),new S(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new S(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker")){var i=parseInt(t.target.getAttribute("rel"),10)-1,n="true"===t.target.getAttribute("data:collapsed"),r=this.w.config.chart.events.legendClick;"function"==typeof r&&r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var a=this.w.config.legend.markers.onClick;"function"==typeof a&&t.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,n)}}}]),e}(),ht=function(){function i(t){a(this,i),this.ctx=t,this.w=t.w;var e=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=e.globals.minX,this.maxX=e.globals.maxX}return o(i,[{key:"createToolbar",value:function(){var r=this,a=this.w,t=function(){return document.createElement("div")},e=t();if(e.setAttribute("class","apexcharts-toolbar"),e.style.top=a.config.chart.toolbar.offsetY+"px",e.style.right=3-a.config.chart.toolbar.offsetX+"px",a.globals.dom.elWrap.appendChild(e),this.elZoom=t(),this.elZoomIn=t(),this.elZoomOut=t(),this.elPan=t(),this.elSelection=t(),this.elZoomReset=t(),this.elMenuIcon=t(),this.elMenu=t(),this.elCustomIcons=[],this.t=a.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons.push(t());var o=[],n=function(t,e,i){var n=t.toLowerCase();r.t[n]&&a.config.chart.zoom.enabled&&o.push({el:e,icon:"string"==typeof r.t[n]?r.t[n]:i,title:r.localeValues[t],"class":"apexcharts-".concat(n,"-icon")})};n("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),n("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var s=function(t){r.t[t]&&a.config.chart[t].enabled&&o.push({el:"zoom"===t?r.elZoom:r.elSelection,icon:"string"==typeof r.t[t]?r.t[t]:"zoom"===t?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:r.localeValues["zoom"===t?"selectionZoom":"selection"],"class":a.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(t,"-icon")})};s("zoom"),s("selection"),this.t.pan&&a.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,"class":a.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),n("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,"class":"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)o.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,"class":"apexcharts-toolbar-custom-icon "+this.t.customIcons[l]["class"]});o.forEach(function(t,e){t.index&&P.moveIndexInArray(o,e,t.index)});for(var c=0;c<o.length;c++)F.setAttrs(o[c].el,{"class":o[c]["class"],title:o[c].title}),o[c].el.innerHTML=o[c].icon,e.appendChild(o[c].el);this._createHamburgerMenu(e),a.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):a.globals.panEnabled?this.elPan.classList.add(this.selectedClass):a.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),F.setAttrs(this.elMenu,{"class":"apexcharts-menu"});var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||e.splice(2,1);for(var i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,F.setAttrs(this.elMenuItems[i],{"class":"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(n){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var e="selection"===n?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i="selection"===n?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],e.classList.contains(t.ctx.toolbar.selectedClass)?e.classList.remove(t.ctx.toolbar.selectedClass):e.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(t){t&&t.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isTimelineBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(
this.minX+this.maxX)/2,i=(this.minX+e)/2,n=(this.maxX+e)/2,r=this._getNewMinXMaxX(i,n);t.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isTimelineBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,i=this.minX-(e-this.minX),n=this.maxX-(e-this.maxX),r=this._getNewMinXMaxX(i,n);t.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var n={min:t,max:e},r=this.getBeforeZoomRange(n);r&&(n=r.xaxis);var a={xaxis:n},o=P.clone(i.globals.initialConfig.yaxis);i.config.chart.zoom.autoScaleYaxis&&(o=new q(this.ctx).autoScaleY(this.ctx,o,{xaxis:n})),i.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(n,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout(function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new V(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar["export"].csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(){this.ctx.getSyncedCharts().forEach(function(t){var e=t.w;if(e.globals.lastXAxis.min=void 0,e.globals.lastXAxis.max=void 0,t.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof e.config.chart.events.beforeResetZoom){var i=e.config.chart.events.beforeResetZoom(t,e);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}"function"==typeof e.config.chart.events.zoomed&&t.ctx.toolbar.zoomCallback({min:e.config.xaxis.min,max:e.config.xaxis.max}),e.globals.zoomed=!1;var n=t.ctx.series.emptyCollapsedSeries(P.clone(e.globals.initialSeries));t.updateHelpers._updateSeries(n,e.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),i}(),ut=function(){function i(t){var e;return a(this,i),(e=n.call(this,t)).ctx=t,e.w=t.w,e.dragged=!1,e.graphics=new F(e.ctx),e.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],e.clientX=0,e.clientY=0,e.startX=0,e.endX=0,e.dragX=0,e.startY=0,e.endY=0,e.dragY=0,e.moveDirection="none",e}l(i,ht);var n=u(i);return o(i,[{key:"init",value:function(t){var e=this,i=t.xyRatios,n=this.w,r=this;this.xyRatios=i,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=n.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),n.globals.dom.elGraphical.add(this.zoomRect),n.globals.dom.elGraphical.add(this.selectionRect),"x"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:n.globals.gridWidth,maxY:n.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===n.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:n.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=n.globals.dom.baseEl.querySelector("".concat(n.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(t){e.hoverArea.addEventListener(t,r.svgMouseEvents.bind(r,i),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(t,e){var i=this.w,n=this,r=this.ctx.toolbar,a=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type,o=i.config.chart.toolbar.autoSelected;e.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===o?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(o),this.shiftWasPressed=!1);var s=e.target.classList;if(!(s.contains("apexcharts-selection-rect")||s.contains("apexcharts-legend-marker")||s.contains("apexcharts-legend-text")||e.target.parentNode.classList.contains("apexcharts-toolbar"))){if(n.clientX="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientX:"touchend"===e.type?e.changedTouches[0].clientX:e.clientX,n.clientY="touchmove"===e.type||"touchstart"===e.type?e.touches[0].clientY:"touchend"===e.type?e.changedTouches[0].clientY:e.clientY,"mousedown"===e.type&&1===e.which){var l=n.gridRect.getBoundingClientRect();n.startX=n.clientX-l.left,n.startY=n.clientY-l.top,n.dragged=!1,n.w.globals.mousedown=!0}if(("mousemove"===e.type&&1===e.which||"touchmove"===e.type)&&(n.dragged=!0,i.globals.panEnabled?(i.globals.selection=null,n.w.globals.mousedown&&n.panDragging({context:n,zoomtype:a,xyRatios:t})):(n.w.globals.mousedown&&i.globals.zoomEnabled||n.w.globals.mousedown&&i.globals.selectionEnabled)&&(n.selection=n.selectionDrawing({context:n,zoomtype:a}))),"mouseup"===e.type||"touchend"===e.type||"mouseleave"===e.type){var c=n.gridRect.getBoundingClientRect();n.w.globals.mousedown&&(n.endX=n.clientX-c.left,n.endY=n.clientY-c.top,n.dragX=Math.abs(n.endX-n.startX),n.dragY=Math.abs(n.endY-n.startY),(i.globals.zoomEnabled||i.globals.selectionEnabled)&&n.selectionDrawn({context:n,zoomtype:a}),i.globals.panEnabled&&i.config.xaxis.convertedCatToNumeric&&n.delayedPanScrolled()),i.globals.zoomEnabled&&n.hideSelectionRect(this.selectionRect),n.dragged=!1,n.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}},{key:"makeSelectionRectDraggable",value:function(){var t=this.w;if(this.selectionRect){var e=this.selectionRect.node.getBoundingClientRect();0<e.width&&0<e.height&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:t.globals.gridWidth,maxY:t.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var t=this.w,e=this.xyRatios;if(!t.globals.zoomEnabled)if(void 0!==t.globals.selection&&null!==t.globals.selection)this.drawSelectionRect(t.globals.selection);else if(void 0!==t.config.chart.selection.xaxis.min&&void 0!==t.config.chart.selection.xaxis.max){var i=(t.config.chart.selection.xaxis.min-t.globals.minX)/e.xRatio,n={x:i,y:0,width:t.globals.gridWidth-(t.globals.maxX-t.config.chart.selection.xaxis.max)/e.xRatio-i,height:t.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(n),this.makeSelectionRectDraggable(),"function"==typeof t.config.chart.events.selection&&t.config.chart.events.selection(this.ctx,{xaxis:{min:t.config.chart.selection.xaxis.min,max:t.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(t){var e=t.x,i=t.y,n=t.width,r=t.height,a=t.translateX,o=void 0===a?0:a,s=t.translateY,l=void 0===s?0:s,c=this.w,h=this.zoomRect,u=this.selectionRect;if(this.dragged||null!==c.globals.selection){var d={transform:"translate("+o+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(n<0&&(n=1),h.attr({x:e,y:i,width:n,height:r,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),F.setAttrs(h.node,d)),c.globals.selectionEnabled&&(u.attr({x:e,y:i,width:0<n?n:0,height:0<r?r:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),F.setAttrs(u.node,d))}}},{key:"hideSelectionRect",value:function(t){t&&t.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(t){var e=t.context,i=t.zoomtype,n=this.w,r=e,a=this.gridRect.getBoundingClientRect(),o=r.startX-1,s=r.startY,l=!1,c=!1,h=r.clientX-a.left-o,u=r.clientY-a.top-s,d={};return Math.abs(h+o)>n.globals.gridWidth?h=n.globals.gridWidth-o:r.clientX-a.left<0&&(h=o),o>r.clientX-a.left&&(l=!0,h=Math.abs(h)),s>r.clientY-a.top&&(c=!0,u=Math.abs(u)),d="x"===i?{x:l?o-h:o,y:0,width:h,height:n.globals.gridHeight}:"y"===i?{x:0,y:c?s-u:s,width:n.globals.gridWidth,height:u}:{x:l?o-h:o,y:c?s-u:s,width:h,height:u},r.drawSelectionRect(d),r.selectionDragging("resizing"),d}},{key:"selectionDragging",value:function(t){var n=this,r=this.w,a=this.xyRatios,o=this.selectionRect,e=0;"resizing"===t&&(e=30);var i=function(t){return parseFloat(o.node.getAttribute(t))},s={x:i("x"),y:i("y"),width:i("width"),height:i("height")};r.globals.selection=s,"function"==typeof r.config.chart.events.selection&&r.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var t=n.gridRect.getBoundingClientRect(),e=o.node.getBoundingClientRect(),i={xaxis:{min:r.globals.xAxisScale.niceMin+(e.left-t.left)*a.xRatio,max:r.globals.xAxisScale.niceMin+(e.right-t.left)*a.xRatio},yaxis:{min:r.globals.yAxisScale[0].niceMin+(t.bottom-e.bottom)*a.yRatio[0],max:r.globals.yAxisScale[0].niceMax-(e.top-t.top)*a.yRatio[0]}};r.config.chart.events.selection(n.ctx,i),r.config.chart.brush.enabled&&void 0!==r.config.chart.events.brushScrolled&&r.config.chart.events.brushScrolled(n.ctx,i)},e))}},{key:"selectionDrawn",value:function(t){var e=t.context,i=t.zoomtype,n=this.w,r=e,a=this.xyRatios,o=this.ctx.toolbar;if(r.startX>r.endX){var s=r.startX;r.startX=r.endX,r.endX=s}if(r.startY>r.endY){var l=r.startY;r.startY=r.endY,r.endY=l}var c=void 0,h=void 0;n.globals.isTimelineBar?(c=n.globals.yAxisScale[0].niceMin+r.startX*a.invertedYRatio,h=n.globals.yAxisScale[0].niceMin+r.endX*a.invertedYRatio):(c=n.globals.xAxisScale.niceMin+r.startX*a.xRatio,h=n.globals.xAxisScale.niceMin+r.endX*a.xRatio);var u=[],d=[];if(n.config.yaxis.forEach(function(t,e){u.push(n.globals.yAxisScale[e].niceMax-a.yRatio[e]*r.startY),d.push(n.globals.yAxisScale[e].niceMax-a.yRatio[e]*r.endY)}),r.dragged&&(10<r.dragX||10<r.dragY)&&c!==h)if(n.globals.zoomEnabled){var p=P.clone(n.globals.initialConfig.yaxis),f=P.clone(n.globals.initialConfig.xaxis);if(n.globals.zoomed=!0,n.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),h=Math.floor(h),c<1&&(c=1,h=n.globals.dataPoints),h-c<2&&(h=c+1)),"xy"!==i&&"x"!==i||(f={min:c,max:h}),"xy"!==i&&"y"!==i||p.forEach(function(t,e){p[e].min=d[e],p[e].max=u[e]}),n.config.chart.zoom.autoScaleYaxis){var g=new q(r.ctx);p=g.autoScaleY(r.ctx,p,{xaxis:f})}if(o){var m=o.getBeforeZoomRange(f,p);m&&(f=m.xaxis?m.xaxis:f,p=m.yaxis?m.yaxis:p)}var v={xaxis:f};n.config.chart.group||(v.yaxis=p),r.ctx.updateHelpers._updateOptions(v,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof n.config.chart.events.zoomed&&o.zoomCallback(f,p)}else if(n.globals.selectionEnabled){var x,b=null;x={min:c,max:h},"xy"!==i&&"y"!==i||(b=P.clone(n.config.yaxis)).forEach(function(t,e){b[e].min=d[e],b[e].max=u[e]}),n.globals.selection=r.selection,"function"==typeof n.config.chart.events.selection&&n.config.chart.events.selection(r.ctx,{xaxis:x,yaxis:b})}}},{key:"panDragging",value:function(t){var e=t.context,i=this.w,n=e;if(void 0!==i.globals.lastClientPosition.x){var r=i.globals.lastClientPosition.x-n.clientX,a=i.globals.lastClientPosition.y-n.clientY;Math.abs(r)>Math.abs(a)&&0<r?this.moveDirection="left":Math.abs(r)>Math.abs(a)&&r<0?this.moveDirection="right":Math.abs(a)>Math.abs(r)&&0<a?this.moveDirection="up":Math.abs(a)>Math.abs(r)&&a<0&&(this.moveDirection="down")}i.globals.lastClientPosition={x:n.clientX,y:n.clientY};var o=i.globals.isTimelineBar?i.globals.minY:i.globals.minX,s=i.globals.isTimelineBar?i.globals.maxY:i.globals.maxX;i.config.xaxis.convertedCatToNumeric||n.panScrolled(o,s)}},{key:"delayedPanScrolled",value:function(){var t=this.w,e=t.globals.minX,i=t.globals.maxX,n=(t.globals.maxX-t.globals.minX)/2;"left"===this.moveDirection?(e=t.globals.minX+n,i=t.globals.maxX+n):"right"===this.moveDirection&&(e=t.globals.minX-n,i=t.globals.maxX-n),e=Math.floor(e),i=Math.floor(i),this.updateScrolledChart({xaxis:{min:e,max:i}},e,i)}},{key:"panScrolled",value:function(t,e){var i=this.w,n=this.xyRatios,r=P.clone(i.globals.initialConfig.yaxis),a=n.xRatio,o=i.globals.minX,s=i.globals.maxX;i.globals.isTimelineBar&&(a=n.invertedYRatio,o=i.globals.minY,s=i.globals.maxY),"left"===this.moveDirection?(t=o+i.globals.gridWidth/15*a,e=s+i.globals.gridWidth/15*a):"right"===this.moveDirection&&(t=o-i.globals.gridWidth/15*a,e=s-i.globals.gridWidth/15*a),i.globals.isTimelineBar||(t<i.globals.initialMinX||e>i.globals.initialMaxX)&&(t=o,e=s);var l={min:t,max:e};i.config.chart.zoom.autoScaleYaxis&&(r=new q(this.ctx).autoScaleY(this.ctx,r,{xaxis:l}));var c={xaxis:{min:t,max:e}};i.config.chart.group||(c.yaxis=r),this.updateScrolledChart(c,t,e)}},{key:"updateScrolledChart",value:function(t,e,i){var n=this.w;this.ctx.updateHelpers._updateOptions(t,!1,!1),"function"==typeof n.config.chart.events.scrolled&&n.config.chart.events.scrolled(this.ctx,{xaxis:{min:e,max:i}})}}]),i}(),dt=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return o(e,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,i=t.elGrid,n=t.clientX,r=t.clientY,a=this.w,o=a.globals.gridWidth,s=o/(a.globals.dataPoints-1),l=i.getBoundingClientRect(),c=this.hasBars();!a.globals.comboCharts&&!c||a.config.xaxis.convertedCatToNumeric||(s=o/a.globals.dataPoints);var h=n-l.left-a.globals.barPadForNumericAxis,u=r-l.top;h<0||u<0||h>a.globals.gridWidth||u>a.globals.gridHeight?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):a.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):a.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var d=Math.round(h/s);c&&!a.config.xaxis.convertedCatToNumeric&&(d=Math.ceil(h/s),d-=1);for(var p,f=null,g=null,m=[],v=0;v<a.globals.seriesXvalues.length;v++)m.push([a.globals.seriesXvalues[v][0]-1e-6].concat(a.globals.seriesXvalues[v]));return m=m.map(function(t){return t.filter(function(t){return t})}),p=a.globals.seriesYvalues.map(function(t){return t.filter(function(t){return P.isNumber(t)})}),a.globals.isXNumeric&&(f=(g=this.closestInMultiArray(h,u,m,p)).index,d=g.j,null!==f&&(m=a.globals.seriesXvalues[f],d=(g=this.closestInArray(h,m)).index)),a.globals.capturedSeriesIndex=null===f?-1:f,(!d||d<1)&&(d=0),{capturedSeries:f,j:a.globals.capturedDataPointIndex=d,hoverX:h,hoverY:u}}},{key:"closestInMultiArray",value:function(o,s,l,c){var t=this.w,e=0,h=null,u=-1;1<t.globals.series.length?e=this.getFirstActiveXArray(l):h=0;var i=c[e][0],n=l[e][0],d=Math.abs(o-n),p=Math.abs(s-i),f=p+d;return c.map(function(t,a){t.map(function(t,e){var i=Math.abs(s-c[a][e]),n=Math.abs(o-l[a][e]),r=n+i;r<f&&(f=r,d=n,p=i,h=a,u=e)})}),{index:h,j:u}}},{key:"getFirstActiveXArray",value:function(t){for(var e=0,i=t.map(function(t,e){return 0<t.length?e:-1}),n=0;n<i.length;n++)if(-1!==i[n]){e=i[n];break}return e}},{key:"closestInArray",value:function(t,e){for(var i=e[0],n=null,r=Math.abs(t-i),a=0;a<e.length;a++){var o=Math.abs(t-e[a]);o<r&&(r=o,n=a)}return{index:n}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter(function(t){return void 0!==t[0]});if(0<i.length)for(var n=0;n<i.length-1;n++)void 0!==i[n][t]&&void 0!==i[n+1][t]&&i[n][t]!==i[n+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return C(t).reduce(function(t,e){return t+e.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=C(t)).sort(function(t,e){return Number(e.getAttribute("data:realIndex"))<Number(t.getAttribute("data:realIndex"))?0:-1});var e=[];return t.forEach(function(t){e.push(t.querySelector(".apexcharts-marker"))}),e}},{key:"hasMarkers",value:function(){return 0<this.getElMarkers().length}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return 0<this.getElBars().length}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var n=i.allTooltipSeriesGroups,r=0;r<n.length;r++)"enable"===t?(n[r].classList.add("apexcharts-active"),n[r].style.display=e.config.tooltip.items.display):(n[r].classList.remove("apexcharts-active"),n[r].style.display="none")}}]),e}(),pt=function(){function e(t){a(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new dt(t)}return o(e,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,n=t.ttItems,r=t.i,a=void 0===r?0:r,o=t.j,s=void 0===o?null:o,l=t.y1,c=t.y2,h=t.e,u=this.w;void 0!==u.config.tooltip.custom?this.handleCustomTooltip({i:a,j:s,y1:l,y2:c,w:u}):this.toggleActiveInactiveSeries(i);var d=this.getValuesToPrint({i:a,j:s});this.printLabels({i:a,j:s,values:d,ttItems:n,shared:i,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var a,o=this,s=t.i,l=t.j,e=t.values,c=t.ttItems,h=t.shared,u=t.e,d=this.w,p=e.xVal,f=e.zVal,g=e.xAxisTTVal,m="",v=d.globals.colors[s];null!==l&&d.config.plotOptions.bar.distributed&&(v=d.globals.colors[l]);for(var i=function(t,e){var i=o.getFormatters(s);m=o.getSeriesName({fn:i.yLbTitleFormatter,index:s,seriesIndex:s,j:l}),"treemap"===d.config.chart.type&&(m=i.yLbTitleFormatter(String(d.config.series[s].data[l].x),{series:d.globals.series,seriesIndex:s,dataPointIndex:l,w:d}));var n=d.config.tooltip.inverseOrder?e:t;if(d.globals.axisCharts){var r=function(t){return i.yLbFormatter(d.globals.series[t][l],{series:d.globals.series,seriesIndex:t,dataPointIndex:l,w:d})};h?(i=o.getFormatters(n),m=o.getSeriesName({fn:i.yLbTitleFormatter,index:n,seriesIndex:s,j:l}),v=d.globals.colors[n],a=r(n)):(u&&u.target&&u.target.getAttribute("fill")&&(v=u.target.getAttribute("fill")),a=r(s))}null===l&&(a=i.yLbFormatter(d.globals.series[s],_(_({},d),{},{seriesIndex:s,dataPointIndex:s}))),o.DOMHandling({i:s,t:n,j:l,ttItems:c,values:{val:a,xVal:p,xAxisTTVal:g,zVal:f},seriesName:m,shared:h,pColor:v})},n=0,r=d.globals.series.length-1;n<d.globals.series.length;n++,r--)i(n,r)}},{key:"getFormatters",value:function(t){var e,i=this.w,n=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(n=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(n=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof n&&(n=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(t){return t}),"function"!=typeof e&&(e=function(t){return t}),{yLbFormatter:n,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var e=t.fn,i=t.index,n=t.seriesIndex,r=t.j,a=this.w;return e(String(a.globals.seriesNames[i]),{series:a.globals.series,seriesIndex:n,dataPointIndex:r,w:a})}},{key:"DOMHandling",value:function(t){t.i;var e=t.t,i=(t.j,t.ttItems),n=t.values,r=t.seriesName,a=t.shared,o=t.pColor,s=this.w,l=this.ttCtx,c=n.val,h=n.xVal,u=n.xAxisTTVal,d=n.zVal,p=null;p=i[e].children,s.config.tooltip.fillSeriesColor&&(i[e].style.backgroundColor=o,p[0].style.display="none"),l.showTooltipTitle&&(null===l.tooltipTitle&&(l.tooltipTitle=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),l.tooltipTitle.innerHTML=h),l.blxaxisTooltip&&(l.xaxisTooltipText.innerHTML=""!==u?u:h);var f=i[e].querySelector(".apexcharts-tooltip-text-label");f&&(f.innerHTML=r||"");var g=i[e].querySelector(".apexcharts-tooltip-text-value");g&&(g.innerHTML=void 0!==c?c:""),p[0]&&p[0].classList.contains("apexcharts-tooltip-marker")&&(s.config.tooltip.marker.fillColors&&Array.isArray(s.config.tooltip.marker.fillColors)&&(o=s.config.tooltip.marker.fillColors[e]),p[0].style.backgroundColor=o),s.config.tooltip.marker.show||(p[0].style.display="none"),null!==d&&(i[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=s.config.tooltip.z.title,i[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==d?d:""),a&&p[0]&&(null==c||-1<s.globals.collapsedSeriesIndices.indexOf(e)?p[0].parentNode.style.display="none":p[0].parentNode.style.display=s.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(t){var e=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=e.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");i&&(i.classList.add("apexcharts-active"),i.style.display=e.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,n=this.w,r=this.ctx.series.filteredSeriesX(),a="",o="",s=null,l=null,c={series:n.globals.series,seriesIndex:e,dataPointIndex:i,w:n},h=n.globals.ttZFormatter;null===i?l=n.globals.series[e]:n.globals.isXNumeric&&"treemap"!==n.config.chart.type?(a=r[e][i],0===r[e].length&&(a=r[this.tooltipUtil.getFirstActiveXArray(r)][i])):a=void 0!==n.globals.labels[i]?n.globals.labels[i]:"";var u=a;return a=n.globals.isXNumeric&&"datetime"===n.config.xaxis.type?new Y(this.ctx).xLabelFormat(n.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new O(this.ctx).formatDate,w:this.w}):n.globals.isBarHorizontal?n.globals.yLabelFormatters[0](u,c):n.globals.xLabelFormatter(u,c),void 0!==n.config.tooltip.x.formatter&&(a=n.globals.ttKeyFormatter(u,c)),0<n.globals.seriesZ.length&&0<n.globals.seriesZ[e].length&&(s=h(n.globals.seriesZ[e][i],n)),o="function"==typeof n.config.xaxis.tooltip.formatter?n.globals.xaxisTooltipFormatter(u,c):a,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:s}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,n=t.y1,r=t.y2,a=t.w,o=this.ttCtx.getElTooltip(),s=a.config.tooltip.custom;Array.isArray(s)&&s[e]&&(s=s[e]),o.innerHTML=s({ctx:this.ctx,series:a.globals.series,seriesIndex:e,dataPointIndex:i,y1:n,y2:r,w:a})}}]),e}(),ft=function(){function e(t){a(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return o(e,[{key:"moveXCrosshairs",value:function(t,e){var i=1<arguments.length&&void 0!==e?arguments[1]:null,n=this.ttCtx,r=this.w,a=n.getElXCrosshairs(),o=t-n.xcrosshairsWidth/2,s=r.globals.labels.slice().length;if(null!==i&&(o=r.globals.gridWidth/s*i),null!==a&&(a.setAttribute("x",o),a.setAttribute("x1",o),a.setAttribute("x2",o),a.setAttribute("y2",r.globals.gridHeight),a.classList.add("apexcharts-active")),o<0&&(o=0),o>r.globals.gridWidth&&(o=r.globals.gridWidth),n.blxaxisTooltip){var l=o;"tickWidth"!==r.config.xaxis.crosshairs.width&&"barWidth"!==r.config.xaxis.crosshairs.width||(l=o+n.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&F.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&F.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip){i.xaxisTooltip.classList.add("apexcharts-active");var n,r=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;if(t-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(t))t+=e.globals.translateX,n=new F(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=n.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=r+"px"}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var n=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),r=e.globals.translateY+n,a=i.yaxisTTEls[t].getBoundingClientRect().height,o=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(o-=26),r-=a/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=r+"px",i.yaxisTTEls[t].style.left=o+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?arguments[2]:null,r=this.w,a=this.ttCtx,o=a.getElTooltip(),s=a.tooltipRect,l=null!==n?parseFloat(n):1,c=parseFloat(t)+l+5,h=parseFloat(e)+l/2;if(c>r.globals.gridWidth/2&&(c=c-s.ttWidth-l-15),c>r.globals.gridWidth-s.ttWidth-10&&(c=r.globals.gridWidth-s.ttWidth),c<-20&&(c=-20),r.config.tooltip.followCursor){var u=a.getElGrid().getBoundingClientRect();h=a.e.clientY+r.globals.translateY-u.top-s.ttHeight/2}if(!r.config.tooltip.followCursor){var d=this.positionChecks(s,c,h);c=d.x,h=d.y}isNaN(c)||(c+=r.globals.translateX,o.style.left=c+"px",o.style.top=h+"px")}},{key:"positionChecks",value:function(t,e,i){var n=this.w;return t.ttHeight/2+i>n.globals.gridHeight&&(i=n.globals.gridHeight-t.ttHeight+n.globals.translateY),i<0&&(i=0),{x:e,y:i}}},{key:"moveMarkers",value:function(t,e){var i=this.w,n=this.ttCtx;if(0<i.globals.markers.size[t])for(var r=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),a=0;a<r.length;a++)parseInt(r[a].getAttribute("rel"),10)===e&&(n.marker.resetPointsSize(),n.marker.enlargeCurrentPoint(e,r[a]));else n.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,n,r=this.w,a=this.ttCtx,o=r.globals.pointsArray,s=a.tooltipUtil.getHoverMarkerSize(e),l=r.config.series[e].type;if(!l||"column"!==l&&"candlestick"!==l){i=o[e][t][0],n=o[e][t][1]?o[e][t][1]:0;var c=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers circle"));c&&n<r.globals.gridHeight&&0<n&&(c.setAttribute("r",s),c.setAttribute("cx",i),c.setAttribute("cy",n)),this.moveXCrosshairs(i),a.fixedTooltip||this.moveTooltip(i,n,s)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,n=i.w,r=0,a=0,o=n.globals.pointsArray;e=new S(this.ctx).getActiveConfigSeriesIndex(!0);var s=i.tooltipUtil.getHoverMarkerSize(e);o[e]&&(r=o[e][t][0],a=o[e][t][1]);var l=i.tooltipUtil.getAllMarkers();if(null!==l)for(var c=0;c<n.globals.series.length;c++){var h=o[c];if(n.globals.comboCharts&&void 0===h&&l.splice(c,0,null),h&&h.length){var u=o[c][t][1];l[c].setAttribute("cx",r),null!==u&&!isNaN(u)&&u<n.globals.gridHeight&&0<u?(l[c]&&l[c].setAttribute("r",s),l[c]&&l[c].setAttribute("cy",u)):l[c]&&l[c].setAttribute("r",0)}}if(this.moveXCrosshairs(r),!i.fixedTooltip){var d=a||n.globals.gridHeight;this.moveTooltip(r,d,s)}}},{key:"moveStickyTooltipOverBars",value:function(t){var e,i=this.w,n=this.ttCtx,r=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length,a=2<=r&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1,o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(t,"']")),s=o?parseFloat(o.getAttribute("cx")):0,l=o?parseFloat(o.getAttribute("barWidth")):0;i.globals.isXNumeric?s-=r%2!=0?l/2:0:(s=n.xAxisTicksPositions[t-1]+n.dataPointsDividedWidth/2,isNaN(s)&&(s=n.xAxisTicksPositions[t]-n.dataPointsDividedWidth/2));var c=n.getElGrid().getBoundingClientRect();if(e=n.e.clientY-c.top-n.tooltipRect.ttHeight/2,this.moveXCrosshairs(s),!n.fixedTooltip){var h=e||i.globals.gridHeight;this.moveTooltip(s,h)}}}]),e}(),gt=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new ft(t)}return o(e,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new F(this.ctx),i=new k(this.ctx),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");n=C(n),t.config.chart.stacked&&n.sort(function(t,e){return parseFloat(t.getAttribute("data:realIndex"))-parseFloat(e.getAttribute("data:realIndex"))});for(var r=0;r<n.length;r++){var a=n[r].querySelector(".apexcharts-series-markers-wrap");if(null!==a){var o=void 0,s="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(s+=" no-pointer-events");var l=i.getMarkerConfig(s,r);(o=e.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(t.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(o.node),a.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(t,e,i,n){var r=2<arguments.length&&void 0!==i?arguments[2]:null,a=3<arguments.length&&void 0!==n?arguments[3]:null,o=this.w;"bubble"!==o.config.chart.type&&this.newPointSize(t,e);var s=e.getAttribute("cx"),l=e.getAttribute("cy");if(null!==r&&null!==a&&(s=r,l=a),this.tooltipPosition.moveXCrosshairs(s),!this.fixedTooltip){if("radar"===o.config.chart.type){var c=this.ttCtx.getElGrid().getBoundingClientRect();s=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(s,l,o.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,n=this.ttCtx,r=t,a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=e.config.markers.hover.size,s=0;s<a.length;s++){var l=a[s].getAttribute("rel"),c=a[s].getAttribute("index");if(void 0===o&&(o=e.globals.markers.size[c]+e.config.markers.hover.sizeOffset),r===parseInt(l,10)){i.newPointSize(r,a[s]);var h=a[s].getAttribute("cx"),u=a[s].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(h),n.fixedTooltip||i.tooltipPosition.moveTooltip(h,u,o)}else i.oldPointSize(a[s])}}},{key:"newPointSize",value:function(t,e){var i=this.w,n=i.config.markers.hover.size,r=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var a=parseInt(r.getAttribute("index"),10);void 0===n&&(n=i.globals.markers.size[a]+i.config.markers.hover.sizeOffset),r.setAttribute("r",n)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size"));t.setAttribute("r",e)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));P.isNumber(i)?t[e].setAttribute("r",i):t[e].setAttribute("r",0)}}}]),e}(),mt=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t}return o(e,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,n=t.x,r=t.y,a=t.type,o=this.ttCtx,s=this.w;if(
e.target.classList.contains("apexcharts-".concat(a,"-rect"))){var l=this.getAttr(e,"i"),c=this.getAttr(e,"j"),h=this.getAttr(e,"cx"),u=this.getAttr(e,"cy"),d=this.getAttr(e,"width"),p=this.getAttr(e,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:l,j:c,shared:!1,e:e}),s.globals.capturedSeriesIndex=l,s.globals.capturedDataPointIndex=c,n=h+o.tooltipRect.ttWidth/2+d,r=u+o.tooltipRect.ttHeight/2-p/2,o.tooltipPosition.moveXCrosshairs(h+d/2),n>s.globals.gridWidth/2&&(n=h-o.tooltipRect.ttWidth/2+d),o.w.config.tooltip.followCursor){var f=o.getElGrid().getBoundingClientRect();(n=o.e.clientX-f.left+10)>s.globals.gridWidth/2&&(n=n-o.tooltipRect.ttWidth-10),r=o.e.clientY-f.top+s.globals.translateY/2-10}}return{x:n,y:r}}},{key:"handleMarkerTooltip",value:function(t){var e,i,n=t.e,r=t.opt,a=t.x,o=t.y,s=this.w,l=this.ttCtx;if(n.target.classList.contains("apexcharts-marker")){var c=parseInt(r.paths.getAttribute("cx"),10),h=parseInt(r.paths.getAttribute("cy"),10),u=parseFloat(r.paths.getAttribute("val"));if(i=parseInt(r.paths.getAttribute("rel"),10),e=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var d=P.findAncestor(r.paths,"apexcharts-series");d&&(e=parseInt(d.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:e,j:i,shared:!l.showOnIntersect&&s.config.tooltip.shared,e:n}),"mouseup"===n.type&&l.markerClick(n,e,i),s.globals.capturedSeriesIndex=e,s.globals.capturedDataPointIndex=i,a=c,o=h+s.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();o=l.e.clientY+s.globals.translateY-p.top}u<0&&(o=h),l.marker.enlargeCurrentPoint(i,r.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(t){var e,i,n=t.e,r=t.opt,a=this.w,o=this.ttCtx,s=o.getElTooltip(),l=0,c=0,h=0,u=this.getBarTooltipXY({e:n,opt:r});e=u.i;var d=u.barHeight,p=u.j;if(a.globals.capturedSeriesIndex=e,a.globals.capturedDataPointIndex=p,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(c=u.x,h=u.y,i=Array.isArray(a.config.stroke.width)?a.config.stroke.width[e]:a.config.stroke.width,l=c):a.globals.comboCharts||a.config.tooltip.shared||(l/=2),isNaN(h)?h=a.globals.svgHeight-o.tooltipRect.ttHeight:h<0&&(h=0),c+o.tooltipRect.ttWidth>a.globals.gridWidth?c-=o.tooltipRect.ttWidth:c<0&&(c=0),o.w.config.tooltip.followCursor){var f=o.getElGrid().getBoundingClientRect();h=o.e.clientY-f.top}if(null===o.tooltip&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(0<a.globals.comboBarCount?o.tooltipPosition.moveXCrosshairs(l+i/2):o.tooltipPosition.moveXCrosshairs(l)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())){var g=a.globals.isMultipleYAxis?a.config.yaxis[m]&&a.config.yaxis[m].reversed:a.config.yaxis[0].reversed;g&&(c-=o.tooltipRect.ttWidth)<0&&(c=0),s.style.left=c+a.globals.translateX+"px";var m=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10);!g||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||(h=h+d-2*(a.globals.series[e][p]<0?d:0)),o.tooltipRect.ttHeight+h>a.globals.gridHeight?(h=a.globals.gridHeight-o.tooltipRect.ttHeight+a.globals.translateY,s.style.top=h+"px"):s.style.top=h+a.globals.translateY-o.tooltipRect.ttHeight/2+"px"}}},{key:"getBarTooltipXY",value:function(t){var e=t.e,i=t.opt,n=this.w,r=null,a=this.ttCtx,o=0,s=0,l=0,c=0,h=0,u=e.target.classList;if(u.contains("apexcharts-bar-area")||u.contains("apexcharts-candlestick-area")||u.contains("apexcharts-rangebar-area")){var d=e.target,p=d.getBoundingClientRect(),f=i.elGrid.getBoundingClientRect(),g=p.height;h=p.height;var m=p.width,v=parseInt(d.getAttribute("cx"),10),x=parseInt(d.getAttribute("cy"),10);c=parseFloat(d.getAttribute("barWidth"));var b="touchmove"===e.type?e.touches[0].clientX:e.clientX;r=parseInt(d.getAttribute("j"),10),o=parseInt(d.parentNode.getAttribute("rel"),10)-1;var y=d.getAttribute("data-range-y1"),w=d.getAttribute("data-range-y2");n.globals.comboCharts&&(o=parseInt(d.parentNode.getAttribute("data:realIndex"),10)),a.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:o,j:r,y1:y?parseInt(y,10):null,y2:w?parseInt(w,10):null,shared:!a.showOnIntersect&&n.config.tooltip.shared,e:e}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(s=b-f.left+15,l=x-a.dataPointsDividedHeight+g/2-a.tooltipRect.ttHeight/2):(s=n.globals.isXNumeric?v-m/2:v-a.dataPointsDividedWidth+m/2,l=e.clientY-f.top-a.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((s=v)<a.xyRatios.baseLineInvertedY&&(s=v-a.tooltipRect.ttWidth),l=x-a.dataPointsDividedHeight+g/2-a.tooltipRect.ttHeight/2):(s=n.globals.isXNumeric?v-m/2:v-a.dataPointsDividedWidth+m/2,l=x)}return{x:s,y:l,barHeight:h,barWidth:c,i:o,j:r}}}]),e}(),vt=function(){function e(t){a(this,e),this.w=t.w,this.ttCtx=t}return o(e,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var n=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=t.globals.dom.elWrap;e.blxaxisTooltip&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+t.config.tooltip.theme),r.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var r=this.w,a=this.ttCtx,t=function(i){var t=r.config.yaxis[i].opposite||r.config.yaxis[i].crosshairs.opposite;a.yaxisOffX=t?r.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,t?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");r.globals.yAxisSameScaleIndices.map(function(t){t.map(function(t,e){e===i&&(n+=r.config.yaxis[e].show?" ":" apexcharts-yaxistooltip-hidden")})});var e=r.globals.dom.elWrap;null===r.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(a.yaxisTooltip=document.createElement("div"),a.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+r.config.tooltip.theme),e.appendChild(a.yaxisTooltip),0===i&&(a.yaxisTooltipText=[]),a.yaxisTooltipText[i]=document.createElement("div"),a.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),a.yaxisTooltip.appendChild(a.yaxisTooltipText[i]))},e=0;e<r.config.yaxis.length;e++)t(e)}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var n=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==n&&"barWidth"===t.config.xaxis.crosshairs.width){var r=parseFloat(n.getAttribute("barWidth"));e.xcrosshairsWidth=r}else if("tickWidth"===t.config.xaxis.crosshairs.width){var a=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/a}}else if("tickWidth"===t.config.xaxis.crosshairs.width){var o=t.globals.labels.length;e.xcrosshairsWidth=t.globals.gridWidth/o}else if("barWidth"===t.config.xaxis.crosshairs.width){var s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s){var l=parseFloat(s.getAttribute("barWidth"));e.xcrosshairsWidth=l}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&0<e.xcrosshairsWidth&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var n=this.ttCtx,r=this.w,a=r.globals.yLabelFormatters[t];if(n.yaxisTooltips[t]){var o=n.getElGrid().getBoundingClientRect(),s=(e-o.top)*i.yRatio[t],l=r.globals.maxYArr[t]-r.globals.minYArr[t],c=r.globals.minYArr[t]+(l-s);n.tooltipPosition.moveYCrosshairs(e-o.top),n.yaxisTooltipText[t].innerHTML=a(c),n.tooltipPosition.moveYAxisTooltip(t)}}}]),e}(),xt=function(){function i(t){a(this,i),this.ctx=t,this.w=t.w;var e=this.w;this.tConfig=e.config.tooltip,this.tooltipUtil=new dt(this),this.tooltipLabels=new pt(this),this.tooltipPosition=new ft(this),this.marker=new gt(this),this.intersect=new mt(this),this.axesTooltip=new vt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!e.globals.isBarHorizontal&&this.tConfig.shared}return o(i,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip")}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.blxaxisTooltip=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map(function(t){return!!(t.show&&t.tooltip.enabled&&e.globals.axisCharts)}),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var n=new G(this.ctx);this.xAxisTicksPositions=n.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var r=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this.w,i=[],n=this.getElTooltip(),r=0;r<t;r++){var a=document.createElement("div");a.classList.add("apexcharts-tooltip-series-group"),a.style.order=e.config.tooltip.inverseOrder?t-r:r+1,this.tConfig.shared&&this.tConfig.enabledOnSeries&&Array.isArray(this.tConfig.enabledOnSeries)&&this.tConfig.enabledOnSeries.indexOf(r)<0&&a.classList.add("apexcharts-tooltip-series-group-hidden");var o=document.createElement("span");o.classList.add("apexcharts-tooltip-marker"),o.style.backgroundColor=e.globals.colors[r],a.appendChild(o);var s=document.createElement("div");s.classList.add("apexcharts-tooltip-text"),s.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,s.style.fontSize=this.tConfig.style.fontSize;var l=document.createElement("div");l.classList.add("apexcharts-tooltip-y-group");var c=document.createElement("span");c.classList.add("apexcharts-tooltip-text-label"),l.appendChild(c);var h=document.createElement("span");h.classList.add("apexcharts-tooltip-text-value"),l.appendChild(h);var u=document.createElement("div");u.classList.add("apexcharts-tooltip-z-group");var d=document.createElement("span");d.classList.add("apexcharts-tooltip-text-z-label"),u.appendChild(d);var p=document.createElement("span");p.classList.add("apexcharts-tooltip-text-z-value"),u.appendChild(p),s.appendChild(l),s.appendChild(u),a.appendChild(s),n.appendChild(a),i.push(a)}return i}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),n=!("bar"!==e&&"candlestick"!==e&&"rangeBar"!==e),r="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,a=t.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var s,l=[],c=[],h={hoverArea:a,elGrid:o,tooltipEl:i,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(t.globals.axisCharts&&(r?s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):n?s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),s&&s.length))for(var u=0;u<s.length;u++)l.push(s[u].getAttribute("cy")),c.push(s[u].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||n&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],h);else if(n&&!t.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var d=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(d,h)}if(this.showOnIntersect){var p=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");0<p.length&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),n=i.width+10,r=i.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,s=this.tConfig.fixed.position.toLowerCase();return-1<s.indexOf("right")&&(a=a+t.globals.svgWidth-n+10),-1<s.indexOf("bottom")&&(o=o+t.globals.svgHeight-r-10),e.style.left=a+"px",e.style.top=o+"px",{x:a,y:o,ttWidth:n,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(n,t){for(var r=this,e=function(e){var i={paths:n[e],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(t){return n[e].addEventListener(t,r.seriesHover.bind(r,i),{capture:!1,passive:!0})})},i=0;i<n.length;i++)e(i)}},{key:"seriesHover",value:function(n,r){var a=this,t=[],e=this.w;e.config.chart.group&&(t=this.ctx.getGroupedCharts()),e.globals.axisCharts&&(e.globals.minX===-1/0&&e.globals.maxX===1/0||0===e.globals.dataPoints)||(t.length?t.forEach(function(t){var e=a.getElTooltip(t),i={paths:n.paths,tooltipEl:e,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:t.w.globals.tooltip.ttItems};t.w.globals.minX===a.w.globals.minX&&t.w.globals.maxX===a.w.globals.maxX&&t.w.globals.tooltip.seriesHoverByContext({chartCtx:t,ttCtx:t.w.globals.tooltip,opt:i,e:r})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:n,e:r}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,n=t.opt,r=t.e,a=e.w,o=this.getElTooltip();i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=r,!i.tooltipUtil.hasBars()||a.globals.comboCharts||i.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new S(e).toggleSeriesOnHover(r,r.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),a.globals.axisCharts?i.axisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect})}},{key:"axisChartsTooltips",value:function(t){var e,i,n=t.e,r=t.opt,a=this.w,o=r.elGrid.getBoundingClientRect(),s="touchmove"===n.type?n.touches[0].clientX:n.clientX,l="touchmove"===n.type?n.touches[0].clientY:n.clientY;if(this.clientY=l,this.clientX=s,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,l<o.top||l>o.top+o.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var c=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(r)}var h=this.getElTooltip(),u=this.getElXCrosshairs(),d=a.globals.xyCharts||"bar"===a.config.chart.type&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&(d=!1),"mousemove"===n.type||"touchmove"===n.type||"mouseup"===n.type){null!==u&&u.classList.add("apexcharts-active");var p=this.yaxisTooltips.filter(function(t){return!0===t});if(null!==this.ycrosshairs&&p.length&&this.ycrosshairs.classList.add("apexcharts-active"),d&&!this.showOnIntersect)this.handleStickyTooltip(n,s,l,r);else if("heatmap"===a.config.chart.type||"treemap"===a.config.chart.type){var f=this.intersect.handleHeatTreeTooltip({e:n,opt:r,x:e,y:i,type:a.config.chart.type});e=f.x,i=f.y,h.style.left=e+"px",h.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:n,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:n,opt:r,x:e,y:i});if(this.yaxisTooltips.length)for(var g=0;g<a.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==n.type&&"touchend"!==n.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,n=t.tooltipRect,r=this.w,a=i.paths.getAttribute("rel"),o=this.getElTooltip(),s=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(a,10)-1,shared:!1});var l=r.globals.clientX-s.left-n.ttWidth/2,c=r.globals.clientY-s.top-n.ttHeight-10;if(o.style.left=l+"px",o.style.top=c+"px",r.config.legend.tooltipHoverFormatter){var h=a-1,u=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:r});this.legendLabels[h].innerHTML=u}}else"mouseout"!==e.type&&"touchend"!==e.type||(o.classList.remove("apexcharts-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)}))}},{key:"handleStickyTooltip",value:function(t,e,i,n){var r=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:n.hoverArea,elGrid:n.elGrid,clientX:e,clientY:i}),o=a.j,s=a.capturedSeries;a.hoverX<0||a.hoverX>r.globals.gridWidth?this.handleMouseOut(n):null!==s?this.handleStickyCapturedSeries(t,s,n,o):this.tooltipUtil.isXoverlap(o)&&this.create(t,this,0,o,n.ttItems)}},{key:"handleStickyCapturedSeries",value:function(t,e,i,n){var r=this.w;null===r.globals.series[e][n]?this.handleMouseOut(i):void 0!==r.globals.series[e][n]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(n)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,n,i.ttItems):this.create(t,this,e,n,i.ttItems,!1):this.tooltipUtil.isXoverlap(n)&&this.create(t,this,0,n,i.ttItems)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new F(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),n=0;n<i.length;n++)e.pathMouseLeave(i[n])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.blxaxisTooltip&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var n=0;n<this.yaxisTTEls.length;n++)this.yaxisTTEls[n].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)})}},{key:"markerClick",value:function(t,e,i){var n=this.w;"function"==typeof n.config.chart.events.markerClick&&n.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:n}])}},{key:"create",value:function(t,e,i,n,r,a){var o=5<arguments.length&&void 0!==a?arguments[5]:null,s=this.w,l=e;"mouseup"===t.type&&this.markerClick(t,i,n),null===o&&(o=this.tConfig.shared);var c=this.tooltipUtil.hasMarkers(),h=this.tooltipUtil.getElBars();if(s.config.legend.tooltipHoverFormatter){var u=s.config.legend.tooltipHoverFormatter,d=Array.from(this.legendLabels);d.forEach(function(t){var e=t.getAttribute("data:default-text");t.innerHTML=decodeURIComponent(e)});for(var p=0;p<d.length;p++){var f=d[p],g=parseInt(f.getAttribute("i"),10),m=decodeURIComponent(f.getAttribute("data:default-text")),v=u(m,{seriesIndex:o?g:i,dataPointIndex:n,w:s});if(o)f.innerHTML=s.globals.collapsedSeriesIndices.indexOf(g)<0?v:m;else if(f.innerHTML=g===i?v:m,i===g)break}}if(o){if(l.tooltipLabels.drawSeriesTexts({ttItems:r,i:i,j:n,shared:!this.showOnIntersect&&this.tConfig.shared}),c&&(0<s.globals.markers.largestSize?l.marker.enlargePoints(n):l.tooltipPosition.moveDynamicPointsOnHover(n)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(h),0<this.barSeriesHeight)){var x=new F(this.ctx),b=s.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(n,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(n);for(var y=0;y<b.length;y++)x.pathMouseEnter(b[y])}}else l.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:r,i:i,j:n}),this.tooltipUtil.hasBars()&&l.tooltipPosition.moveStickyTooltipOverBars(n),c&&l.tooltipPosition.moveMarkers(i,n)}}]),i}(),bt=function(){function t(){return a(this,t),e.apply(this,arguments)}l(t,M);var e=u(t);return o(t,[{key:"draw",value:function(b,y){var w=this,A=this.w;this.graphics=new F(this.ctx),this.bar=new M(this.ctx,this.xyRatios);var t=new D(this.ctx,A);b=t.getLogSeries(b),this.yRatio=t.getLogYRatios(this.yRatio),this.barHelpers.initVariables(b),"100%"===A.config.chart.stackType&&(b=A.globals.seriesPercent.slice()),this.series=b,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var e=0;e<b.length;e++)0<b[e].length&&(this.totalItems+=b[e].length);for(var C=this.graphics.group({"class":"apexcharts-bar-series apexcharts-plot-series"}),S=0,k=0,i=function(t,e){var i=void 0,n=void 0,r=void 0,a=void 0,o=[],s=[],l=A.globals.comboCharts?y[t]:t;1<w.yRatio.length&&(w.yaxisIndex=l),w.isReversed=A.config.yaxis[w.yaxisIndex]&&A.config.yaxis[w.yaxisIndex].reversed;var c=w.graphics.group({"class":"apexcharts-series",seriesName:P.escapeString(A.globals.seriesNames[l]),rel:t+1,"data:realIndex":l});w.ctx.series.addCollapsedClassToSeries(c,l);var h=w.graphics.group({"class":"apexcharts-datalabels","data:realIndex":l}),u=0,d=0,p=w.initialPositions(S,k,i,n,r,a);k=p.y,u=p.barHeight,n=p.yDivision,a=p.zeroW,S=p.x,d=p.barWidth,i=p.xDivision,r=p.zeroH,w.yArrj=[],w.yArrjF=[],w.yArrjVal=[],w.xArrj=[],w.xArrjF=[],w.xArrjVal=[],1===w.prevY.length&&w.prevY[0].every(function(t){return isNaN(t)})&&(w.prevY[0]=w.prevY[0].map(function(){return r}),w.prevYF[0]=w.prevYF[0].map(function(){return 0}));for(var f=0;f<A.globals.dataPoints;f++){var g=w.barHelpers.getStrokeWidth(t,f,l),m={indexes:{i:t,j:f,realIndex:l,bc:e},strokeWidth:g,x:S,y:k,elSeries:c},v=null;w.isHorizontal?(v=w.drawStackedBarPaths(_(_({},m),{},{zeroW:a,barHeight:u,yDivision:n})),d=w.series[t][f]/w.invertedYRatio):(v=w.drawStackedColumnPaths(_(_({},m),{},{xDivision:i,barWidth:d,zeroH:r})),u=w.series[t][f]/w.yRatio[w.yaxisIndex]),k=v.y,S=v.x,o.push(S),s.push(k);var x=w.barHelpers.getPathFillColor(b,t,f,l);c=w.renderSeries({realIndex:l,pathFill:x,j:f,i:t,pathFrom:v.pathFrom,pathTo:v.pathTo,strokeWidth:g,elSeries:c,x:S,y:k,series:b,barHeight:u,barWidth:d,elDataLabelsWrap:h,type:"bar",visibleSeries:0})}A.globals.seriesXvalues[l]=o,A.globals.seriesYvalues[l]=s,w.prevY.push(w.yArrj),w.prevYF.push(w.yArrjF),w.prevYVal.push(w.yArrjVal),w.prevX.push(w.xArrj),w.prevXF.push(w.xArrjF),w.prevXVal.push(w.xArrjVal),C.add(c)},n=0,r=0;n<b.length;n++,r++)i(n,r);return C}},{key:"initialPositions",value:function(t,e,i,n,r,a){var o,s,l=this.w;return this.isHorizontal?(o=(o=n=l.globals.gridHeight/l.globals.dataPoints)*parseInt(l.config.plotOptions.bar.barHeight,10)/100,a=this.baseLineInvertedY+l.globals.padHorizontal+(this.isReversed?l.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),e=(n-o)/2):(s=i=l.globals.gridWidth/l.globals.dataPoints,s=l.globals.isXNumeric&&1<l.globals.dataPoints?(i=l.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:s*parseInt(l.config.plotOptions.bar.columnWidth,10)/100,r=this.baseLineY[this.yaxisIndex]+(this.isReversed?l.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),t=l.globals.padHorizontal+(i-s)/2),{x:t,y:e,yDivision:n,xDivision:i,barHeight:o,barWidth:s,zeroH:r,zeroW:a}}},{key:"drawStackedBarPaths",value:function(t){for(var e,i=t.indexes,n=t.barHeight,r=t.strokeWidth,a=t.zeroW,o=t.x,s=t.y,l=t.yDivision,c=t.elSeries,h=this.w,u=s,d=i.i,p=i.j,f=0,g=0;g<this.prevXF.length;g++)f+=this.prevXF[g][p];if(0<d){var m=a;this.prevXVal[d-1][p]<0?m=0<=this.series[d][p]?this.prevX[d-1][p]+f-2*(this.isReversed?f:0):this.prevX[d-1][p]:0<=this.prevXVal[d-1][p]&&(m=0<=this.series[d][p]?this.prevX[d-1][p]:this.prevX[d-1][p]-f+2*(this.isReversed?f:0)),e=m}else e=a;o=null===this.series[d][p]?e:e+this.series[d][p]/this.invertedYRatio-2*(this.isReversed?this.series[d][p]/this.invertedYRatio:0),this.xArrj.push(o),this.xArrjF.push(Math.abs(e-o)),this.xArrjVal.push(this.series[d][p]);var v=this.barHelpers.getBarpaths({barYPosition:u,barHeight:n,x1:e,x2:o,strokeWidth:r,series:this.series,realIndex:i.realIndex,i:d,j:p,w:h});return this.barHelpers.barBackground({j:p,i:d,y1:u,y2:n,elSeries:c}),s+=l,{pathTo:v.pathTo,pathFrom:v.pathFrom,x:o,y:s}}},{key:"drawStackedColumnPaths",value:function(t){var e=t.indexes,i=t.x,n=t.y,r=t.xDivision,a=t.barWidth,o=t.zeroH,s=(t.strokeWidth,t.elSeries),l=this.w,c=e.i,h=e.j,u=e.bc;if(l.globals.isXNumeric){var d=l.globals.seriesX[c][h];d||(d=0),i=(d-l.globals.minX)/this.xRatio-a/2}for(var p,f=i,g=0,m=0;m<this.prevYF.length;m++)g+=isNaN(this.prevYF[m][h])?0:this.prevYF[m][h];if(0<c&&!l.globals.isXNumeric||0<c&&l.globals.isXNumeric&&l.globals.seriesX[c-1][h]===l.globals.seriesX[c][h]){var v,x,b=Math.min(this.yRatio.length+1,c+1);if(void 0!==this.prevY[c-1])for(var y=1;y<b;y++)if(!isNaN(this.prevY[c-y][h])){x=this.prevY[c-y][h];break}for(var w=1;w<b;w++){if(this.prevYVal[c-w][h]<0){v=0<=this.series[c][h]?x-g+2*(this.isReversed?g:0):x;break}if(0<=this.prevYVal[c-w][h]){v=0<=this.series[c][h]?x:x+g-2*(this.isReversed?g:0);break}}void 0===v&&(v=l.globals.gridHeight),p=this.prevYF[0].every(function(t){return 0===t})&&this.prevYF.slice(1,c).every(function(t){return t.every(function(t){return isNaN(t)})})?l.globals.gridHeight-o:v}else p=l.globals.gridHeight-o;n=p-this.series[c][h]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[c][h]/this.yRatio[this.yaxisIndex]:0),this.yArrj.push(n),this.yArrjF.push(Math.abs(p-n)),this.yArrjVal.push(this.series[c][h]);var A=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:a,y1:p,y2:n,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:e.realIndex,i:c,j:h,w:l});return this.barHelpers.barBackground({bc:u,j:h,i:c,x1:f,x2:a,elSeries:s}),i+=r,{pathTo:A.pathTo,pathFrom:A.pathFrom,x:l.globals.isXNumeric?i-r:i,y:n}}}]),t}(),yt=function(){function t(){return a(this,t),e.apply(this,arguments)}l(t,M);var e=u(t);return o(t,[{key:"draw",value:function(t,e){var i=this.w,n=new F(this.ctx),r=new L(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick;var a=new D(this.ctx,i);t=a.getLogSeries(t),this.series=t,this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);for(var o=n.group({"class":"apexcharts-candlestick-series apexcharts-plot-series"}),s=0;s<t.length;s++){var l,c,h,u,d=void 0,p=void 0,f=[],g=[],m=i.globals.comboCharts?e[s]:s,v=n.group({"class":"apexcharts-series",seriesName:P.escapeString(i.globals.seriesNames[m]),rel:s+1,"data:realIndex":m});0<t[s].length&&(this.visibleI=this.visibleI+1),1<this.yRatio.length&&(this.yaxisIndex=m);var x=this.barHelpers.initialPositions();p=x.y,h=x.barHeight,d=x.x,u=x.barWidth,l=x.xDivision,c=x.zeroH,g.push(d+u/2);for(var b=n.group({"class":"apexcharts-datalabels","data:realIndex":m}),y=0;y<i.globals.dataPoints;y++){var w,A=this.barHelpers.getStrokeWidth(s,y,m),C=this.drawCandleStickPaths({indexes:{i:s,j:y,realIndex:m},x:d,y:p,xDivision:l,barWidth:u,zeroH:c,strokeWidth:A,elSeries:v});p=C.y,d=C.x,w=C.color,0<y&&g.push(d+u/2),f.push(p);var S=r.fillPath({seriesNumber:m,dataPointIndex:y,color:w,value:t[s][y]}),k=this.candlestickOptions.wick.useFillColor?w:void 0;this.renderSeries({realIndex:m,pathFill:S,lineFill:k,j:y,i:s,pathFrom:C.pathFrom,pathTo:C.pathTo,strokeWidth:A,elSeries:v,x:d,y:p,series:t,barHeight:h,barWidth:u,elDataLabelsWrap:b,visibleSeries:this.visibleI,type:"candlestick"})}i.globals.seriesXvalues[m]=g,i.globals.seriesYvalues[m]=f,o.add(v)}return o}},{key:"drawCandleStickPaths",value:function(t){var e=t.indexes,i=t.x,n=(t.y,t.xDivision),r=t.barWidth,a=t.zeroH,o=t.strokeWidth,s=this.w,l=new F(this.ctx),c=e.i,h=e.j,u=!0,d=s.config.plotOptions.candlestick.colors.upward,p=s.config.plotOptions.candlestick.colors.downward,f=this.yRatio[this.yaxisIndex],g=e.realIndex,m=this.getOHLCValue(g,h),v=a,x=a;m.o>m.c&&(u=!1);var b=Math.min(m.o,m.c),y=Math.max(m.o,m.c);s.globals.isXNumeric&&(i=(s.globals.seriesX[g][h]-s.globals.minX)/this.xRatio-r/2);var w=i+r*this.visibleI;void 0===this.series[c][h]||null===this.series[c][h]?b=a:(b=a-b/f,y=a-y/f,v=a-m.h/f,x=a-m.l/f);var A=l.move(w,a),C=l.move(w,b);return 0<s.globals.previousPaths.length&&(C=this.getPreviousPath(g,h,!0)),A=l.move(w,y)+l.line(w+r/2,y)+l.line(w+r/2,v)+l.line(w+r/2,y)+l.line(w+r,y)+l.line(w+r,b)+l.line(w+r/2,b)+l.line(w+r/2,x)+l.line(w+r/2,b)+l.line(w,b)+l.line(w,y-o/2),C+=l.move(w,b),s.globals.isXNumeric||(i+=n),{pathTo:A,pathFrom:C,x:i,y:y,barXPosition:w,color:u?d:p}}},{key:"getOHLCValue",value:function(t,e){var i=this.w;return{o:i.globals.seriesCandleO[t][e],h:i.globals.seriesCandleH[t][e],l:i.globals.seriesCandleL[t][e],c:i.globals.seriesCandleC[t][e]}}}]),t}(),wt=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return 0<i.colorScale.ranges.length&&i.colorScale.ranges.map(function(t){t.from<=0&&(e=!0)}),e}},{key:"getShadeColor",value:function(t,e,i,n){var r=this.w,a=1,o=r.config.plotOptions[t].shadeIntensity,s=this.determineColor(t,e,i);r.globals.hasNegs||n?a=r.config.plotOptions[t].reverseNegativeShade?s.percent<0?s.percent/100*(1.25*o):(1-s.percent/100)*(1.25*o):s.percent<=0?1-(1+s.percent/100)*o:(1-s.percent/100)*o:(a=1-s.percent/100,"treemap"===t&&(a=(1-s.percent/100)*(1.25*o)));var l=s.color,c=new P;return r.config.plotOptions[t].enableShades&&(a<0&&(a=0),l="dark"===this.w.config.theme.mode?P.hexToRgba(c.shadeColor(-1*a,s.color),r.config.fill.opacity):P.hexToRgba(c.shadeColor(a,s.color),r.config.fill.opacity)),{color:l,colorProps:s}}},{key:"determineColor",value:function(t,e,i){var n=this.w,r=n.globals.series[e][i],a=n.config.plotOptions[t],o=a.colorScale.inverse?i:e
;n.config.plotOptions[t].distributed&&(o=i);var s=n.globals.colors[o],l=null,c=Math.min.apply(Math,C(n.globals.series[e])),h=Math.max.apply(Math,C(n.globals.series[e]));a.distributed||"heatmap"!==t||(c=n.globals.minY,h=n.globals.maxY),void 0!==a.colorScale.min&&(c=a.colorScale.min<n.globals.minY?a.colorScale.min:n.globals.minY,h=a.colorScale.max>n.globals.maxY?a.colorScale.max:n.globals.maxY);var u=Math.abs(h)+Math.abs(c),d=100*r/(0===u?u-1e-6:u);return 0<a.colorScale.ranges.length&&a.colorScale.ranges.map(function(t){if(r>=t.from&&r<=t.to){s=t.color,l=t.foreColor?t.foreColor:null,c=t.from,h=t.to;var e=Math.abs(h)+Math.abs(c);d=100*r/(0===e?e-1e-6:e)}}),{color:s,foreColor:l,percent:d}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,n=t.y,r=t.i,a=t.j,o=t.colorProps,s=t.fontSize,l=this.w.config.dataLabels,c=new F(this.ctx),h=new A(this.ctx),u=null;if(l.enabled){u=c.group({"class":"apexcharts-data-labels"});var d=l.offsetX,p=l.offsetY,f=i+d,g=n+parseFloat(l.style.fontSize)/3+p;h.plotDataLabelsText({x:f,y:g,text:e,i:r,j:a,color:o.foreColor,parent:u,fontSize:s,dataLabelsConfig:l})}return u}},{key:"addListeners",value:function(t){var e=new F(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),e}(),At=function(){function i(t,e){a(this,i),this.ctx=t,this.w=t.w,this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new wt(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return o(i,[{key:"draw",value:function(t){var e=this.w,i=new F(this.ctx),n=i.group({"class":"apexcharts-heatmap"});n.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var r=e.globals.gridWidth/e.globals.dataPoints,a=e.globals.gridHeight/e.globals.series.length,o=0,s=!1;this.negRange=this.helpers.checkColorRange();var l=t.slice();e.config.yaxis[0].reversed&&(s=!0,l.reverse());for(var c=s?0:l.length-1;s?c<l.length:0<=c;s?c++:c--){var h=i.group({"class":"apexcharts-series apexcharts-heatmap-series",seriesName:P.escapeString(e.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(h,c),e.config.chart.dropShadow.enabled){var u=e.config.chart.dropShadow;new I(this.ctx).dropShadow(h,u,c)}for(var d=0,p=e.config.plotOptions.heatmap.shadeIntensity,f=0;f<l[c].length;f++){var g=this.helpers.getShadeColor(e.config.chart.type,c,f,this.negRange),m=g.color,v=g.colorProps;"image"===e.config.fill.type&&(m=new L(this.ctx).fillPath({seriesNumber:c,dataPointIndex:f,opacity:e.globals.hasNegs?v.percent<0?1-(1+v.percent/100):p+v.percent/100:v.percent/100,patternID:P.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:r,height:e.config.fill.image.height?e.config.fill.image.height:a}));var x=this.rectRadius,b=i.drawRect(d,o,r,a,x);if(b.attr({cx:d,cy:o}),b.node.classList.add("apexcharts-heatmap-rect"),h.add(b),b.attr({fill:m,i:c,index:c,j:f,val:l[c][f],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?m:e.globals.stroke.colors[0],color:m}),this.helpers.addListeners(b),e.config.chart.animations.enabled&&!e.globals.dataChanged){var y=1;e.globals.resized||(y=e.config.chart.animations.speed),this.animateHeatMap(b,d,o,r,a,y)}if(e.globals.dataChanged){var w=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){w=this.dynamicAnim.speed;var A=e.globals.previousPaths[c]&&e.globals.previousPaths[c][f]&&e.globals.previousPaths[c][f].color;A||(A="rgba(255, 255, 255, 0)"),this.animateHeatColor(b,P.isColorHex(A)?A:P.rgb2hex(A),P.isColorHex(m)?m:P.rgb2hex(m),w)}}var C=(0,e.config.dataLabels.formatter)(e.globals.series[c][f],{value:e.globals.series[c][f],seriesIndex:c,dataPointIndex:f,w:e}),S=this.helpers.calculateDataLabels({text:C,x:d+r/2,y:o+a/2,i:c,j:f,colorProps:v,series:l});null!==S&&h.add(S),d+=r}o+=a,n.add(h)}var k=e.globals.yAxisScale[0].result.slice();e.config.yaxis[0].reversed?k.unshift(""):k.push(""),e.globals.yAxisScale[0].result=k;var T=e.globals.gridHeight/e.globals.series.length;return e.config.yaxis[0].labels.offsetY=-T/2,n}},{key:"animateHeatMap",value:function(t,e,i,n,r,a){var o=new R(this.ctx);o.animateRect(t,{x:e+n/2,y:i+r/2,width:0,height:0},{x:e,y:i,width:n,height:r},a,function(){o.animationCompleted(t)})}},{key:"animateHeatColor",value:function(t,e,i,n){t.attr({fill:e}).animate(n).attr({fill:i})}}]),i}(),Ct=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"drawYAxisTexts",value:function(t,e,i,n){var r=this.w,a=r.config.yaxis[0],o=r.globals.yLabelFormatters[0];return new F(this.ctx).drawText({x:t+a.labels.offsetX,y:e+a.labels.offsetY,text:o(n,i),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[i]:a.labels.style.colors})}}]),e}(),St=function(){function i(t){a(this,i),this.ctx=t,this.w=t.w;var e=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==e.globals.stroke.colors?e.globals.stroke.colors:e.globals.colors,this.defaultSize=Math.min(e.globals.gridWidth,e.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=e.globals.gridWidth/2,"radialBar"===e.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(e.config.plotOptions.pie.endAngle-e.config.plotOptions.pie.startAngle),this.initialAngle=e.config.plotOptions.pie.startAngle%this.fullAngle,e.globals.radialSize=this.defaultSize/2.05-e.config.stroke.width-(e.config.chart.sparkline.enabled?0:e.config.chart.dropShadow.blur),this.donutSize=e.globals.radialSize*parseInt(e.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return o(i,[{key:"draw",value:function(t){var e=this,i=this.w,n=new F(this.ctx);if(this.ret=n.group({"class":"apexcharts-pie"}),i.globals.noData)return this.ret;for(var r=0,a=0;a<t.length;a++)r+=P.negToZero(t[a]);var o=[],s=n.group();0===r&&(r=1e-5),t.forEach(function(t){e.maxY=Math.max(e.maxY,t)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"polarArea"===this.chartType&&this.drawPolarElements();for(var l=0;l<t.length;l++){var c=this.fullAngle*P.negToZero(t[l])/r;o.push(c),"polarArea"===this.chartType?(o[l]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[l]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var h,u=0,d=0;d<i.globals.previousPaths.length;d++)u+=P.negToZero(i.globals.previousPaths[d]);for(var p=0;p<i.globals.previousPaths.length;p++)h=this.fullAngle*P.negToZero(i.globals.previousPaths[p])/u,this.prevSectorAngleArr.push(h)}this.donutSize<0&&(this.donutSize=0);var f=i.config.plotOptions.pie.customScale,g=i.globals.gridWidth/2,m=i.globals.gridHeight/2,v=g-i.globals.gridWidth/2*f,x=m-i.globals.gridHeight/2*f;if("donut"===this.chartType){var b=n.drawCircle(this.donutSize);b.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),s.add(b)}var y=this.drawArcs(o,t);if(this.sliceLabels.forEach(function(t){y.add(t)}),s.attr({transform:"translate(".concat(v,", ").concat(x,") scale(").concat(f,")")}),s.add(y),this.ret.add(s),this.donutDataLabels.show){var w=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:v,translateY:x});this.ret.add(w)}return this.ret}},{key:"drawArcs",value:function(t,e){var i=this.w,n=new I(this.ctx),r=new F(this.ctx),a=new L(this.ctx),o=r.group({"class":"apexcharts-slices"}),s=this.initialAngle,l=this.initialAngle,c=this.initialAngle,h=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var u=0;u<t.length;u++){var d=r.group({"class":"apexcharts-series apexcharts-pie-series",seriesName:P.escapeString(i.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});o.add(d),l=h,c=(s=c)+t[u],h=l+this.prevSectorAngleArr[u];var p=c<s?this.fullAngle+c-s:c-s,f=a.fillPath({seriesNumber:u,size:this.sliceSizes[u],value:e[u]}),g=this.getChangedPath(l,h),m=r.drawPath({d:g,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[u]:this.lineColorArr,strokeWidth:0,fill:f,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(u)});if(m.attr({index:0,j:u}),n.setSelectionFilter(m,0,u),i.config.chart.dropShadow.enabled){var v=i.config.chart.dropShadow;n.dropShadow(m,v,u)}this.addListeners(m,this.donutDataLabels),F.setAttrs(m.node,{"data:angle":p,"data:startAngle":s,"data:strokeWidth":this.strokeWidth,"data:value":e[u]});var x={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?x=P.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(s+p/2)%this.fullAngle):"donut"===this.chartType&&(x=P.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(s+p/2)%this.fullAngle)),d.add(m);var b=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0==(b=p/this.fullAngle*i.config.chart.animations.speed)&&(b=1),this.animDur=b+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(m,{size:this.sliceSizes[u],endAngle:c,startAngle:s,prevStartAngle:l,prevEndAngle:h,animateStartingPos:!0,i:u,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(m,{size:this.sliceSizes[u],endAngle:c,startAngle:s,i:u,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:b}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&m.click(this.pieClicked.bind(this,u)),void 0!==i.globals.selectedDataPoints[0]&&-1<i.globals.selectedDataPoints[0].indexOf(u)&&this.pieClicked(u),i.config.dataLabels.enabled){var y=x.x,w=x.y,A=100*p/this.fullAngle+"%";if(0!==p&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[u]){var C=i.config.dataLabels.formatter;void 0!==C&&(A=C(i.globals.seriesPercent[u][0],{seriesIndex:u,w:i}));var S=i.globals.dataLabels.style.colors[u],k=r.group({"class":"apexcharts-datalabels"}),T=r.drawText({x:y,y:w,text:A,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:S});if(k.add(T),i.config.dataLabels.dropShadow.enabled){var D=i.config.dataLabels.dropShadow;n.dropShadow(T,D)}T.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(T.node.classList.add("apexcharts-pie-label-delay"),T.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(k)}}}return o}},{key:"addListeners",value:function(t,e){var i=new F(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var i=this.w,n=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,r=n,a=e.startAngle,o=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(a=e.prevEndAngle,r=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===i.config.series.length-1&&(n+o>this.fullAngle?e.endAngle=e.endAngle-(n+o):n+o<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(n+o)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(t,a,o,n,r,e)}},{key:"animateArc",value:function(e,i,n,r,a,o){var s,l=this,t=this.w,c=new R(this.ctx),h=o.size;(isNaN(i)||isNaN(a))&&(i=n,a=r,o.dur=0);var u=r,d=n,p=i<n?this.fullAngle+i-n:i-n;t.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(s=l.getPiePath({me:l,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:h}),e.attr({d:s})),0!==o.dur?e.animate(o.dur,t.globals.easing,o.animBeginArr[o.i]).afterAll(function(){"pie"!==l.chartType&&"donut"!==l.chartType&&"polarArea"!==l.chartType||this.animate(t.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),o.i===t.config.series.length-1&&c.animationCompleted(e)}).during(function(t){u=p+(r-p)*t,o.animateStartingPos&&(u=a+(r-a)*t,d=i-a+(n-(i-a))*t),s=l.getPiePath({me:l,startAngle:d,angle:u,size:h}),e.node.setAttribute("data:pathOrig",s),e.attr({d:s})}):(s=l.getPiePath({me:l,startAngle:d,angle:r,size:h}),o.isTrack||(t.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",s),e.attr({d:s,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,n=this,r=n.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),a=i.globals.dom.Paper.select(".apexcharts-".concat(n.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==a.attr("data:pieClicked")){var o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(t){t.setAttribute("data:pieClicked","false");var e=t.getAttribute("data:pathOrig");t.setAttribute("d",e)}),a.attr("data:pieClicked","true");var s=parseInt(a.attr("data:startAngle"),10),l=parseInt(a.attr("data:angle"),10);e=n.getPiePath({me:n,startAngle:s,angle:l,size:r}),360!==l&&a.plot(e)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var c=a.attr("data:pathOrig");a.attr({d:c})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e=t.me,i=t.startAngle,n=t.angle,r=t.size,a=i,o=Math.PI*(a-90)/180,s=n+i;Math.ceil(s)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(s=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(s)>this.fullAngle&&(s-=this.fullAngle);var l=Math.PI*(s-90)/180,c=e.centerX+r*Math.cos(o),h=e.centerY+r*Math.sin(o),u=e.centerX+r*Math.cos(l),d=e.centerY+r*Math.sin(l),p=P.polarToCartesian(e.centerX,e.centerY,e.donutSize,s),f=P.polarToCartesian(e.centerX,e.centerY,e.donutSize,a),g=180<n?1:0,m=["M",c,h,"A",r,r,0,g,1,u,d];return"donut"===e.chartType?[].concat(m,["L",p.x,p.y,"A",e.donutSize,e.donutSize,0,g,0,f.x,f.y,"L",c,h,"z"]).join(" "):"pie"===e.chartType||"polarArea"===e.chartType?[].concat(m,["L",e.centerX,e.centerY,"L",c,h]).join(" "):[].concat(m).join(" ")}},{key:"drawPolarElements",value:function(){var t=this.w,e=new q(this.ctx),i=new F(this.ctx),n=new Ct(this.ctx),r=i.group(),a=i.group(),o=e.niceScale(0,Math.ceil(this.maxY),t.config.yaxis[0].tickAmount,0,!0),s=o.result.reverse(),l=o.result.length;this.maxY=o.niceMax;for(var c=t.globals.radialSize,h=c/(l-1),u=0;u<l-1;u++){var d=i.drawCircle(c);if(d.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var p=n.drawYAxisTexts(this.centerX,this.centerY-c+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,u,s[u]);a.add(p)}r.add(d),c-=h}this.ret.add(r),this.ret.add(a)}},{key:"renderInnerDataLabels",value:function(t,e){var i=this.w,n=new F(this.ctx),r=n.group({"class":"apexcharts-datalabels-group",transform:"translate(".concat(e.translateX?e.translateX:0,", ").concat(e.translateY?e.translateY:0,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),a=t.total.show;r.node.style.opacity=e.opacity;var o,s,l=e.centerX,c=e.centerY;o=void 0===t.name.color?i.globals.colors[0]:t.name.color;var h=t.name.fontSize,u=t.name.fontFamily,d=t.value.fontWeight;s=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var p=t.value.formatter,f="",g="";if(a?(o=t.total.color,h=t.total.fontSize,u=t.total.fontFamily,d=t.total.fontWeight,g=t.total.label,f=t.total.formatter(i)):1===i.globals.series.length&&(f=p(i.globals.series[0],i),g=i.globals.seriesNames[0]),g&&(g=t.name.formatter(g,t.total.show,i)),t.name.show){var m=n.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:g,textAnchor:"middle",foreColor:o,fontSize:h,fontWeight:d,fontFamily:u});m.node.classList.add("apexcharts-datalabel-label"),r.add(m)}if(t.value.show){var v=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,x=n.drawText({x:l,y:c+v,text:f,textAnchor:"middle",foreColor:s,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});x.node.classList.add("apexcharts-datalabel-value"),r.add(x)}return r}},{key:"printInnerLabels",value:function(t,e,i,n){var r,a=this.w;n?r=void 0===t.name.color?a.globals.colors[parseInt(n.parentNode.getAttribute("rel"),10)-1]:t.name.color:1<a.globals.series.length&&t.total.show&&(r=t.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),s=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,a),n||"function"!=typeof t.total.formatter||(i=t.total.formatter(a));var l=e===t.total.label;e=t.name.formatter(e,l,a),null!==o&&(o.textContent=e),null!==s&&(s.textContent=i),null!==o&&(o.style.fill=r)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,n=t.getAttribute("data:value"),r=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];1<i.globals.series.length&&this.printInnerLabels(e,r,n,t);var a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==a&&(a.style.opacity=1)}},{key:"revertDataLabelsInner",value:function(t,n){var r=this,e=this.w,i=e.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),a=!1,o=e.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),s=function(t){var e=t.makeSliceOut,i=t.printLabel;Array.prototype.forEach.call(o,function(t){"true"===t.getAttribute("data:pieClicked")&&(e&&(a=!0),i&&r.printDataLabelsInner(t,n))})};if(s({makeSliceOut:!0,printLabel:!1}),n.total.show&&1<e.globals.series.length)a&&!n.total.showAlways?s({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(n,n.total.label,n.total.formatter(e));else if(s({makeSliceOut:!1,printLabel:!0}),!a)if(e.globals.selectedDataPoints.length&&1<e.globals.series.length)if(0<e.globals.selectedDataPoints[0].length){var l=e.globals.selectedDataPoints[0],c=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(l));this.printDataLabelsInner(c,n)}else i&&e.globals.selectedDataPoints.length&&0===e.globals.selectedDataPoints[0].length&&(i.style.opacity=0);else i&&1<e.globals.series.length&&(i.style.opacity=0)}}]),i}(),kt=function(){function i(t){a(this,i),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var e=this.w;this.graphics=new F(this.ctx),this.lineColorArr=void 0!==e.globals.stroke.colors?e.globals.stroke.colors:e.globals.colors,this.defaultSize=e.globals.svgHeight<e.globals.svgWidth?e.globals.gridHeight+1.5*e.globals.goldenPadding:e.globals.gridWidth,this.isLog=e.config.yaxis[0].logarithmic,this.coreUtils=new D(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(e.globals.maxY,0):e.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):e.globals.minY,this.polygons=e.config.plotOptions.radar.polygons,this.strokeWidth=e.config.stroke.show?e.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-e.config.chart.dropShadow.blur,e.config.xaxis.labels.show&&(this.size=this.size-e.globals.xAxisLabelsWidth/1.75),void 0!==e.config.plotOptions.radar.size&&(this.size=e.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return o(i,[{key:"draw",value:function(t){var p=this,f=this.w,g=new L(this.ctx),m=[],v=new A(this.ctx);t.length&&(this.dataPointsLen=t[f.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var e=f.globals.gridWidth/2,i=f.globals.gridHeight/2,n=e+f.config.plotOptions.radar.offsetX,r=i+f.config.plotOptions.radar.offsetY,a=this.graphics.group({"class":"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(n||0,", ").concat(r||0,")")}),x=[],b=null,y=null;if(this.yaxisLabels=this.graphics.group({"class":"apexcharts-yaxis"}),t.forEach(function(t,s){var e=t.length===f.globals.dataPoints,l=p.graphics.group().attr({"class":"apexcharts-series","data:longestSeries":e,seriesName:P.escapeString(f.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});p.dataRadiusOfPercent[s]=[],p.dataRadius[s]=[],p.angleArr[s]=[],t.forEach(function(t,e){var i=Math.abs(p.maxValue-p.minValue);t+=Math.abs(p.minValue),p.isLog&&(t=p.coreUtils.getLogVal(t,0)),p.dataRadiusOfPercent[s][e]=t/i,p.dataRadius[s][e]=p.dataRadiusOfPercent[s][e]*p.size,p.angleArr[s][e]=e*p.disAngle}),x=p.getDataPointsPos(p.dataRadius[s],p.angleArr[s]);var i=p.createPaths(x,{x:0,y:0});b=p.graphics.group({"class":"apexcharts-series-markers-wrap apexcharts-element-hidden"}),y=p.graphics.group({"class":"apexcharts-datalabels","data:realIndex":s}),f.globals.delayedElements.push({el:b.node,index:s});var n={i:s,realIndex:s,animationDelay:s,initialSpeed:f.config.chart.animations.speed,dataChangeSpeed:f.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:f.globals.stroke.colors[s],strokeLineCap:f.config.stroke.lineCap},r=null;0<f.globals.previousPaths.length&&(r=p.getPreviousPath(s));for(var a=0;a<i.linePathsTo.length;a++){var o=p.graphics.renderPaths(_(_({},n),{},{pathFrom:null===r?i.linePathsFrom[a]:r,pathTo:i.linePathsTo[a],strokeWidth:Array.isArray(p.strokeWidth)?p.strokeWidth[s]:p.strokeWidth,fill:"none",drawShadow:!1}));l.add(o);var c=g.fillPath({seriesNumber:s}),h=p.graphics.renderPaths(_(_({},n),{},{pathFrom:null===r?i.areaPathsFrom[a]:r,pathTo:i.areaPathsTo[a],strokeWidth:0,fill:c,drawShadow:!1}));if(f.config.chart.dropShadow.enabled){var u=new I(p.ctx),d=f.config.chart.dropShadow;u.dropShadow(h,Object.assign({},d,{noUserSpaceOnUse:!0}),s)}l.add(h)}t.forEach(function(t,e){var i=new k(p.ctx).getMarkerConfig("apexcharts-marker",s,e),n=p.graphics.drawMarker(x[e].x,x[e].y,i);n.attr("rel",e),n.attr("j",e),n.attr("index",s),n.node.setAttribute("default-marker-size",i.pSize);var r=p.graphics.group({"class":"apexcharts-series-markers"});r&&r.add(n),b.add(r),l.add(b);var a=f.config.dataLabels;if(a.enabled){var o=a.formatter(f.globals.series[s][e],{seriesIndex:s,dataPointIndex:e,w:f});v.plotDataLabelsText({x:x[e].x,y:x[e].y,text:o,textAnchor:"middle",i:s,j:s,parent:y,offsetCorrection:!1,dataLabelsConfig:_({},a)})}l.add(y)}),m.push(l)}),this.drawPolygons({parent:a}),f.config.xaxis.labels.show){var o=this.drawXAxisTexts();a.add(o)}return a.add(this.yaxisLabels),m.forEach(function(t){a.add(t)}),a}},{key:"drawPolygons",value:function(t){for(var a=this,o=this.w,s=t.parent,n=new Ct(this.ctx),r=o.globals.yAxisScale[0].result.reverse(),e=r.length,i=[],l=this.size/(e-1),c=0;c<e;c++)i[c]=l*c;i.reverse();var h=[],u=[];i.forEach(function(t,n){var e=a.getPolygonPos(t),r="";e.forEach(function(t,e){if(0===n){var i=a.graphics.drawLine(t.x,t.y,0,0,Array.isArray(a.polygons.connectorColors)?a.polygons.connectorColors[e]:a.polygons.connectorColors);u.push(i)}0===e&&a.yaxisLabelsTextsPos.push({x:t.x,y:t.y}),r+=t.x+","+t.y+" "}),h.push(r)}),h.forEach(function(t,e){var i=a.polygons.strokeColors,n=a.polygons.strokeWidth,r=a.graphics.drawPolygon(t,Array.isArray(i)?i[e]:i,Array.isArray(n)?n[e]:n,o.globals.radarPolygons.fill.colors[e]);s.add(r)}),u.forEach(function(t){s.add(t)}),o.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(t,e){var i=n.drawYAxisTexts(t.x,t.y,e,r[e]);a.yaxisLabels.add(i)})}},{key:"drawXAxisTexts",value:function(){var o=this,s=this.w,l=s.config.xaxis.labels,c=this.graphics.group({"class":"apexcharts-xaxis"}),h=this.getPolygonPos(this.size);return s.globals.labels.forEach(function(t,e){var i=s.config.xaxis.labels.formatter,n=new A(o.ctx);if(h[e]){var r=o.getTextPos(h[e],o.size),a=i(t,{seriesIndex:-1,dataPointIndex:e,w:s});n.plotDataLabelsText({x:r.newX,y:r.newY,text:a,textAnchor:r.textAnchor,i:e,j:e,parent:c,color:Array.isArray(l.style.colors)&&l.style.colors[e]?l.style.colors[e]:"#a8a8a8",dataLabelsConfig:_({textAnchor:r.textAnchor,dropShadow:{enabled:!1}},l),offsetCorrection:!1})}}),c}},{key:"createPaths",value:function(i,t){var n=this,e=[],r=[],a=[],o=[];if(i.length){r=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var s=this.graphics.move(i[0].x,i[0].y),l=this.graphics.move(i[0].x,i[0].y);i.forEach(function(t,e){s+=n.graphics.line(t.x,t.y),l+=n.graphics.line(t.x,t.y),e===i.length-1&&(s+="Z",l+="Z")}),e.push(s),a.push(l)}return{linePathsFrom:r,linePathsTo:e,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(t,e){var i="middle",n=t.x,r=t.y;return 10<=Math.abs(t.x)?0<t.x?(i="start",n+=10):t.x<0&&(i="end",n-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?r-=10:0<t.y&&(r+=10)),{textAnchor:i,newX:n,newY:r}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,n=0;n<e.globals.previousPaths.length;n++){var r=e.globals.previousPaths[n];0<r.paths.length&&parseInt(r.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[n].paths[0]&&(i=e.globals.previousPaths[n].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e,i){var n=2<arguments.length&&void 0!==i?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var r=[],a=0;a<n;a++){var o={};o.x=t[a]*Math.sin(e[a]),o.y=-t[a]*Math.cos(e[a]),r.push(o)}return r}},{key:"getPolygonPos",value:function(t){for(var e=[],i=2*Math.PI/this.dataPointsLen,n=0;n<this.dataPointsLen;n++){var r={};r.x=t*Math.sin(n*i),r.y=-t*Math.cos(n*i),e.push(r)}return e}}]),i}(),Tt=function(){function n(t){var e;a(this,n),(e=r.call(this,t)).ctx=t,e.w=t.w,e.animBeginArr=[0],e.animDur=0;var i=e.w;return e.startAngle=i.config.plotOptions.radialBar.startAngle,e.endAngle=i.config.plotOptions.radialBar.endAngle,e.totalAngle=Math.abs(i.config.plotOptions.radialBar.endAngle-i.config.plotOptions.radialBar.startAngle),e.trackStartAngle=i.config.plotOptions.radialBar.track.startAngle,e.trackEndAngle=i.config.plotOptions.radialBar.track.endAngle,e.radialDataLabels=i.config.plotOptions.radialBar.dataLabels,e.trackStartAngle||(e.trackStartAngle=e.startAngle),e.trackEndAngle||(e.trackEndAngle=e.endAngle),360===e.endAngle&&(e.endAngle=359.99),e.margin=parseInt(i.config.plotOptions.radialBar.track.margin,10),e}l(n,St);var r=u(n);return o(n,[{key:"draw",value:function(t){var e=this.w,i=new F(this.ctx),n=i.group({"class":"apexcharts-radialbar"});if(e.globals.noData)return n;var r=i.group(),a=this.defaultSize/2,o=e.globals.gridWidth/2,s=this.defaultSize/2.05;e.config.chart.sparkline.enabled||(s=s-e.config.stroke.width-e.config.chart.dropShadow.blur);var l=e.globals.fill.colors;if(e.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:s,centerX:o,centerY:a,colorArr:l,series:t});r.add(c)}var h=this.drawArcs({size:s,centerX:o,centerY:a,colorArr:l,series:t}),u=360;e.config.plotOptions.radialBar.startAngle<0&&(u=this.totalAngle);var d=(360-u)/360;if(e.globals.radialSize=s-s*d,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);e.globals.radialSize+=p*d}return r.add(h.g),"front"===e.config.plotOptions.radialBar.hollow.position&&(h.g.add(h.elHollow),h.dataLabels&&h.g.add(h.dataLabels)),n.add(r),n}},{key:"drawTracks",value:function(t){var e=this.w,i=new F(this.ctx),n=i.group({"class":"apexcharts-tracks"}),r=new I(this.ctx),a=new L(this.ctx),o=this.getStrokeWidth(t);t.size=t.size-o/2;for(var s=0;s<t.series.length;s++){var l=i.group({"class":"apexcharts-radialbar-track apexcharts-track"});n.add(l),l.attr({rel:s+1}),t.size=t.size-o-this.margin;var c=e.config.plotOptions.radialBar.track,h=a.fillPath({seriesNumber:0,size:t.size,fillColors:Array.isArray(c.background)?c.background[s]:c.background,solid:!0}),u=this.trackStartAngle,d=this.trackEndAngle;360<=Math.abs(d)+Math.abs(u)&&(d=360-Math.abs(this.startAngle)-.1);var p=i.drawPath({d:"",stroke:h,strokeWidth:o*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var f=c.dropShadow;r.dropShadow(p,f)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+s),this.animatePaths(p,{centerX:t.centerX,centerY:t.centerY,endAngle:d,startAngle:u,size:t.size,i:s,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:e.globals.easing})}return n}},{key:"drawArcs",value:function(t){var e=this.w,i=new F(this.ctx),n=new L(this.ctx),r=new I(this.ctx),a=i.group(),o=this.getStrokeWidth(t);t.size=t.size-o/2;var s=e.config.plotOptions.radialBar.hollow.background,l=t.size-o*t.series.length-this.margin*t.series.length-o*parseInt(e.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-e.config.plotOptions.radialBar.hollow.margin;void 0!==e.config.plotOptions.radialBar.hollow.image&&(s=this.drawHollowImage(t,a,l,s));var h=this.drawHollow({size:c,centerX:t.centerX,centerY:t.centerY,fill:s||"transparent"});if(e.config.plotOptions.radialBar.hollow.dropShadow.enabled){var u=e.config.plotOptions.radialBar.hollow.dropShadow;r.dropShadow(h,u)}var d=1;!this.radialDataLabels.total.show&&1<e.globals.series.length&&(d=0);var p=null;this.radialDataLabels.show&&(p=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:l,centerX:t.centerX,centerY:t.centerY,opacity:d})),"back"===e.config.plotOptions.radialBar.hollow.position&&(a.add(h),p&&a.add(p));var f=!1;e.config.plotOptions.radialBar.inverseOrder&&(f=!0);for(var g=f?t.series.length-1:0;f?0<=g:g<t.series.length;f?g--:g++){var m=i.group({"class":"apexcharts-series apexcharts-radial-series",seriesName:P.escapeString(e.globals.seriesNames[g])});a.add(m),m.attr({rel:g+1,"data:realIndex":g}),this.ctx.series.addCollapsedClassToSeries(m,g),t.size=t.size-o-this.margin;var v=n.fillPath({seriesNumber:g,size:t.size,value:t.series[g]}),x=this.startAngle,b=void 0,y=P.negToZero(100<t.series[g]?100:t.series[g])/100,w=Math.round(this.totalAngle*y)+this.startAngle,A=void 0;e.globals.dataChanged&&(b=this.startAngle,A=Math.round(this.totalAngle*P.negToZero(e.globals.previousPaths[g])/100)+b),360<=Math.abs(w)+Math.abs(x)&&(w-=.01),360<=Math.abs(A)+Math.abs(b)&&(A-=.01);var C=w-x,S=Array.isArray(e.config.stroke.dashArray)?e.config.stroke.dashArray[g]:e.config.stroke.dashArray,k=i.drawPath({d:"",stroke:v,strokeWidth:o,fill:"none",fillOpacity:e.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+g,strokeDashArray:S});if(F.setAttrs(k.node,{"data:angle":C,"data:value":t.series[g]}),e.config.chart.dropShadow.enabled){var T=e.config.chart.dropShadow;r.dropShadow(k,T,g)}r.setSelectionFilter(k,0,g),this.addListeners(k,this.radialDataLabels),m.add(k),k.attr({index:0,j:g});var D=0;!this.initialAnim||e.globals.resized||e.globals.dataChanged||(D=(w-x)/360*e.config.chart.animations.speed,this.animDur=D/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),e.globals.dataChanged&&(D=(w-x)/360*e.config.chart.animations.dynamicAnimation.speed,this.animDur=D/(1.2*t.series.length)+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(k,{centerX:t.centerX,centerY:t.centerY,endAngle:w,startAngle:x,prevEndAngle:A,prevStartAngle:b,size:t.size,i:g,totalItems:2,animBeginArr:this.animBeginArr,dur:D,shouldSetPrevPaths:!0,easing:e.globals.easing})}return{g:a,elHollow:h,dataLabels:p}}},{key:"drawHollow",value:function(t){var e=new F(this.ctx).drawCircle(2*t.size);return e.attr({"class":"apexcharts-radialbar-hollow",cx:t.centerX,cy:t.centerY,r:t.size,fill:t.fill}),e}},{key:"drawHollowImage",value:function(e,t,i,n){var r=this.w,a=new L(this.ctx),o=P.randomId(),s=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped
)a.clippedImgArea({width:i,height:i,image:s,patternID:"pattern".concat(r.globals.cuid).concat(o)}),n="url(#pattern".concat(r.globals.cuid).concat(o,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var h=r.globals.dom.Paper.image(s).loaded(function(t){this.move(e.centerX-t.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)});t.add(h)}else{var u=r.globals.dom.Paper.image(s).loaded(function(){this.move(e.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)});t.add(u)}}return n}},{key:"getStrokeWidth",value:function(t){var e=this.w;return t.size*(100-parseInt(e.config.plotOptions.radialBar.hollow.size,10))/100/(t.series.length+1)-this.margin}}]),n}(),Dt=function(){function e(t){a(this,e),this.w=t.w,this.lineCtx=t}return o(e,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if("line"===i.config.chart.type&&("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new D(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var n=e[t].slice();n[n.length-1]=n[n.length-1]+1e-6,e[t]=n}return e}},{key:"calculatePoints",value:function(t){var e=t.series,i=t.realIndex,n=t.x,r=t.y,a=t.i,o=t.j,s=t.prevY,l=this.w,c=[],h=[];if(0===o){var u=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(u=(l.globals.seriesX[i][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(u),h.push(P.isNumber(e[a][0])?s+l.config.markers.offsetY:null),c.push(n+l.config.markers.offsetX),h.push(P.isNumber(e[a][o+1])?r+l.config.markers.offsetY:null)}else c.push(n+l.config.markers.offsetX),h.push(P.isNumber(e[a][o+1])?r+l.config.markers.offsetY:null);return{x:c,y:h}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,n=t.realIndex,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var o=r.globals.previousPaths[a];("line"===o.type||"area"===o.type)&&0<o.paths.length&&parseInt(o.realIndex,10)===parseInt(n,10)&&("line"===o.type?(this.lineCtx.appendPathFrom=!1,e=r.globals.previousPaths[a].paths[0].d):"area"===o.type&&(this.lineCtx.appendPathFrom=!1,i=r.globals.previousPaths[a].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[a].paths[1]&&(e=r.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e=t.i,i=t.series,n=t.prevY,r=t.lineYPosition,a=this.w;if(void 0!==i[e][0])n=(r=a.config.chart.stacked&&0<e?this.lineCtx.prevSeriesY[e-1][0]:this.lineCtx.zeroY)-i[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?i[e][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(a.config.chart.stacked&&0<e&&void 0===i[e][0])for(var o=e-1;0<=o;o--)if(null!==i[o][0]&&void 0!==i[o][0]){n=r=this.lineCtx.prevSeriesY[o][0];break}return{prevY:n,lineYPosition:r}}}]),e}(),Lt=function(){function n(t,e,i){a(this,n),this.ctx=t,this.w=t.w,this.xyRatios=e,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new w(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Dt(this),this.markers=new k(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return o(n,[{key:"draw",value:function(t,e,i){var n=this.w,r=new F(this.ctx),a=n.globals.comboCharts?e:n.config.chart.type,o=r.group({"class":"apexcharts-".concat(a,"-series apexcharts-plot-series")}),s=new D(this.ctx,n);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=s.getLogSeries(t),this.yRatio=s.getLogYRatios(this.yRatio);for(var l=[],c=0;c<t.length;c++){t=this.lineHelpers.sameValueSeriesFix(c,t);var h=n.globals.comboCharts?i[c]:c;this._initSerieVariables(t,c,h);var u=[],d=[],p=n.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,h),n.globals.isXNumeric&&0<n.globals.seriesX.length&&(p=(n.globals.seriesX[h][0]-n.globals.minX)/this.xRatio),d.push(p);var f,g=p,m=g,v=this.zeroY;v=this.lineHelpers.determineFirstPrevY({i:c,series:t,prevY:v,lineYPosition:0}).prevY,u.push(v),f=v;var x=this._calculatePathsFrom({series:t,i:c,realIndex:h,prevX:m,prevY:v}),b=this._iterateOverDataPoints({series:t,realIndex:h,i:c,x:p,y:1,pX:g,pY:f,pathsFrom:x,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:d,yArrj:u});this._handlePaths({type:a,realIndex:h,i:c,paths:b}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),l.push(this.elSeries)}if(n.config.chart.stacked)for(var y=l.length;0<y;y--)o.add(l[y-1]);else for(var w=0;w<l.length;w++)o.add(l[w]);return o}},{key:"_initSerieVariables",value:function(t,e,i){var n=this.w,r=new F(this.ctx);this.xDivision=n.globals.gridWidth/(n.globals.dataPoints-("on"===n.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(n.config.stroke.width)?n.config.stroke.width[i]:n.config.stroke.width,1<this.yRatio.length&&(this.yaxisIndex=i),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed,this.zeroY=n.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?n.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>n.globals.gridHeight||"end"===n.config.plotOptions.area.fillTo)&&(this.areaBottomY=n.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({"class":"apexcharts-series",seriesName:P.escapeString(n.globals.seriesNames[i])}),this.elPointsMain=r.group({"class":"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=r.group({"class":"apexcharts-datalabels","data:realIndex":i});var a=t[e].length===n.globals.dataPoints;this.elSeries.attr({"data:longestSeries":a,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,n,r,a=t.series,o=t.i,s=t.realIndex,l=t.prevX,c=t.prevY,h=this.w,u=new F(this.ctx);if(null===a[o][0]){for(var d=0;d<a[o].length;d++)if(null!==a[o][d]){l=this.xDivision*d,c=this.zeroY-a[o][d]/this.yRatio[this.yaxisIndex],e=u.move(l,c),i=u.move(l,this.areaBottomY);break}}else e=u.move(l,c),i=u.move(l,this.areaBottomY)+u.line(l,c);if(n=u.move(-1,this.zeroY)+u.line(-1,this.zeroY),r=u.move(-1,this.zeroY)+u.line(-1,this.zeroY),0<h.globals.previousPaths.length){var p=this.lineHelpers.checkPreviousPaths({pathFromLine:n,pathFromArea:r,realIndex:s});n=p.pathFromLine,r=p.pathFromArea}return{prevX:l,prevY:c,linePath:e,areaPath:i,pathFromLine:n,pathFromArea:r}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,n=t.i,r=t.paths,a=this.w,o=new F(this.ctx),s=new L(this.ctx);this.prevSeriesY.push(r.yArrj),a.globals.seriesXvalues[i]=r.xArrj,a.globals.seriesYvalues[i]=r.yArrj,this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var l={i:n,realIndex:i,animationDelay:n,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var c=s.fillPath({seriesNumber:i}),h=0;h<r.areaPaths.length;h++){var u=o.renderPaths(_(_({},l),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[h],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:c}));this.elSeries.add(u)}if(a.config.stroke.show&&!this.pointsChart){var d=null;d="line"===e?s.fillPath({seriesNumber:i,i:n}):a.globals.stroke.colors[i];for(var p=0;p<r.linePaths.length;p++){var f=o.renderPaths(_(_({},l),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[p],stroke:d,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:"none"}));this.elSeries.add(f)}}}},{key:"_iterateOverDataPoints",value:function(t){for(var e=t.series,i=t.realIndex,n=t.i,r=t.x,a=t.y,o=t.pX,s=t.pY,l=t.pathsFrom,c=t.linePaths,h=t.areaPaths,u=t.seriesIndex,d=t.lineYPosition,p=t.xArrj,f=t.yArrj,g=this.w,m=new F(this.ctx),v=this.yRatio,x=l.prevY,b=l.linePath,y=l.areaPath,w=l.pathFromLine,A=l.pathFromArea,C=P.isNumber(g.globals.minYArr[i])?g.globals.minYArr[i]:g.globals.minY,S=1<g.globals.dataPoints?g.globals.dataPoints-1:g.globals.dataPoints,k=0;k<S;k++){var T=void 0===e[n][k+1]||null===e[n][k+1];if(g.globals.isXNumeric){var D=g.globals.seriesX[i][k+1];void 0===g.globals.seriesX[i][k+1]&&(D=g.globals.seriesX[i][S-1]),r=(D-g.globals.minX)/this.xRatio}else r+=this.xDivision;d=g.config.chart.stacked&&0<n&&g.globals.collapsedSeries.length<g.config.series.length-1?this.prevSeriesY[function(t){for(var e=t,i=0;i<g.globals.series.length;i++)if(-1<g.globals.collapsedSeriesIndices.indexOf(t)){e--;break}return 0<=e?e:0}(n-1)][k+1]:this.zeroY,a=T?d-C/v[this.yaxisIndex]+2*(this.isReversed?C/v[this.yaxisIndex]:0):d-e[n][k+1]/v[this.yaxisIndex]+2*(this.isReversed?e[n][k+1]/v[this.yaxisIndex]:0),p.push(r),f.push(a);var L=this.lineHelpers.calculatePoints({series:e,x:r,y:a,realIndex:i,i:n,j:k,prevY:x}),E=this._createPaths({series:e,i:n,realIndex:i,j:k,x:r,y:a,pX:o,pY:s,linePath:b,areaPath:y,linePaths:c,areaPaths:h,seriesIndex:u});h=E.areaPaths,c=E.linePaths,o=E.pX,s=E.pY,y=E.areaPath,b=E.linePath,this.appendPathFrom&&(w+=m.line(r,this.zeroY),A+=m.line(r,this.zeroY)),this.handleNullDataPoints(e,L,n,k,i),this._handleMarkersAndLabels({pointsPos:L,series:e,x:r,y:a,prevY:x,i:n,j:k,realIndex:i})}return{yArrj:f,xArrj:p,pathFromArea:A,areaPaths:h,pathFromLine:w,linePaths:c}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.pointsPos,i=(t.series,t.x,t.y,t.prevY,t.i),n=t.j,r=t.realIndex,a=this.w,o=new A(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,n,{realIndex:r,pointsPos:e,zRatio:this.zRatio,elParent:this.elPointsMain});else{1<a.globals.series[i].length&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var s=this.markers.plotChartMarkers(e,r,n+1);null!==s&&this.elPointsMain.add(s)}var l=o.drawDataLabel(e,r,n+1,null);null!==l&&this.elDataLabelsWrap.add(l)}},{key:"_createPaths",value:function(t){var e=t.series,i=t.i,n=t.realIndex,r=t.j,a=t.x,o=t.y,s=t.pX,l=t.pY,c=t.linePath,h=t.areaPath,u=t.linePaths,d=t.areaPaths,p=t.seriesIndex,f=this.w,g=new F(this.ctx),m=f.config.stroke.curve,v=this.areaBottomY;if(Array.isArray(f.config.stroke.curve)&&(m=Array.isArray(p)?f.config.stroke.curve[p[i]]:f.config.stroke.curve[i]),"smooth"===m){var x=.35*(a-s);f.globals.hasNullValues?(null!==e[i][r]&&(null!==e[i][r+1]?(c=g.move(s,l)+g.curve(s+x,l,a-x,o,a+1,o),h=g.move(s+1,l)+g.curve(s+x,l,a-x,o,a+1,o)+g.line(a,v)+g.line(s,v)+"z"):(c=g.move(s,l),h=g.move(s,l)+"z")),u.push(c),d.push(h)):(c+=g.curve(s+x,l,a-x,o,a,o),h+=g.curve(s+x,l,a-x,o,a,o)),s=a,l=o,r===e[i].length-2&&(h=h+g.curve(s,l,a,o,a,v)+g.move(a,o)+"z",f.globals.hasNullValues||(u.push(c),d.push(h)))}else{if(null===e[i][r+1]){c+=g.move(a,o);var b=f.globals.isXNumeric?(f.globals.seriesX[n][r]-f.globals.minX)/this.xRatio:a-this.xDivision;h=h+g.line(b,v)+g.move(a,o)+"z"}null===e[i][r]&&(c+=g.move(a,o),h+=g.move(a,v)),"stepline"===m?(c=c+g.line(a,null,"H")+g.line(null,o,"V"),h=h+g.line(a,null,"H")+g.line(null,o,"V")):"straight"===m&&(c+=g.line(a,o),h+=g.line(a,o)),r===e[i].length-2&&(h=h+g.line(a,v)+g.move(a,o)+"z",u.push(c),d.push(h))}return{linePaths:u,areaPaths:d,pX:s,pY:l,linePath:c,areaPath:h}}},{key:"handleNullDataPoints",value:function(t,e,i,n,r){var a=this.w;if(null===t[i][n]&&a.config.markers.showNullDataPoints||1===t[i].length){var o=this.markers.plotChartMarkers(e,r,n+1,this.strokeWidth-a.config.markers.strokeWidth/2,!0);null!==o&&this.elPointsMain.add(o)}}}]),n}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function c(t,e,i,n){this.xoffset=t,this.yoffset=e,this.height=n,this.width=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){var e,i=[],n=this.xoffset,r=this.yoffset,a=d(t)/this.height,o=d(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)i.push([n,r,n+a,r+t[e]/a]),r+=t[e]/a;else for(e=0;e<t.length;e++)i.push([n,r,n+t[e]/o,r+o]),n+=t[e]/o;return i},this.cutArea=function(t){var e;if(this.width>=this.height){var i=t/this.height,n=this.width-i;e=new c(this.xoffset+i,this.yoffset,n,this.height)}else{var r=t/this.width,a=this.height-r;e=new c(this.xoffset,this.yoffset+r,this.width,a)}return e}}function h(t,r,a,e,i){return e=void 0===e?0:e,i=void 0===i?0:i,function(t){var e,i,n=[];for(e=0;e<t.length;e++)for(i=0;i<t[e].length;i++)n.push(t[e][i]);return n}(s(function(t){var e,i=[],n=r*a/d(t);for(e=0;e<t.length;e++)i[e]=t[e]*n;return i}(t),[],new c(e,i,r,a),[]))}function s(t,e,i,n){var r,a,o;if(0!==t.length)return r=i.shortestEdge(),function(t,e,i){var n;if(0===t.length)return!0;(n=t.slice()).push(e);var r=l(t,i);return l(n,i)<=r}(e,a=t[0],r)?(e.push(a),s(t.slice(1),e,i,n)):(o=i.cutArea(d(e),n),n.push(i.getCoordinates(e)),s(t,[],o,n)),n;n.push(i.getCoordinates(e))}function l(t,e){var i=Math.min.apply(Math,t),n=Math.max.apply(Math,t),r=d(t);return Math.max(Math.pow(e,2)*n/Math.pow(r,2),Math.pow(r,2)/(Math.pow(e,2)*i))}function u(t){return t&&t.constructor===Array}function d(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e];return i}function p(t){var e,i=0;if(u(t[0]))for(e=0;e<t.length;e++)i+=p(t[e]);else i=d(t);return i}return function c(t,e,i,n,r){n=void 0===n?0:n,r=void 0===r?0:r;var a,o,s=[],l=[];if(u(t[0])){for(o=0;o<t.length;o++)s[o]=p(t[o]);for(a=h(s,e,i,n,r),o=0;o<t.length;o++)l.push(c(t[o],a[o][2]-a[o][0],a[o][3]-a[o][1],a[o][0],a[o][1]))}else l=h(t,e,i,n,r);return l}}();var e,Et,Pt=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new wt(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return o(e,[{key:"draw",value:function(b){var y=this,w=this.w,A=new F(this.ctx),C=new L(this.ctx),n=A.group({"class":"apexcharts-treemap"});if(w.globals.noData)return n;var i=[];return b.forEach(function(t){var e=t.map(function(t){return Math.abs(t)});i.push(e)}),this.negRange=this.helpers.checkColorRange(),w.config.series.forEach(function(t,e){t.data.forEach(function(t){Array.isArray(y.labels[e])||(y.labels[e]=[]),y.labels[e].push(t.x)})}),window.TreemapSquared.generate(i,w.globals.gridWidth,w.globals.gridHeight).forEach(function(t,v){var x=A.group({"class":"apexcharts-series apexcharts-treemap-series",seriesName:P.escapeString(w.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});if(w.config.chart.dropShadow.enabled){var e=w.config.chart.dropShadow;new I(y.ctx).dropShadow(n,e,v)}var i=A.group({"class":"apexcharts-data-labels"});t.forEach(function(t,e){var i=t[0],n=t[1],r=t[2],a=t[3],o=A.drawRect(i,n,r-i,a-n,0,"#fff",1,y.strokeWidth,w.config.plotOptions.treemap.useFillColorAsStroke?l:w.globals.stroke.colors[v]);o.attr({cx:i,cy:n,index:v,i:v,j:e,width:r-i,height:a-n});var s=y.helpers.getShadeColor(w.config.chart.type,v,e,y.negRange),l=s.color;void 0!==w.config.series[v].data[e]&&w.config.series[v].data[e].fillColor&&(l=w.config.series[v].data[e].fillColor);var c=C.fillPath({color:l,seriesNumber:v,dataPointIndex:e});o.node.classList.add("apexcharts-treemap-rect"),o.attr({fill:c}),y.helpers.addListeners(o);var h={x:i+(r-i)/2,y:n+(a-n)/2,width:0,height:0},u={x:i,y:n,width:r-i,height:a-n};if(w.config.chart.animations.enabled&&!w.globals.dataChanged){var d=1;w.globals.resized||(d=w.config.chart.animations.speed),y.animateTreemap(o,h,u,d)}if(w.globals.dataChanged){var p=1;y.dynamicAnim.enabled&&w.globals.shouldAnimate&&(p=y.dynamicAnim.speed,w.globals.previousPaths[v][e]&&w.globals.previousPaths[v][e].rect&&(h=w.globals.previousPaths[v][e].rect),y.animateTreemap(o,h,u,p))}var f=y.getFontSize(t),g=w.config.dataLabels.formatter(y.labels[v][e],{value:w.globals.series[v][e],seriesIndex:v,dataPointIndex:e,w:w}),m=y.helpers.calculateDataLabels({text:g,x:(i+r)/2,y:(n+a)/2+y.strokeWidth/2+f/3,i:v,j:e,colorProps:s,fontSize:f,series:b});w.config.dataLabels.enabled&&m&&y.rotateToFitLabel(m,g,i,n,r,a),x.add(o),null!==m&&x.add(m)}),x.add(i),n.add(x)}),n}},{key:"getFontSize",value:function(n){var t,e,i=this.w,r=function n(t){var e,i=0;if(Array.isArray(t[0]))for(e=0;e<t.length;e++)i+=n(t[e]);else for(e=0;e<t.length;e++)i+=t[e].length;return i}(this.labels)/function n(t){var e,i=0;if(Array.isArray(t[0]))for(e=0;e<t.length;e++)i+=n(t[e]);else for(e=0;e<t.length;e++)i+=1;return i}(this.labels);return t=(n[2]-n[0])*(n[3]-n[1]),e=Math.pow(t,.5),Math.min(e/r,parseInt(i.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,n,r,a){var o=new F(this.ctx),s=o.getTextRects(e);if(s.width+5>r-i&&s.width<=a-n){var l=o.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(l.x," ").concat(l.y,")"))}}},{key:"animateTreemap",value:function(t,e,i,n){var r=new R(this.ctx);r.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},n,function(){r.animationCompleted(t)})}}]),e}(),_t=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return o(e,[{key:"calculateTimeScaleTicks",value:function(t,e){var o=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var i=new O(this.ctx),n=(e-t)/864e5;this.determineInterval(n),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,n<.005?s.globals.disableZoomIn=!0:5e4<n&&(s.globals.disableZoomOut=!0);var r=i.getTimeUnitsfromTimestamp(t,e,this.utc),a=s.globals.gridWidth/n,l=a/24,c=l/60,h=c/60,u=Math.floor(24*n),d=Math.floor(24*n*60),p=Math.floor(24*n*60*60),f=Math.floor(n),g=Math.floor(n/30),m=Math.floor(n/365),v={minSecond:r.minSecond,minMinute:r.minMinute,minHour:r.minHour,minDate:r.minDate,minMonth:r.minMonth,minYear:r.minYear},x={firstVal:v,currentSecond:v.minSecond,currentMinute:v.minMinute,currentHour:v.minHour,currentMonthDate:v.minDate,currentDate:v.minDate,currentMonth:v.minMonth,currentYear:v.minYear,daysWidthOnXAxis:a,hoursWidthOnXAxis:l,minutesWidthOnXAxis:c,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:d,numberOfHours:u,numberOfDays:f,numberOfMonths:g,numberOfYears:m};switch(this.tickInterval){case"years":this.generateYearScale(x);break;case"months":case"half_year":this.generateMonthScale(x);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(x);break;case"hours":this.generateHourScale(x);break;case"minutes":this.generateMinuteScale(x)}var b=this.timeScaleArray.map(function(t){var e={position:t.position,unit:t.unit,year:t.year,day:t.day?t.day:1,hour:t.hour?t.hour:0,month:t.month+1};return"month"===t.unit?_(_({},e),{},{day:1,value:t.value+1}):"day"===t.unit||"hour"===t.unit?_(_({},e),{},{value:t.value}):"minute"===t.unit?_(_({},e),{},{value:t.value,minute:t.value}):t});return b.filter(function(t){var e=1,i=Math.ceil(s.globals.gridWidth/120),n=t.value;void 0!==s.config.xaxis.tickAmount&&(i=s.config.xaxis.tickAmount),b.length>i&&(e=Math.floor(b.length/i));var r=!1,a=!1;switch(o.tickInterval){case"years":"year"===t.unit&&(r=!0);break;case"half_year":e=7,"year"===t.unit&&(r=!0);break;case"months":e=1,"year"===t.unit&&(r=!0);break;case"months_fortnight":e=15,"year"!==t.unit&&"month"!==t.unit||(r=!0),30===n&&(a=!0);break;case"months_days":e=10,"month"===t.unit&&(r=!0),30===n&&(a=!0);break;case"week_days":e=8,"month"===t.unit&&(r=!0);break;case"days":e=1,"month"===t.unit&&(r=!0);break;case"hours":"day"===t.unit&&(r=!0);break;case"minutes":n%5!=0&&(a=!0)}if("minutes"===o.tickInterval||"hours"===o.tickInterval){if(!a)return!0}else if((n%e==0||r)&&!a)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(t){var e=this.w,i=this.formatDates(t),n=this.removeOverlappingTS(i);e.globals.timescaleLabels=n.slice(),new st(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){switch(!0){case 1825<t:this.tickInterval="years";break;case 800<t&&t<=1825:this.tickInterval="half_year";break;case 180<t&&t<=800:this.tickInterval="months";break;case 90<t&&t<=180:this.tickInterval="months_fortnight";break;case 60<t&&t<=90:this.tickInterval="months_days";break;case 30<t&&t<=60:this.tickInterval="week_days";break;case 2<t&&t<=30:this.tickInterval="days";break;case.1<t&&t<=2:this.tickInterval="hours";break;case t<.1:this.tickInterval="minutes";break;default:this.tickInterval="days"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,n=t.currentYear,r=t.daysWidthOnXAxis,a=t.numberOfYears,o=e.minYear,s=0,l=new O(this.ctx),c="year";if(1<e.minDate||0<e.minMonth){var h=l.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);s=(l.determineDaysOfYear(e.minYear)-h+1)*r,o=e.minYear+1,this.timeScaleArray.push({position:s,value:o,unit:c,year:o,month:P.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:s,value:o,unit:c,year:n,month:P.monthMod(i+1)});for(var u=o,d=s,p=0;p<a;p++)u++,d=l.determineDaysOfYear(u-1)*r+d,this.timeScaleArray.push({position:d,value:u,unit:c,year:u,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,n=t.currentMonth,r=t.currentYear,a=t.daysWidthOnXAxis,o=t.numberOfMonths,s=n,l=0,c=new O(this.ctx),h="month",u=0;if(1<e.minDate){l=(c.determineDaysOfMonths(n+1,e.minYear)-i+1)*a,s=P.monthMod(n+1);var d=r+u,p=P.monthMod(s),f=s;0===s&&(h="year",f=d,d+=u+=p=1),this.timeScaleArray.push({position:l,value:f,unit:h,year:d,month:p})}else this.timeScaleArray.push({position:l,value:s,unit:h,year:r,month:P.monthMod(n)});for(var g=s+1,m=l,v=0,x=1;v<o;v++,x++){0===(g=P.monthMod(g))?(h="year",u+=1):h="month";var b=this._getYear(r,g,u);m=c.determineDaysOfMonths(g,b)*a+m;var y=0===g?b:g;this.timeScaleArray.push({position:m,value:y,unit:h,year:b,month:0===g?1:g}),g++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,n=t.currentYear,r=t.hoursWidthOnXAxis,a=t.numberOfDays,o=new O(this.ctx),s="day",l=e.minDate+1,c=l,h=function(t,e,i){return t>o.determineDaysOfMonths(e+1,i)&&(s="month",d=e+=c=1),e},u=(24-e.minHour)*r,d=l,p=h(c,i,n);0===e.minHour&&1===e.minDate&&(u=0,d=P.monthMod(e.minMonth),s="month",c=e.minDate,a++),this.timeScaleArray.push({position:u,value:d,unit:s,year:this._getYear(n,p,0),month:P.monthMod(p),day:c});for(var f=u,g=0;g<a;g++){s="day",p=h(c+=1,p,this._getYear(n,p,0));var m=this._getYear(n,p,0);f=24*r+f;var v=1===c?P.monthMod(p):c;this.timeScaleArray.push({position:f,value:v,unit:s,year:m,month:P.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,n=t.currentMonth,r=t.currentYear,a=t.minutesWidthOnXAxis,o=t.numberOfHours,s=new O(this.ctx),l="hour",c=function(t,e){return t>s.determineDaysOfMonths(e+1,r)&&(e+=g=1),{month:e,date:g}},h=function(t,e){return t>s.determineDaysOfMonths(e+1,r)?e+=1:e},u=60-(e.minMinute+e.minSecond/60),d=u*a,p=e.minHour+1,f=p+1;60===u&&(d=0,f=(p=e.minHour)+1);var g=i,m=h(g,n);this.timeScaleArray.push({position:d,value:p,unit:l,day:g,hour:f,year:r,month:P.monthMod(m)});for(var v=d,x=0;x<o;x++){l="hour",24<=f&&(f=0,l="day",m=c(g+=1,m).month,m=h(g,m));var b=this._getYear(r,m,0);v=0===f&&0===x?u*a:60*a+v;var y=0===f?g:f;this.timeScaleArray.push({position:v,value:y,unit:l,hour:f,day:g,year:b,month:P.monthMod(m)}),f++}}},{key:"generateMinuteScale",value:function(t){var e=t.firstVal,i=(t.currentSecond,t.currentMinute,t.currentHour),n=t.currentDate,r=t.currentMonth,a=t.currentYear,o=t.minutesWidthOnXAxis,s=t.secondsWidthOnXAxis,l=t.numberOfMinutes,c="minute",h=(60-e.minSecond)*s,u=e.minMinute+1,d=u+1,p=n,f=r,g=a,m=i;this.timeScaleArray.push({position:h,value:u,unit:c,day:p,hour:m,minute:d,year:g,month:P.monthMod(f)});for(var v=h,x=0;x<l;x++)60<=d&&(d=0,24===(m+=1)&&(m=0)),v=o+v,this.timeScaleArray.push({position:v,value:d,unit:c,hour:m,minute:d,day:p,year:this._getYear(a,f,0),month:P.monthMod(f)}),d++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return i+="-"+("0"+t.month.toString()).slice(-2),"day"===t.unit?i+="day"===t.unit?"-"+("0"+e).slice(-2):"-01":i+="-"+("0"+(t.day?t.day:"1")).slice(-2),"hour"===t.unit?i+="hour"===t.unit?"T"+("0"+e).slice(-2):"T00":i+="T"+("0"+(t.hour?t.hour:"0")).slice(-2),i+="minute"===t.unit?":"+("0"+e).slice(-2)+":00":":00:00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var s=this,l=this.w;return t.map(function(t){var e=t.value.toString(),i=new O(s.ctx),n=s.createRawDateString(t,e),r=i.getDate(i.parseDate(n));if(s.utc||(r=i.getDate(i.parseDateWithTimezone(n))),void 0===l.config.xaxis.labels.format){var a="dd MMM",o=l.config.xaxis.labels.datetimeFormatter;"year"===t.unit&&(a=o.year),"month"===t.unit&&(a=o.month),"day"===t.unit&&(a=o.day),"hour"===t.unit&&(a=o.hour),"minute"===t.unit&&(a=o.minute),e=i.formatDate(r,a)}else e=i.formatDate(r,l.config.xaxis.labels.format);return{dateString:n,position:t.position,value:e,unit:t.unit,year:t.year,month:t.month}})}},{key:"removeOverlappingTS",value:function(r){var a,o=this,s=new F(this.ctx),l=!1;0<r.length&&r[0].value&&r.every(function(t){return t.value.length===r[0].value.length})&&(l=!0,a=s.getTextRects(r[0].value).width);var c=0,t=r.map(function(t,e){if(0<e&&o.w.config.xaxis.labels.hideOverlappingLabels){var i=l?a:s.getTextRects(r[c].value).width,n=r[c].position;return t.position>n+i+10?(c=e,t):null}return t});return t.filter(function(t){return null!==t})}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),e}(),It=function(){function i(t,e){a(this,i),this.ctx=e,this.w=e.w,this.el=t}return o(i,[{key:"setupElements",value:function(){var t=this.w.globals,e=this.w.config,i=e.chart.type;t.axisCharts=-1<["line","area","bar","rangeBar","candlestick","scatter","bubble","radar","heatmap","treemap"].indexOf(i),t.xyCharts=-1<["line","area","bar","rangeBar","candlestick","scatter","bubble"].indexOf(i),t.isBarHorizontal=("bar"===e.chart.type||"rangeBar"===e.chart.type)&&e.plotOptions.bar.horizontal,t.chartClass=".apexcharts"+t.chartID,t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),F.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),"class":"apexcharts-canvas "+t.chartClass.substring(1)}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({"class":"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(e.chart.offsetX,", ").concat(e.chart.offsetY,")")}),t.dom.Paper.node.style.background=e.chart.background,this.setSVGDimensions(),t.dom.elGraphical=t.dom.Paper.group().attr({"class":"apexcharts-inner apexcharts-graphical"}),t.dom.elAnnotations=t.dom.Paper.group().attr({"class":"apexcharts-annotations"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(i,t){var n=this.w,r=n.config,a=n.globals,o={series:[],i:[]},s={series:[],i:[]},l={series:[],i:[]},c={series:[],i:[]},h={series:[],i:[]},u={series:[],i:[]};a.series.map(function(t,e){void 0!==i[e].type?("column"===i[e].type||"bar"===i[e].type?(1<a.series.length&&r.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),h.series.push(t),h.i.push(e),n.globals.columnSeries=h.series):"area"===i[e].type?(s.series.push(t),s.i.push(e)):"line"===i[e].type?(o.series.push(t),o.i.push(e)):"scatter"===i[e].type?(l.series.push(t),l.i.push(e)):"bubble"===i[e].type?(c.series.push(t),c.i.push(e)):"candlestick"===i[e].type?(u.series.push(t),u.i.push(e)):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),a.comboCharts=!0):(o.series.push(t),o.i.push(e))});var e=new Lt(this.ctx,t),d=new yt(this.ctx,t);this.ctx.pie=new St(this.ctx);var p=new Tt(this.ctx);this.ctx.rangeBar=new N(this.ctx,t);var f=new kt(this.ctx),g=[];if(a.comboCharts){if(0<s.series.length&&g.push(e.draw(s.series,"area",s.i)),0<h.series.length)if(n.config.chart.stacked){var m=new bt(this.ctx,t);g.push(m.draw(h.series,h.i))}else{var v=new M(this.ctx,t);g.push(v.draw(h.series,h.i))}if(0<o.series.length&&g.push(e.draw(o.series,"line",o.i)),0<u.series.length&&g.push(d.draw(u.series,u.i)),0<l.series.length){var x=new Lt(this.ctx,t,!0);g.push(x.draw(l.series,"scatter",l.i))}if(0<c.series.length){var b=new Lt(this.ctx,t,!0);g.push(b.draw(c.series,"bubble",c.i))}}else switch(r.chart.type){case"line":g=e.draw(a.series,"line");break;case"area":g=e.draw(a.series,"area");break;case"bar":g=r.chart.stacked?new bt(this.ctx,t).draw(a.series):new M(this.ctx,t).draw(a.series);break;case"candlestick":g=new yt(this.ctx,t).draw(a.series);break;case"rangeBar":g=this.ctx.rangeBar.draw(a.series);break;case"heatmap":g=new At(this.ctx,t).draw(a.series);break;case"treemap":g=new Pt(this.ctx,t).draw(a.series);break;case"pie":case"donut":case"polarArea":g=this.ctx.pie.draw(a.series);break;case"radialBar":g=p.draw(a.series);break;case"radar":g=f.draw(a.series);break;default:g=e.draw(a.series)}return g}},{key:"setSVGDimensions",value:function(){var t=this.w.globals,e=this.w.config;t.svgWidth=e.chart.width,t.svgHeight=e.chart.height;var i=P.getDimensions(this.el),n=e.chart.width.toString().split(/[0-9]+/g).pop();"%"===n?P.isNumber(i[0])&&(0===i[0].width&&(i=P.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(e.chart.width,10)/100):"px"!==n&&""!==n||(t.svgWidth=parseInt(e.chart.width,10));var r=e.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===r){var a=P.getDimensions(this.el.parentNode);t.svgHeight=a[1]*parseInt(e.chart.height,10)/100}else t.svgHeight=parseInt(e.chart.height,10);else t.axisCharts?t.svgHeight=t.svgWidth/1.61:t.svgHeight=t.svgWidth/1.2;if(t.svgWidth<0&&(t.svgWidth=0),t.svgHeight<0&&(t.svgHeight=0),F.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==r){var o=e.chart.sparkline.enabled?0:t.axisCharts?e.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight=t.svgHeight+o+"px"}t.dom.elWrap.style.width=t.svgWidth+"px",t.dom.elWrap.style.height=t.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY,i={transform:"translate("+t.translateX+", "+e+")"};F.setAttrs(t.dom.elGraphical.node,i)}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,n=t.config.chart.sparkline.enabled?1:15;n+=t.config.grid.padding.bottom,"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||!t.config.legend.show||t.config.legend.floating||(i=new ct(this.ctx).legendHelpers.getLegendBBox().clwh+10);var r=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*t.globals.radialSize;if(r&&!t.config.chart.sparkline.enabled){var o=P.getBoundingClientRect(r);a=o.bottom;var s=o.bottom-o.top;a=Math.max(2.05*t.globals.radialSize,s)}var l=a+e.translateY+i+n;e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",l),e.dom.elWrap.style.height=l+"px",F.setAttrs(e.dom.Paper.node,{height:l}),e.dom.Paper.node.parentNode.parentNode.style.minHeight=l+"px"}},{key:"coreCalculations",value:function(){new $(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map(function(){return[]})},i=new H,n=this.w.globals;i.initGlobalVars(n),n.seriesXvalues=e(),n.seriesYvalues=e()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&1<this.w.config.yaxis.length)return this.w.globals.isMultipleYAxis=!0}},{key:"xySettings",value:function(){var t=null,e=this.w;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new Q(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new Q(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new _t(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new D(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var i=this,o=this.w;if(o.config.chart.brush.enabled&&"function"!=typeof o.config.chart.events.selection){var e=o.config.chart.brush.targets||[o.config.chart.brush.target]
;e.forEach(function(t){var e=ApexCharts.getChartByID(t);e.w.globals.brushSource=i.ctx,"function"!=typeof e.w.config.chart.events.zoomed&&(e.w.config.chart.events.zoomed=function(){i.updateSourceChart(e)}),"function"!=typeof e.w.config.chart.events.scrolled&&(e.w.config.chart.events.scrolled=function(){i.updateSourceChart(e)})}),o.config.chart.events.selection=function(t,a){e.forEach(function(t){var n=ApexCharts.getChartByID(t),r=P.clone(o.config.yaxis);if(o.config.chart.brush.autoScaleYaxis&&1===n.w.globals.series.length){var e=new q(n);r=e.autoScaleY(n,r,a)}var i=n.w.config.yaxis.reduce(function(t,e,i){return[].concat(C(t),[_(_({},n.w.config.yaxis[i]),{},{min:r[0].min,max:r[0].max})])},[]);n.ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max},yaxis:i},!1,!1,!1,!1)})}}}}]),i}(),Rt=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"_updateOptions",value:function(i,t,e,n,r){var a=this,o=1<arguments.length&&void 0!==t&&arguments[1],s=!(2<arguments.length&&void 0!==e)||arguments[2],l=!(3<arguments.length&&void 0!==n)||arguments[3],c=4<arguments.length&&void 0!==r&&arguments[4],h=[this.ctx];l&&(h=this.ctx.getSyncedCharts()),this.ctx.w.globals.isExecCalled&&(h=[this.ctx],this.ctx.w.globals.isExecCalled=!1),h.forEach(function(t){var e=t.w;return e.globals.shouldAnimate=s,o||(e.globals.resized=!0,e.globals.dataChanged=!0,s&&t.series.getPreviousPaths()),i&&"object"===y(i)&&(t.config=new B(i),i=D.extendArrayProps(t.config,i,e),t.w.globals.chartID!==a.ctx.w.globals.chartID&&delete i.series,e.config=P.extend(e.config,i),c&&(e.globals.lastXAxis=i.xaxis?P.clone(i.xaxis):[],e.globals.lastYAxis=i.yaxis?P.clone(i.yaxis):[],e.globals.initialConfig=P.extend({},e.config),e.globals.initialSeries=P.clone(e.config.series))),t.update(i)})}},{key:"_updateSeries",value:function(t,e,i){var n,r=this,a=2<arguments.length&&void 0!==i&&arguments[2],o=this.w;return o.globals.shouldAnimate=e,o.globals.dataChanged=!0,e&&this.ctx.series.getPreviousPaths(),o.globals.axisCharts?(0===(n=t.map(function(t,e){return r._extendSeries(t,e)})).length&&(n=[{data:[]}]),o.config.series=n):o.config.series=t.slice(),a&&(o.globals.initialSeries=P.clone(o.config.series)),this.ctx.update()}},{key:"_extendSeries",value:function(t,e){var i=this.w,n=i.config.series[e];return _(_({},i.config.series[e]),{},{name:t.name?t.name:n&&n.name,color:t.color?t.color:n&&n.color,type:t.type?t.type:n&&n.type,data:t.data?t.data:n&&n.data})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,n=null,r=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?n=i.globals.dom.Paper.select("".concat(r," path[j='").concat(e,"'], ").concat(r," circle[j='").concat(e,"'], ").concat(r," rect[j='").concat(e,"']")).members[0]:void 0===e&&(n=i.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),n?(new F(this.ctx).pathMouseDown(n,null),n.node?n.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var i=this.w;if(["min","max"].forEach(function(t){void 0!==e.xaxis[t]&&(i.config.xaxis[t]=e.xaxis[t],i.globals.lastXAxis[t]=e.xaxis[t])}),e.xaxis.categories&&e.xaxis.categories.length&&(i.config.xaxis.categories=e.xaxis.categories),i.config.xaxis.convertedCatToNumeric){var t=new z(e);e=t.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(i){var t=this.w;return t.config.chart.stacked&&"100%"===t.config.chart.stackType&&(Array.isArray(i.yaxis)?i.yaxis.forEach(function(t,e){i.yaxis[e].min=0,i.yaxis[e].max=100}):(i.yaxis.min=0,i.yaxis.max=100)),i}},{key:"revertDefaultAxisMinMax",value:function(t){var i=this,n=this.w,e=n.globals.lastXAxis,r=n.globals.lastYAxis;t&&t.xaxis&&(e=t.xaxis),t&&t.yaxis&&(r=t.yaxis),n.config.xaxis.min=e.min,n.config.xaxis.max=e.max;var a=function(t){void 0!==r[t]&&(n.config.yaxis[t].min=r[t].min,n.config.yaxis[t].max=r[t].max)};n.config.yaxis.map(function(t,e){n.globals.zoomed||void 0!==r[e]?a(e):void 0!==i.ctx.opts.yaxis[e]&&(t.min=i.ctx.opts.yaxis[e].min,t.max=i.ctx.opts.yaxis[e].max)})}}]),e}();e="undefined"!=typeof window?window:void 0,Et=function(r,a){function l(t,e,i,n){return i+n.replace(d.regex.dots," .")}function n(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}function t(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function o(t,e,i){if(null==e||null==i){var n=t.bbox();null==e?e=n.width/n.height*i:null==i&&(i=n.height/n.width*e)}return{width:e,height:i}}function s(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function c(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function h(t){for(var e=t.childNodes.length-1;0<=e;e--)t.childNodes[e]instanceof r.SVGElement&&h(t.childNodes[e]);return d.adopt(t).id(d.eid(t.nodeName))}function u(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function e(t){return 1e-37<Math.abs(t)?t:0}var d=(void 0!==this?this:r).SVG=function(t){if(d.supported)return t=new d.Doc(t),d.parser.draw||d.prepare(),t};if(d.ns="http://www.w3.org/2000/svg",d.xmlns="http://www.w3.org/2000/xmlns/",d.xlink="http://www.w3.org/1999/xlink",d.svgjs="http://svgjs.com/svgjs",d.supported=!0,!d.supported)return!1;d.did=1e3,d.eid=function(t){return"Svgjs"+i(t)+d.did++},d.create=function(t){var e=a.createElementNS(this.ns,t);return e.setAttribute("id",this.eid(t)),e},d.extend=function(){var t,e;e=(t=[].slice.call(arguments)).pop();for(var i=t.length-1;0<=i;i--)if(t[i])for(var n in e)t[i].prototype[n]=e[n];d.Set&&d.Set.inherit&&d.Set.inherit()},d.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,d.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&d.extend(e,t.extend),t.construct&&d.extend(t.parent||d.Container,t.construct),e},d.adopt=function(t){return t?t.instance?t.instance:((e="svg"==t.nodeName?t.parentNode instanceof r.SVGElement?new d.Nested:new d.Doc:"linearGradient"==t.nodeName?new d.Gradient("linear"):"radialGradient"==t.nodeName?new d.Gradient("radial"):d[i(t.nodeName)]?new(d[i(t.nodeName)]):new d.Element(t)).type=t.nodeName,((e.node=t).instance=e)instanceof d.Doc&&e.namespace().defs(),e.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),e):null;var e},d.prepare=function(){var t=a.getElementsByTagName("body")[0],e=(t?new d.Doc(t):d.adopt(a.documentElement).nested()).size(2,0);d.parser={body:t||a.documentElement,draw:e.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:e.polyline().node,path:e.path().node,"native":d.create("svg")}},d.parser={"native":d.create("svg")},a.addEventListener("DOMContentLoaded",function(){d.parser.draw||d.prepare()},!1),d.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},d.utils={map:function(t,e){for(var i=t.length,n=[],r=0;r<i;r++)n.push(e(t[r]));return n},filter:function(t,e){for(var i=t.length,n=[],r=0;r<i;r++)e(t[r])&&n.push(t[r]);return n},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof r.SVGElement})}},d.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},d.Color=function(t){var e,i;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?d.regex.isRgb.test(t)?(e=d.regex.rgb.exec(t.replace(d.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):d.regex.isHex.test(t)&&(e=d.regex.hex.exec(4==(i=t).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"===y(t)&&(this.r=t.r,this.g=t.g,this.b=t.b))},d.extend(d.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+t(this.r)+t(this.g)+t(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new d.Color(t),this},at:function(t){return this.destination?(t=t<0?0:1<t?1:t,new d.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),d.Color.test=function(t){return t+="",d.regex.isHex.test(t)||d.regex.isRgb.test(t)},d.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},d.Color.isColor=function(t){return d.Color.isRgb(t)||d.Color.test(t)},d.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},d.extend(d.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)}}),d.PointArray=function(t,e){d.Array.call(this,t,e||[[0,0]])},d.PointArray.prototype=new d.Array,d.PointArray.prototype.constructor=d.PointArray;for(var p={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]}},f="mlhvqtcsaz".split(""),g=0,m=f.length;g<m;++g)p[f[g]]=function(a){return function(t,e,i){if("H"==a)t[0]=t[0]+e.x;else if("V"==a)t[0]=t[0]+e.y;else if("A"==a)t[5]=t[5]+e.x,t[6]=t[6]+e.y;else for(var n=0,r=t.length;n<r;++n)t[n]=t[n]+(n%2?e.y:e.x);return p[a](t,e,i)}}(f[g].toUpperCase());d.PathArray=function(t,e){d.Array.call(this,t,e||[["M",0,0]])},d.PathArray.prototype=new d.Array,d.PathArray.prototype.constructor=d.PathArray,d.extend(d.PathArray,{toString:function(){return function(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e][0],null!=t[e][1]&&(n+=t[e][1],null!=t[e][2]&&(n+=" ",n+=t[e][2],null!=t[e][3]&&(n+=" ",n+=t[e][3],n+=" ",n+=t[e][4],null!=t[e][5]&&(n+=" ",n+=t[e][5],n+=" ",n+=t[e][6],null!=t[e][7]&&(n+=" ",n+=t[e][7])))));return n+" "}(this.value)},move:function(){var t=this.bbox();return t.x,t.y,this},at:function(t){if(!this.destination)return this;for(var e=this.value,i=this.destination.value,n=[],r=new d.PathArray,a=0,o=e.length;a<o;a++){n[a]=[e[a][0]];for(var s=1,l=e[a].length;s<l;s++)n[a][s]=e[a][s]+(i[a][s]-e[a][s])*t;"A"===n[a][0]&&(n[a][4]=+(0!=n[a][4]),n[a][5]=+(0!=n[a][5]))}return r.value=n,r},parse:function(t){if(t instanceof d.PathArray)return t.valueOf();var e,i={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(d.regex.numbersWithDots,l).replace(d.regex.pathLetters," $& ").replace(d.regex.hyphen,"$1 -").trim().split(d.regex.delimiter):t.reduce(function(t,e){return[].concat.call(t,e)},[]);for(var n=[],r=new d.Point,a=new d.Point,o=0,s=t.length;d.regex.isPathLetter.test(t[o])?(e=t[o],++o):"M"==e?e="L":"m"==e&&(e="l"),n.push(p[e].call(null,t.slice(o,o+=i[e.toUpperCase()]).map(parseFloat),r,a)),o<s;);return n},bbox:function(){return d.parser.draw||d.prepare(),d.parser.path.setAttribute("d",this.toString()),d.parser.path.getBBox()}}),d.Number=d.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(d.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof d.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new d.Number(t),new d.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new d.Number(t),new d.Number(this-t,this.unit||t.unit)},times:function(t){return t=new d.Number(t),new d.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new d.Number(t),new d.Number(this/t,this.unit||t.unit)},to:function(t){var e=new d.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new d.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new d.Number(this.destination).minus(this).times(t).plus(this):this}}}),d.Element=d.invent({create:function(t){this._stroke=d.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,(this.node.instance=this)._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var i=o(this,t,e);return this.width(new d.Number(i.width)).height(new d.Number(i.height))},clone:function(t){this.writeDataToDom();var e=h(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(d.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!=e}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return d.get(this.attr(t))},parent:function(t){var e=this;if(!e.node.parentNode)return null;if(e=d.adopt(e.node.parentNode),!t)return e;for(;e&&e.node instanceof r.SVGElement;){if("string"==typeof t?e.matches(t):e instanceof t)return e;if(!e.node.parentNode||"#document"==e.node.parentNode.nodeName)return null;e=d.adopt(e.node.parentNode)}},doc:function(){return this instanceof d.Doc?this:this.parent(d.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return e=this.node,i=t,(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,i);var e,i},"native":function(){return this.node},svg:function(t){var e=a.createElement("svg");if(!(t&&this instanceof d.Parent))return e.appendChild(t=a.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),e.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");e.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var i=0,n=e.firstChild.childNodes.length;i<n;i++)this.node.appendChild(e.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return this instanceof t}}}),d.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},d.morph=function(i){return function(t,e){return new d.MorphObj(t,e).at(i)}},d.Situation=d.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new d.Number(t.duration).valueOf(),this.delay=new d.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),d.FX=d.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,i){"object"===y(t)&&(e=t.ease,i=t.delay,t=t.duration);var n=new d.Situation({duration:t||1e3,delay:i||0,ease:d.easing[e||"-"]||e});return this.queue(n),this},target:function(t){return t&&t instanceof d.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=r.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){r.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof d.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof d.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(var i in e.animations){t=this.target()[i](),Array.isArray(t)||(t=[t]),Array.isArray(e.animations[i])||(e.animations[i]=[e.animations[i]]);for(var n=t.length;n--;)e.animations[i][n]instanceof d.Number&&(t[n]=new d.Number(t[n])),e.animations[i][n]=t[n].morph(e.animations[i][n])}for(var i in e.attrs)e.attrs[i]=new d.MorphObj(this.target().attr(i),e.attrs[i]);for(var i in e.styles)e.styles[i]=new d.MorphObj(this.target().style(i),e.styles[i]);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var i=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!i&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(i){var n=this.last();return this.target().on("finished.fx",function a(e){e.detail.situation==n&&(i.call(this,n),this.off("finished.fx",a))}),this._callStart()},during:function(e){var i=this.last(),t=function(t){t.detail.situation==i&&e.call(this,t.detail.pos,d.morph(t.detail.pos),t.detail.eased,i)};return this.target().off("during.fx",t).on("during.fx",t),this.after(function(){this.off("during.fx",t)}),this._callStart()},afterAll:function(t){var e=function e(){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,this._callStart()},step:function(t){var e,i,n;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,n=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,n=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-n)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var a in this.situation.once)a>this.lastPos&&a<=r&&(this.situation.once[a].call(this.target(),this.pos,r),delete this.situation.once[a]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation&&(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r),this},eachAt:function(){var t,e=this,i=this.target(),n=this.situation;for(var r in n.animations)t=[].concat(n.animations[r]).map(function(t){return"string"!=typeof t&&t.at?t.at(n.ease(e.pos),e.pos):t}),i[r].apply(i,t);for(var r in n.attrs)t=[r].concat(n.attrs[r]).map(function(t){return"string"!=typeof t&&t.at?t.at(n.ease(e.pos),e.pos):t}),i.attr.apply(i,t);for(var r in n.styles)t=[r].concat(n.styles[r]).map(function(t){return"string"!=typeof t&&t.at?t.at(n.ease(e.pos),e.pos):t}),i.style.apply(i,t);if(n.transforms.length){t=n.initialTransformation,r=0;for(var a=n.transforms.length;r<a;r++){var o=n.transforms[r];o instanceof d.Matrix?t=o.relative?t.multiply((new d.Matrix).morph(o).at(n.ease(this.pos))):t.morph(o).at(n.ease(this.pos)):(o.relative||o.undo(t.extract()),t=t.multiply(o.at(n.ease(this.pos))))}i.matrix(t)}return this},once:function(t,e,i){var n=this.last();return i||(t=n.ease(t)),n.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:d.Element,construct:{animate:function(t,e,i){return(this.fx||(this.fx=new d.FX(this))).animate(t,e,i)},delay:function(t){return(this.fx||(this.fx=new d.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),d.MorphObj=d.invent({create:function(t,e){return d.Color.isColor(e)?new d.Color(t).morph(e):d.regex.delimiter.test(t)?d.regex.pathLetters.test(t)?new d.PathArray(t).morph(e):new d.Array(t).morph(e):d.regex.numberAndUnit.test(e)?new d.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),d.extend(d.FX,{attr:function(t,e){if("object"===y(t))for(var i in t)this.attr(i,t[i]);else this.add(t,e,"attrs");return this},plot:function(t,e,i,n){return 4==arguments.length?this.plot([t,e,i,n]):this.add("plot",new(this.target().morphArray)(t))}}),d.Box=d.invent({create:function(t,e,i,n){if(!("object"!==y(t)||t instanceof d.Element))return d.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=i,this.height=n),u(this)}}),d.BBox=d.invent({create:function(t){if(d.Box.apply(this,[].slice.call(arguments)),t instanceof d.Element){var e;try{if(!a.documentElement.contains){for(var i=t.node;i.parentNode;)i=i.parentNode;if(i!=a)throw new Error("Element not in the dom")}e=t.node.getBBox()}catch(a){if(t instanceof d.Shape){d.parser.draw||d.prepare();var n=t.clone(d.parser.draw.instance).show();e=n.node.getBBox(),n.remove()}else e={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}d.Box.call(this,e)}},inherit:d.Box,parent:d.Element,construct:{bbox:function(){return new d.BBox(this)}}}),d.BBox.prototype.constructor=d.BBox,d.Matrix=d.invent({create:function(t){var e=c([1,0,0,1,0,0]);t=t instanceof d.Element?t.matrixify():"string"==typeof t?c(t.split(d.regex.delimiter).map(parseFloat)):6==arguments.length?c([].slice.call(arguments)):Array.isArray(t)?c(t):"object"===y(t)?t:e;for(var i=x.length-1;0<=i;--i)this[x[i]]=null!=t[x[i]]?t[x[i]]:e[x[i]]},extend:{extract:function(){var t=s(this,0,1),e=(s(this,1,0),180/Math.PI*Math.atan2(t.y,t.x)-90);return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(e*Math.PI/180)+this.f*Math.sin(e*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(e*Math.PI/180)+this.e*Math.sin(-e*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:e,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new d.Matrix(this)}},clone:function(){return new d.Matrix(this)},morph:function(t){return this.destination=new d.Matrix(t),this},multiply:function(t){return new d.Matrix(this["native"]().multiply((e=t,e instanceof d.Matrix||(e=new d.Matrix(e)),e)["native"]()));var e},inverse:function(){return new d.Matrix(this["native"]().inverse())},translate:function(t,e){return new d.Matrix(this["native"]().translate(t||0,e||0))},"native":function(){for(var t=d.parser["native"].createSVGMatrix(),e=x.length-1;0<=e;e--)t[x[e]]=this[x[e]];return t},toString:function(){return"matrix("+e(this.a)+","+e(this.b)+","+e(this.c)+","+e(this.d)+","+e(this.e)+","+e(this.f)+")"}},parent:d.Element,construct:{ctm:function(){return new d.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof d.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new d.Matrix(e)}return new d.Matrix(this.node.getScreenCTM())}}}),d.Point=d.invent({create:function(t,e){var i;i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"===y(t)?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=i.x,this.y=i.y},extend:{clone:function(){return new d.Point(this)},morph:function(t,e){return this.destination=new d.Point(t,e),this}}}),d.extend(d.Element,{point:function(t,e){return new d.Point(t,e).transform(this.screenCTM().inverse())}}),d.extend(d.Element,{attr:function(t,e,i){if(null==t){for(t={},i=(e=this.node.attributes).length-1;0<=i;i--)t[e[i].nodeName]=d.regex.isNumber.test(e[i].nodeValue)?parseFloat(e[i].nodeValue):e[i].nodeValue;return t}if("object"===y(t))for(var n in t)this.attr(n,t[n]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?d.defaults.attrs[t]:d.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",0<parseFloat(e)?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(d.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof d.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new d.Number(e):d.Color.isColor(e)?e=new d.Color(e):Array.isArray(e)&&(e=new d.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof i?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),d.extend(d.Element,{transform:function(t,e){var i;return"object"!==y(t)?(i=new d.Matrix(this).extract(),"string"==typeof t?i[t]:i):(i=new d.Matrix(this),e=!!e||!!t.relative,null!=t.a&&(i=e?i.multiply(new d.Matrix(t)):new d.Matrix(t)),this.attr("transform",i))}}),d.extend(d.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(d.regex.transforms).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(d.regex.delimiter).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(c(e[1])):t[e[0]].apply(t,e[1])},new d.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.screenCTM().inverse();return this.addTo(t).untransform().transform(i.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),d.Transformation=d.invent({create:function(t,e){if(1<arguments.length&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[i];else if("object"===y(t))for(i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[this.arguments[i]];!(this.inversed=!1)===e&&(this.inversed=!0)}}),d.Translate=d.invent({parent:d.Matrix,inherit:d.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),d.extend(d.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===y(t))for(var i in t)this.style(i,t[i]);else{if(!d.regex.isCss.test(t))return this.node.style[n(t)];for(t=t.split(/\s*;\s*/).filter(function(t){return!!t}).map(function(t){return t.split(/\s*:\s*/)});e=t.pop();)this.style(e[0],e[1])}else this.node.style[n(t)]=null===e||d.regex.isBlank.test(e)?"":e;return this}}),d.Parent=d.invent({create:function(t){this.constructor.call(this,t)},inherit:d.Element,extend:{children:function(){return d.utils.map(d.utils.filterSVGElements(this.node.childNodes),function(t){return d.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return 0<=this.index(t)},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return d.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){for(var i=this.children(),n=0,r=i.length;n<r;n++)i[n]instanceof d.Element&&t.apply(i[n],[n,i]),e&&i[n]instanceof d.Container&&i[n].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),d.extend(d.Parent,{ungroup:function(t,e){return 0===e||this instanceof d.Defs||this.node==d.parser.draw||(t=t||(this instanceof d.Doc?this:this.parent(d.Parent)),e=e||1/0,this.each(function(){return this instanceof d.Defs?this:this instanceof d.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove()),this},flatten:function(t,e){return this.ungroup(t,e)}}),d.Container=d.invent({create:function(t){this.constructor.call(this,t)},inherit:d.Parent}),d.ViewBox=d.invent({parent:d.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){d.Element.prototype[e]=function(t){return d.on(this.node,e,t),this}}),d.listeners=[],d.handlerMap=[],d.listenerId=0,d.on=function(t,e,i,n,r){var a=i.bind(n||t.instance||t),o=(d.handlerMap.indexOf(t)+1||d.handlerMap.push(t))-1,s=e.split(".")[0],l=e.split(".")[1]||"*";d.listeners[o]=d.listeners[o]||{},d.listeners[o][s]=d.listeners[o][s]||{},d.listeners[o][s][l]=d.listeners[o][s][l]||{},i._svgjsListenerId||(i._svgjsListenerId=++d.listenerId),d.listeners[o][s][l][i._svgjsListenerId]=a,t.addEventListener(s,a,r||{passive:!0})},d.off=function(t,e,i){var n=d.handlerMap.indexOf(t),r=e&&e.split(".")[0],a=e&&e.split(".")[1],o="";if(-1!=n)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;d.listeners[n][r]&&d.listeners[n][r][a||"*"]&&(t.removeEventListener(r,d.listeners[n][r][a||"*"][i],!1),delete d.listeners[n][r][a||"*"][i])}else if(a&&r){if(d.listeners[n][r]&&d.listeners[n][r][a]){for(var s in d.listeners[n][r][a])d.off(t,[r,a].join("."),s);delete d.listeners[n][r][a]}}else if(a)for(var l in d.listeners[n])for(var o in d.listeners[n][l])a===o&&d.off(t,[l,a].join("."));else if(r){if(d.listeners[n][r]){for(var o in d.listeners[n][r])d.off(t,[r,o].join("."));delete d.listeners[n][r]}}else{for(var l in d.listeners[n])d.off(t,l)
;delete d.listeners[n],delete d.handlerMap[n]}},d.extend(d.Element,{on:function(t,e,i,n){return d.on(this.node,t,e,i,n),this},off:function(t,e){return d.off(this.node,t,e),this},fire:function(t,e){return t instanceof r.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new d.CustomEvent(t,{detail:e,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),d.Defs=d.invent({create:"defs",inherit:d.Container}),d.G=d.invent({create:"g",inherit:d.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)}},construct:{group:function(){return this.put(new d.G)}}}),d.Doc=d.invent({create:function(t){t&&("svg"==(t="string"==typeof t?a.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,d.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:d.Container,extend:{namespace:function(){return this.attr({xmlns:d.ns,version:"1.1"}).attr("xmlns:xlink",d.xlink,d.xmlns).attr("xmlns:svgjs",d.svgjs,d.xmlns)},defs:function(){var t;return this._defs||((t=this.node.getElementsByTagName("defs")[0])?this._defs=d.adopt(t):this._defs=new d.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,d.parser.draw&&!d.parser.draw.parentNode&&this.node.appendChild(d.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,i=h(e.cloneNode(!0));return t?(t.node||t).appendChild(i.node):e.parentNode.insertBefore(i.node,e.nextSibling),i}}}),d.extend(d.Element,{}),d.Gradient=d.invent({create:function(t){this.constructor.call(this,d.create(t+"Gradient")),this.type=t},inherit:d.Container,extend:{at:function(t,e,i){return this.put(new d.Stop).update(t,e,i)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="gradientTransform"),d.Container.prototype.attr.call(this,t,e,i)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),d.extend(d.Gradient,d.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new d.Number(t),fy:new d.Number(e)}):this.attr({x1:new d.Number(t),y1:new d.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new d.Number(t),cy:new d.Number(e)}):this.attr({x2:new d.Number(t),y2:new d.Number(e)})}}),d.extend(d.Defs,{gradient:function(t,e){return this.put(new d.Gradient(t)).update(e)}}),d.Stop=d.invent({create:"stop",inherit:d.Element,extend:{update:function(t,e,i){return("number"==typeof t||t instanceof d.Number)&&(t={offset:arguments[0],color:e,opacity:i}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new d.Number(t.offset)),this}}}),d.Pattern=d.invent({create:"pattern",inherit:d.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="patternTransform"),d.Container.prototype.attr.call(this,t,e,i)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),d.extend(d.Defs,{pattern:function(t,e,i){return this.put(new d.Pattern).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),d.Shape=d.invent({create:function(t){this.constructor.call(this,t)},inherit:d.Element}),d.Symbol=d.invent({create:"symbol",inherit:d.Container,construct:{symbol:function(){return this.put(new d.Symbol)}}}),d.Use=d.invent({create:"use",inherit:d.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,d.xlink)}},construct:{use:function(t,e){return this.put(new d.Use).element(t,e)}}}),d.Rect=d.invent({create:"rect",inherit:d.Shape,construct:{rect:function(t,e){return this.put(new d.Rect).size(t,e)}}}),d.Circle=d.invent({create:"circle",inherit:d.Shape,construct:{circle:function(t){return this.put(new d.Circle).rx(new d.Number(t).divide(2)).move(0,0)}}}),d.extend(d.Circle,d.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),d.Ellipse=d.invent({create:"ellipse",inherit:d.Shape,construct:{ellipse:function(t,e){return this.put(new d.Ellipse).size(t,e).move(0,0)}}}),d.extend(d.Ellipse,d.Rect,d.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),d.extend(d.Circle,d.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new d.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new d.Number(t).divide(2))},size:function(t,e){var i=o(this,t,e);return this.rx(new d.Number(i.width).divide(2)).ry(new d.Number(i.height).divide(2))}}),d.Line=d.invent({create:"line",inherit:d.Shape,extend:{array:function(){return new d.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,i,n){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:i,y2:n}:new d.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=o(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,i,n){return d.Line.prototype.plot.apply(this.put(new d.Line),null!=t?[t,e,i,n]:[0,0,0,0])}}}),d.Polyline=d.invent({create:"polyline",inherit:d.Shape,construct:{polyline:function(t){return this.put(new d.Polyline).plot(t||new d.PointArray)}}}),d.Polygon=d.invent({create:"polygon",inherit:d.Shape,construct:{polygon:function(t){return this.put(new d.Polygon).plot(t||new d.PointArray)}}}),d.extend(d.Polyline,d.Polygon,{array:function(){return this._array||(this._array=new d.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new d.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=o(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),d.extend(d.Line,d.Polyline,d.Polygon,{morphArray:d.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),d.Path=d.invent({create:"path",inherit:d.Shape,extend:{morphArray:d.PathArray,array:function(){return this._array||(this._array=new d.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new d.PathArray(t))},clear:function(){return delete this._array,this}},construct:{path:function(t){return this.put(new d.Path).plot(t||new d.PathArray)}}}),d.Image=d.invent({create:"image",inherit:d.Shape,extend:{load:function(e){if(!e)return this;var i=this,n=new r.Image;return d.on(n,"load",function(){d.off(n);var t=i.parent(d.Pattern);null!==t&&(0==i.width()&&0==i.height()&&i.size(n.width,n.height),t&&0==t.width()&&0==t.height()&&t.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:n.width,height:n.height,ratio:n.width/n.height,url:e}))}),d.on(n,"error",function(t){d.off(n),"function"==typeof i._error&&i._error.call(i,t)}),this.attr("href",n.src=this.src=e,d.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,i){return this.put(new d.Image).load(t).size(e||0,i||e||0)}}}),d.Text=d.invent({create:function(){this.constructor.call(this,d.create("text")),this.dom.leading=new d.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",d.defaults.attrs["font-family"])},inherit:d.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,i=0,n=e.length;i<n;++i)0!=i&&3!=e[i].nodeType&&1==d.adopt(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{i=0;for(var r=(t=t.split("\n")).length;i<r;i++)this.tspan(t[i]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new d.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=d.utils.map(d.utils.filterSVGElements(t.childNodes),function(t){return d.adopt(t)});return new d.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,i=0,n=this.dom.leading*new d.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?i+=n:(this.attr("dy",n+i),i=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new d.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new d.Text).text(t)},plain:function(t){return this.put(new d.Text).plain(t)}}}),d.Tspan=d.invent({create:"tspan",inherit:d.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(d.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),d.extend(d.Text,d.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(a.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,i=new d.Tspan;return!1===this._build&&this.clear(),e.appendChild(i.node),i.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),d.TextPath=d.invent({create:"textPath",inherit:d.Parent,parent:d.Text,construct:{morphArray:d.PathArray,array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),i=null;return e&&(i=e.plot(t)),null==t?i:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return d.adopt(this.node.firstChild)}}}),d.Nested=d.invent({create:function(){this.constructor.call(this,d.create("svg")),this.style("overflow","visible")},inherit:d.Container,construct:{nested:function(){return this.put(new d.Nested)}}});var v={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(i){var t={};t[i]=function(t){if(void 0===t)return this;if("string"==typeof t||d.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(i,t);else for(var e=v[i].length-1;0<=e;e--)null!=t[v[i][e]]&&this.attr(v.prefix(i,v[i][e]),t[v[i][e]]);return this},d.extend(d.Element,d.FX,t)}),d.extend(d.Element,d.FX,{translate:function(t,e){return this.transform({x:t,y:e})},matrix:function(t){return this.attr("transform",new d.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new d.Number(t).plus(this instanceof d.FX?0:this.x()),!0)},dy:function(t){return this.y(new d.Number(t).plus(this instanceof d.FX?0:this.y()),!0)}}),d.extend(d.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),d.Set=d.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){for(var t=[].slice.call(arguments),e=0,i=t.length;e<i;e++)this.members.push(t[e]);return this},remove:function(t){var e=this.index(t);return-1<e&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return 0<=this.index(t)},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(t){return new d.Set(t)}}}),d.FX.Set=d.invent({create:function(t){this.set=t}}),d.Set.inherit=function(){var t=[];for(var e in d.Shape.prototype)"function"==typeof d.Shape.prototype[e]&&"function"!=typeof d.Set.prototype[e]&&t.push(e);for(var e in t.forEach(function(i){d.Set.prototype[i]=function(){for(var t=0,e=this.members.length;t<e;t++)this.members[t]&&"function"==typeof this.members[t][i]&&this.members[t][i].apply(this.members[t],arguments);return"animate"==i?this.fx||(this.fx=new d.FX.Set(this)):this}}),t=[],d.FX.prototype)"function"==typeof d.FX.prototype[e]&&"function"!=typeof d.FX.Set.prototype[e]&&t.push(e);t.forEach(function(i){d.FX.Set.prototype[i]=function(){for(var t=0,e=this.set.members.length;t<e;t++)this.set.members[t].fx[i].apply(this.set.members[t].fx,arguments);return this}})},d.extend(d.Element,{}),d.extend(d.Element,{remember:function(t,e){if("object"===y(arguments[0]))for(var i in t)this.remember(i,t[i]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;0<=t;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),d.get=function(e){var t=a.getElementById(function(){var t=(e||"").toString().match(d.regex.reference);if(t)return t[1]}()||e);return d.adopt(t)},d.select=function(t,e){return new d.Set(d.utils.map((e||a).querySelectorAll(t),function(t){return d.adopt(t)}))},d.extend(d.Parent,{select:function(t){return d.select(t,this.node)}});var x="abcdef".split("");if("function"!=typeof r.CustomEvent){var b=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=a.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};b.prototype=r.Event.prototype,d.CustomEvent=b}else d.CustomEvent=r.CustomEvent;return d},"function"==typeof define&&define.amd?define(function(){return Et(e,e.document)}):"object"===("undefined"==typeof exports?"undefined":y(exports))&&"undefined"!=typeof module?module.exports=e.document?Et(e,e.document):function(t){return Et(t,t.document)}:e.SVG=Et(e,e.document),function(){function i(t){return Array.isArray(t)&&(t=new SVG.Array(t)),t.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function n(t){if(!Array.isArray(t))return t;for(var e=0,i=t.length,n=[];e<i;e++)n.push(t[e]);return n.join(" ")}function t(){var t=function(){};for(var e in"function"==typeof arguments[arguments.length-1]&&(t=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var i in arguments[e])t(arguments[e][i],i,arguments[e])}SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(t,e){return this.add(t,e),!t.attr("in")&&this.autoSetIn&&t.attr("in",this.source),t.attr("result")||t.attr("result",t),t},blend:function(t,e,i){return this.put(new SVG.BlendEffect(t,e,i))},colorMatrix:function(t,e){return this.put(new SVG.ColorMatrixEffect(t,e))},convolveMatrix:function(t){return this.put(new SVG.ConvolveMatrixEffect(t))},componentTransfer:function(t){return this.put(new SVG.ComponentTransferEffect(t))},composite:function(t,e,i){return this.put(new SVG.CompositeEffect(t,e,i))},flood:function(t,e){return this.put(new SVG.FloodEffect(t,e))},offset:function(t,e){return this.put(new SVG.OffsetEffect(t,e))},image:function(t){return this.put(new SVG.ImageEffect(t))},merge:function(){var t=[void 0];for(var e in arguments)t.push(arguments[e]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,t)))},gaussianBlur:function(t,e){return this.put(new SVG.GaussianBlurEffect(t,e))},morphology:function(t,e){return this.put(new SVG.MorphologyEffect(t,e))},diffuseLighting:function(t,e,i){return this.put(new SVG.DiffuseLightingEffect(t,e,i))},displacementMap:function(t,e,i,n,r){return this.put(new SVG.DisplacementMapEffect(t,e,i,n,r))},specularLighting:function(t,e,i,n){return this.put(new SVG.SpecularLightingEffect(t,e,i,n))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(t,e,i,n,r){return this.put(new SVG.TurbulenceEffect(t,e,i,n,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(t){var e=this.put(new SVG.Filter);return"function"==typeof t&&t.call(e,e),e}}),SVG.extend(SVG.Container,{filter:function(t){return this.defs().filter(t)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(t){return this.filterer=t instanceof SVG.Element?t:this.doc().filter(t),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(t){return this.filterer&&!0===t&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{"in":function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{"in":function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",t)},result:function(t){return null==t?this.attr("result"):this.attr("result",t)},toString:function(){return this.result()}}});var e={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e)["in"](this)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t)["in"](this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t)["in"](this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e)["in"](this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e)["in"](this)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e)["in"](this)},diffuseLighting:function(t,e,i){return this.parent()&&this.parent().diffuseLighting(t,e,i)["in"](this)},displacementMap:function(t,e,i,n){return this.parent()&&this.parent().displacementMap(this,t,e,i,n)},specularLighting:function(t,e,i,n){return this.parent()&&this.parent().specularLighting(t,e,i,n)["in"](this)},tile:function(){return this.parent()&&this.parent().tile()["in"](this)},turbulence:function(t,e,i,n,r){return this.parent()&&this.parent().turbulence(t,e,i,n,r)["in"](this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{"in":function(t){this.attr("in",t)}}});var r={blend:function(t,e,i){this.attr({"in":t,in2:e,mode:i||"normal"})},colorMatrix:function(t,e){"matrix"==t&&(e=i(e)),this.attr({type:t,values:void 0===e?null:e})},convolveMatrix:function(t){t=i(t),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},composite:function(t,e,i){this.attr({"in":t,in2:e,operator:i})},flood:function(t,e){this.attr("flood-color",t),null!=e&&this.attr("flood-opacity",e)},offset:function(t,e){this.attr({dx:t,dy:e})},image:function(t){this.attr("href",t,SVG.xlink)},displacementMap:function(t,e,i,n,r){this.attr({"in":t,in2:e,scale:i,xChannelSelector:n,yChannelSelector:r})},gaussianBlur:function(t,e){null!=t||null!=e?this.attr("stdDeviation",n(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(t,e){this.attr({operator:t,radius:e})},tile:function(){},turbulence:function(t,e,i,n,r){this.attr({numOctaves:e,seed:i,stitchTiles:n,baseFrequency:t,type:r})}},a={merge:function(t){var e;if(t instanceof SVG.Set){var i=this;arguments[0].each(function(){this instanceof SVG.MergeNode?i.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&i.put(new SVG.MergeNode(this))})}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<e.length;n++)e[n]instanceof SVG.MergeNode?this.put(e[n]):this.put(new SVG.MergeNode(e[n]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(t){this[t]=new(SVG["Func"+t.toUpperCase()])("identity"),this.rgb.add(this[t]),this.node.appendChild(this[t].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(t,e,i){this.attr({surfaceScale:t,diffuseConstant:e,kernelUnitLength:i})},specularLighting:function(t,e,i,n){this.attr({surfaceScale:t,diffuseConstant:e,specularExponent:i,kernelUnitLength:n})}},o={distantLight:function(t,e){this.attr({azimuth:t,elevation:e})},pointLight:function(t,e,i){this.attr({x:t,y:e,z:i})},spotLight:function(t,e,i,n,r,a){this.attr({x:t,y:e,z:i,pointsAtX:n,pointsAtY:r,pointsAtZ:a})},mergeNode:function(t){this.attr("in",t)}};["r","g","b","a"].forEach(function(t){o["Func"+t.toUpperCase()]=function(t,e,i){switch(this.attr("type",t),t){case"table":this.attr("tableValues",e);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",i);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),t(r,function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),t(a,function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),t(o,function(t,e){var i=e.charAt(0).toUpperCase()+e.slice(1);SVG[i]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+i)),t.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{"in":function(t){return t instanceof SVG.MergeNode?this.add(t,0):this.add(new SVG.MergeNode(t),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(t){return null==t?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",t)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function c(t,e,i,n,r,a,o){for(var s=t.slice(e,i||o),l=n.slice(r,a||o),c=0,h={pos:[0,0],start:[0,0]},u={pos:[0,0],start:[0,0]};s[c]=d.call(h,s[c]),l[c]=d.call(u,l[c]),s[c][0]!=l[c][0]||"M"==s[c][0]||"A"==s[c][0]&&(s[c][4]!=l[c][4]||s[c][5]!=l[c][5])?(Array.prototype.splice.apply(s,[c,1].concat(f.call(h,s[c]))),Array.prototype.splice.apply(l,[c,1].concat(f.call(u,l[c])))):(s[c]=p.call(h,s[c]),l[c]=p.call(u,l[c])),++c!=s.length||c!=l.length;)c==s.length&&s.push(["C",h.pos[0],h.pos[1],h.pos[0],h.pos[1],h.pos[0],h.pos[1]]),c==l.length&&l.push(["C",u.pos[0],u.pos[1],u.pos[0],u.pos[1],u.pos[0],u.pos[1]]);return{start:s,dest:l}}function d(t){switch(t[0]){case"z":case"Z":t[0]="L",t[1]=this.start[0],t[2]=this.start[1];break;case"H":t[0]="L",t[2]=this.pos[1];break;case"V":t[0]="L",t[2]=t[1],t[1]=this.pos[0];break;case"T":t[0]="Q",t[3]=t[1],t[4]=t[2],t[1]=this.reflection[1],t[2]=this.reflection[0];break;case"S":t[0]="C",t[6]=t[4],t[5]=t[3],t[4]=t[2],t[3]=t[1],t[2]=this.reflection[1],t[1]=this.reflection[0]}return t}function p(t){var e=t.length;return this.pos=[t[e-2],t[e-1]],-1!="SCQT".indexOf(t[0])&&(this.reflection=[2*this.pos[0]-t[e-4],2*this.pos[1]-t[e-3]]),t}function f(t){var e=[t];switch(t[0]){case"M":return this.pos=this.start=[t[1],t[2]],e;case"L":t[5]=t[3]=t[1],t[6]=t[4]=t[2],t[1]=this.pos[0],t[2]=this.pos[1];break;case"Q":t[6]=t[4],t[5]=t[3],t[4]=1*t[4]/3+2*t[2]/3,t[3]=1*t[3]/3+2*t[1]/3,t[2]=1*this.pos[1]/3+2*t[2]/3,t[1]=1*this.pos[0]/3+2*t[1]/3;break;case"A":t=(e=function(t,e){var i,n,r,a,o,s,l,c,h,u,d,p,f,g,m,v,x,b,y,w,A,C,S,k,T,D,L=Math.abs(e[1]),E=Math.abs(e[2]),P=e[3]%360,_=e[4],I=e[5],R=e[6],F=e[7],M=new SVG.Point(t),O=new SVG.Point(R,F),N=[];if(0===L||0===E||M.x===O.x&&M.y===O.y)return[["C",M.x,M.y,O.x,O.y,O.x,O.y]];for(1<(n=(i=new SVG.Point((M.x-O.x)/2,(M.y-O.y)/2).transform((new SVG.Matrix).rotate(P))).x*i.x/(L*L)+i.y*i.y/(E*E))&&(L*=n=Math.sqrt(n),E*=n),r=(new SVG.Matrix).rotate(P).scale(1/L,1/E).rotate(-P),M=M.transform(r),s=(a=[(O=O.transform(r)).x-M.x,O.y-M.y])[0]*a[0]+a[1]*a[1],o=Math.sqrt(s),a[0]/=o,a[1]/=o,l=s<4?Math.sqrt(1-s/4):0,_===I&&(l*=-1),c=new SVG.Point((O.x+M.x)/2+l*-a[1],(O.y+M.y)/2+l*a[0]),h=new SVG.Point(M.x-c.x,M.y-c.y),u=new SVG.Point(O.x-c.x,O.y-c.y),d=Math.acos(h.x/Math.sqrt(h.x*h.x+h.y*h.y)),h.y<0&&(d*=-1),p=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(p*=-1),I&&p<d&&(p+=2*Math.PI),!I&&d<p&&(p-=2*Math.PI),v=[],f=(p-(x=d))/(g=Math.ceil(2*Math.abs(d-p)/Math.PI)),m=4*Math.tan(f/4)/3,A=0;A<=g;A++)y=Math.cos(x),b=Math.sin(x),w=new SVG.Point(c.x+y,c.y+b),v[A]=[new SVG.Point(w.x+m*b,w.y-m*y),w,new SVG.Point(w.x-m*b,w.y+m*y)],x+=f;for(v[0][0]=v[0][1].clone(),v[v.length-1][2]=v[v.length-1][1].clone(),r=(new SVG.Matrix).rotate(P).scale(L,E).rotate(-P),A=0,C=v.length;A<C;A++)v[A][0]=v[A][0].transform(r),v[A][1]=v[A][1].transform(r),v[A][2]=v[A][2].transform(r);for(A=1,C=v.length;A<C;A++)S=(w=v[A-1][2]).x,k=w.y,T=(w=v[A][0]).x,D=w.y,R=(w=v[A][1]).x,F=w.y,N.push(["C",S,k,T,D,R,F]);return N}(this.pos,t))[0]}return t[0]="C",this.pos=[t[5],t[6]],this.reflection=[2*t[5]-t[3],2*t[6]-t[4]],e}function h(t,e){if(!1===e)return!1;for(var i=e,n=t.length;i<n;++i)if("M"==t[i][0])return i;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var e=this.value,i=this.parse(t),n=0,r=0,a=!1,o=!1;!1!==n||!1!==r;){var s;a=h(e,!1!==n&&n+1),o=h(i,!1!==r&&r+1),!1===n&&(n=0==(s=new SVG.PathArray(l.start).bbox()).height||0==s.width?e.push(e[0])-1:e.push(["M",s.x+s.width/2,s.y+s.height/2])-1),!1===r&&(r=0==(s=new SVG.PathArray(l.dest).bbox()).height||0==s.width?i.push(i[0])-1:i.push(["M",s.x+s.width/2,s.y+s.height/2])-1);var l=c(e,n,a,i,r,o);e=e.slice(0,n).concat(l.start,!1===a?[]:e.slice(a)),i=i.slice(0,r).concat(l.dest,!1===o?[]:i.slice(o)),n=!1!==a&&n+l.start.length,r=!1!==o&&r+l.dest.length}return this.value=e,this.destination=new SVG.PathArray,this.destination.value=i,this}})}(),function(){function n(t){t.remember("_draggable",this),this.el=t}n.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",function(t){i.start(t)}),this.el.on("touchstart.drag",function(t){i.start(t)})},n.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},n.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},n.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,n=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:n,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(t){e.drag(t)}),SVG.on(window,"touchmove.drag",function(t){e.drag(t)}),SVG.on(window,"mouseup.drag",function(t){e.end(t)}),SVG.on(window,"touchend.drag",function(t){e.end(t)}),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},n.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),n=this.startPoints.box.x+i.x-this.startPoints.point.x,r=this.startPoints.box.y+i.y-this.startPoints.point.y,a=this.constraint,o=i.x-this.startPoints.point.x,s=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof a){var l=a.call(this.el,n,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(n):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof a&&(null!=a.minX&&n<a.minX?o=(n=a.minX)-this.startPoints.box.x:null!=a.maxX&&n>a.maxX-e.width&&(o=(n=a.maxX-e.width)-this.startPoints.box.x),null!=a.minY&&r<a.minY?s=(r=a.minY)-this.startPoints.box.y:null!=a.maxY&&r>a.maxY-e.height&&(s=(r=a.maxY-e.height)-this.startPoints.box.y),null!=a.snapToGrid&&(n-=n%a.snapToGrid,r-=r%a.snapToGrid,o-=o%a.snapToGrid,s-=s%a.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:o,y:s},!0):this.el.move(n,r));return i},n.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,e){"function"!=typeof t&&"object"!=typeof t||(e=t,t=!0);var i=this.remember("_draggable")||new n(this);return(t=void 0===t||t)?i.init(e||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function i(t){(this.el=t).remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,e,i){var n="string"!=typeof t?t:e[t];return i?n/2:n},this.pointCoords=function(t,e){var i=this.pointsList[t];return{x:this.pointCoord(i[0],e,"t"===t||"b"===t),y:this.pointCoord(i[1],e,"r"===t||"l"===t)}}}i.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var n=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==e[r]&&(this.options[r]=e[r]);var a=["points","pointsExclude"];for(var r in a){var o=this.options[a[r]];"string"==typeof o?o=0<o.length?o.split(/\s*,\s*/i):[]:"boolean"==typeof o&&"points"===a[r]&&(o=o?n:[]),this.options[a[r]]=o}this.options.points=[n,this.options.points].reduce(function(t,e){return t.filter(function(t){return-1<e.indexOf(t)})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(t,e){return t.filter(function(t){return e.indexOf(t)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},
i.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},i.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},i.prototype.drawPoints=function(){for(var r=this,t=this.getPointArray(),e=0,i=t.length;e<i;++e){var n=function(n){return function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var e=t.pageX||t.touches[0].pageX,i=t.pageY||t.touches[0].pageY;r.el.fire("point",{x:e,y:i,i:n,event:t})}}(e),a=this.drawPoint(t[e][0],t[e][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",n).on("mousedown",n);this.pointSelection.set.add(a)}},i.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},i.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},i.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},i.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},i.prototype.updateRectSelection=function(){var n=this,r=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:r.width,height:r.height}),this.options.points.length&&this.options.points.map(function(t,e){var i=n.pointCoords(t,r);n.rectSelection.set.get(e+1).center(i.x,i.y)}),this.options.rotationPoint){var t=this.rectSelection.set.length();this.rectSelection.set.get(t-1).center(r.width/2,20)}},i.prototype.selectRect=function(t){function n(n){return function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var e=t.pageX||t.touches[0].pageX,i=t.pageY||t.touches[0].pageY;r.el.fire(n,{x:e,y:i,event:t})}}var r=this,a=this.el.bbox();if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(a.width,a.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(t){var e=r.pointCoords(t,a),i=r.drawPoint(e.x,e.y).attr("class",r.options.classPoints+"_"+t).on("mousedown",n(t)).on("touchstart",n(t));r.rectSelection.set.add(i)}),this.rectSelection.set.each(function(){this.addClass(r.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var e=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation();var e=t.pageX||t.touches[0].pageX,i=t.pageY||t.touches[0].pageY;r.el.fire("rot",{x:e,y:i,event:t})},i=this.drawPoint(a.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",e).on("mousedown",e);this.rectSelection.set.add(i)}},i.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},i.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){t.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(t){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){t.handler()})},i.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,e){return"object"==typeof t&&(e=t,t=!0),(this.remember("_selectHandler")||new i(this)).init(void 0===t||t,e||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}e.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},e.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},e.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",function(t){e.resize(t||window.event)}),this.el.on("rt.resize",function(t){e.resize(t||window.event)}),this.el.on("rb.resize",function(t){e.resize(t||window.event)}),this.el.on("lb.resize",function(t){e.resize(t||window.event)}),this.el.on("t.resize",function(t){e.resize(t||window.event)}),this.el.on("r.resize",function(t){e.resize(t||window.event)}),this.el.on("b.resize",function(t){e.resize(t||window.event)}),this.el.on("l.resize",function(t){e.resize(t||window.event)}),this.el.on("rot.resize",function(t){e.resize(t||window.event)}),this.el.on("point.resize",function(t){e.resize(t||window.event)}),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var n=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[n[t.detail.i][0],n[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(t,e){var i=this.snapToGrid(t,e);if(0<this.parameters.box.width-i[0]&&0<this.parameters.box.height-i[1]){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y+i[1]).size(this.parameters.box.width-i[0],this.parameters.box.height-i[1])}};break;case"rt":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(0<this.parameters.box.width+i[0]&&0<this.parameters.box.height-i[1]){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).size(this.parameters.box.width+i[0],this.parameters.box.height-i[1])}};break;case"rb":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(0<this.parameters.box.width+i[0]&&0<this.parameters.box.height+i[1]){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+i[0]);i=this.checkAspectRatio(i),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+i[0],this.parameters.box.height+i[1])}};break;case"lb":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(0<this.parameters.box.width-i[0]&&0<this.parameters.box.height+i[1]){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+i[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-i[0]);i=this.checkAspectRatio(i,!0),this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).size(this.parameters.box.width-i[0],this.parameters.box.height+i[1])}};break;case"t":this.calc=function(t,e){var i=this.snapToGrid(t,e,2);if(0<this.parameters.box.height-i[1]){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+i[1]).height(this.parameters.box.height-i[1])}};break;case"r":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(0<this.parameters.box.width+i[0]){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+i[0])}};break;case"b":this.calc=function(t,e){var i=this.snapToGrid(t,e,0);if(0<this.parameters.box.height+i[1]){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+i[1])}};break;case"l":this.calc=function(t,e){var i=this.snapToGrid(t,e,1);if(0<this.parameters.box.width-i[0]){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+i[0],this.parameters.box.y).width(this.parameters.box.width-i[0])}};break;case"rot":this.calc=function(t,e){var i=t+this.parameters.p.x,n=e+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),a=Math.atan2(n-this.parameters.box.y-this.parameters.box.height/2,i-this.parameters.box.x-this.parameters.box.width/2),o=this.parameters.rotation+180*(a-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(o-o%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(t,e){var i=this.snapToGrid(t,e,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),n=this.el.array().valueOf();n[this.parameters.i][0]=this.parameters.pointCoords[0]+i[0],n[this.parameters.i][1]=this.parameters.pointCoords[1]+i[1],this.el.plot(n)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",function(t){e.update(t||window.event)}),SVG.on(window,"touchend.resize",function(){e.done()}),SVG.on(window,"mousemove.resize",function(t){e.update(t||window.event)}),SVG.on(window,"mouseup.resize",function(){e.done()})},e.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),n=i.x-this.parameters.p.x,r=i.y-this.parameters.p.y;this.lastUpdateCall=[n,r],this.calc(n,r),this.el.fire("resizing",{dx:n,dy:r,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(t,e,i,n){var r;return void 0!==n?r=[(i+t)%this.options.snapToGrid,(n+e)%this.options.snapToGrid]:(i=null==i?3:i,r=[(this.parameters.box.x+t+(1&i?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid]),t<0&&(r[0]-=this.options.snapToGrid),e<0&&(r[1]-=this.options.snapToGrid),t-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,n)},e.prototype.constraintToBox=function(t,e,i,n){var r,a,o=this.options.constraint||{};return void 0!==n?(r=i,a=n):(r=this.parameters.box.x+(1&i?0:this.parameters.box.width),a=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==o.minX&&r+t<o.minX&&(t=o.minX-r),void 0!==o.maxX&&r+t>o.maxX&&(t=o.maxX-r),void 0!==o.minY&&a+e<o.minY&&(e=o.minY-a),void 0!==o.maxY&&a+e>o.maxY&&(e=o.maxY-a),[t,e]},e.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),n=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+t[0],a=this.parameters.box.height-t[1],o=r/a;return o<n?(i[1]=r/n-this.parameters.box.height,e&&(i[1]=-i[1])):n<o&&(i[0]=this.parameters.box.width-a*n,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}('.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-text-z-label:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-candlestick {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-candlestick>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-candlestick span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}'),function(){function n(t){var e=t.__resizeTriggers__,i=e.firstElementChild,n=e.lastElementChild,r=i?i.firstElementChild:null;n&&(n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight),r&&(r.style.width=i.offsetWidth+1+"px",r.style.height=i.offsetHeight+1+"px"),i&&(i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight)}function i(e){var i=this;n(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=t(function(){var t;((t=i).offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(t){t.call(e)}))})}var e,r,t=(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return e(t)}),a=(r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return r(t)}),o=!1,s="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(o=!0),!1===o)for(var u=0;u<l.length;u++)if(void 0!==h.style[l[u]+"AnimationName"]){s=c[u];break}window.addResizeListener=function(e,t){e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),n(e),e.addEventListener("scroll",i,!0),s&&e.__resizeTriggers__.addEventListener(s,function(t){"resizeanim"==t.animationName&&n(e)})),e.__resizeListeners__.push(t)},window.removeResizeListener=function(t,e){t&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",i),t.__resizeTriggers__.parentNode&&(t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__))))}}(),void 0===window.Apex&&(window.Apex={});var Ft=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","touchstart","touchmove","mouseup","touchend"],this.ctx.animations=new R(this.ctx),this.ctx.axes=new K(this.ctx),this.ctx.core=new It(this.ctx.el,this.ctx),this.ctx.config=new B({}),this.ctx.data=new W(this.ctx),this.ctx.grid=new U(this.ctx),this.ctx.graphics=new F(this.ctx),this.ctx.coreUtils=new D(this.ctx),this.ctx.crosshairs=new Q(this.ctx),this.ctx.events=new t(this.ctx),this.ctx.exports=new V(this.ctx),this.ctx.localization=new J(this.ctx),this.ctx.options=new x,this.ctx.responsive=new tt(this.ctx),this.ctx.series=new S(this.ctx),this.ctx.theme=new et(this.ctx),this.ctx.formatters=new Y(this.ctx),this.ctx.titleSubtitle=new it(this.ctx),this.ctx.legend=new ct(this.ctx),this.ctx.toolbar=new ht(this.ctx),this.ctx.dimensions=new st(this.ctx),this.ctx.updateHelpers=new Rt(this.ctx),this.ctx.zoomPanSelection=new ut(this.ctx),this.ctx.w.globals.tooltip=new xt(this.ctx)}}]),e}(),Mt=function(){function e(t){a(this,e),this.ctx=t,this.w=t.w}return o(e,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each(function(){this.removeClass("*"),this.off(),this.stop()},!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,i=t.isUpdating,n=this.w.globals.dom.Paper.node;n.parentNode&&n.parentNode.parentNode&&!i&&(n.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach(function(t){r.removeEventListener(t,e.ctx.events.documentEvent)});var a=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elAnnotations=null,a.elLegendWrap=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectMarkerMask=null,a.elDefs=null}}]),e}();return function(){function i(t,e){a(this,i),this.opts=e,(this.ctx=this).w=new X(e).init(),this.el=t,this.w.globals.cuid=P.randomId(),this.w.globals.chartID=this.w.config.chart.id?P.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Ft(this).initModules(),this.create=P.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return o(i,[{
key:"render",value:function(){var r=this;return new Promise(function(t,e){if(null!==r.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),r.w.config.chart.id&&Apex._chartInstances.push({id:r.w.globals.chartID,group:r.w.config.chart.group,chart:r}),r.setLocale(r.w.config.chart.defaultLocale);var i=r.w.config.chart.events.beforeMount;"function"==typeof i&&i(r,r.w),r.events.fireEvent("beforeMount",[r,r.w]),window.addEventListener("resize",r.windowResizeHandler),window.addResizeListener(r.el.parentNode,r.parentResizeHandler);var n=r.create(r.w.config.series,{});if(!n)return t(r);r.mount(n).then(function(){"function"==typeof r.w.config.chart.events.mounted&&r.w.config.chart.events.mounted(r,r.w),r.events.fireEvent("mounted",[r,r.w]),t(n)})["catch"](function(t){e(t)})}else e(new Error("Element not found"))})}},{key:"create",value:function(t,e){var i=this.w;new Ft(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,this.responsive.checkResponsiveConfig(e),i.config.xaxis.convertedCatToNumeric&&new z(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return n.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===n.svgWidth)return n.animationEnded=!0,null;var r=D.checkComboSeries(t);n.comboCharts=r.comboCharts,n.comboBarCount=r.comboBarCount;var a=t.every(function(t){return t.data&&0===t.data.length});(0===t.length||a)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(t),this.theme.init(),new k(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters()),this.formatters.heatmapLabelFormatters(),this.dimensions.plotCoords();var o=this.core.xySettings();this.grid.createGridMask();var s=this.core.plotChartType(t,o),l=new A(this);l.bringForward(),i.config.dataLabels.background.enabled&&l.dataLabelsBackground(),this.core.shiftGraphPosition();var c={plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}};return{elGraph:s,xyRatios:o,elInner:i.globals.dom.elGraphical,dimensions:c}}},{key:"mount",value:function(t){var s=this,l=0<arguments.length&&void 0!==t?arguments[0]:null,c=this,h=c.w;return new Promise(function(t,e){if(null===c.el)return e(new Error("Not enough data to display or target element not found"));(null===l||h.globals.allSeriesCollapsed)&&c.series.handleNoData(),"treemap"!==h.config.chart.type&&c.axes.drawAxis(h.config.chart.type,l.xyRatios),c.grid=new U(c);var i=c.grid.drawGrid();c.annotations=new b(c),c.annotations.drawImageAnnos(),c.annotations.drawTextAnnos(),"back"===h.config.grid.position&&i&&h.globals.dom.elGraphical.add(i.el);var n=new G(s.ctx),r=new Z(s.ctx);if(null!==i&&(n.xAxisLabelCorrections(i.xAxisTickWidth),r.setYAxisTextAlignments()),"back"===h.config.annotations.position&&(h.globals.dom.Paper.add(h.globals.dom.elAnnotations),c.annotations.drawAxesAnnotations()),Array.isArray(l.elGraph))for(var a=0;a<l.elGraph.length;a++)h.globals.dom.elGraphical.add(l.elGraph[a]);else h.globals.dom.elGraphical.add(l.elGraph);if("front"===h.config.grid.position&&i&&h.globals.dom.elGraphical.add(i.el),"front"===h.config.xaxis.crosshairs.position&&c.crosshairs.drawXCrosshairs(),"front"===h.config.yaxis[0].crosshairs.position&&c.crosshairs.drawYCrosshairs(),"front"===h.config.annotations.position&&(h.globals.dom.Paper.add(h.globals.dom.elAnnotations),c.annotations.drawAxesAnnotations()),!h.globals.noData){if(h.config.tooltip.enabled&&!h.globals.noData&&c.w.globals.tooltip.drawTooltip(l.xyRatios),h.globals.axisCharts&&(h.globals.isXNumeric||h.config.xaxis.convertedCatToNumeric||h.globals.isTimelineBar))(h.config.chart.zoom.enabled||h.config.chart.selection&&h.config.chart.selection.enabled||h.config.chart.pan&&h.config.chart.pan.enabled)&&c.zoomPanSelection.init({xyRatios:l.xyRatios});else{var o=h.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(t){o[t]=!1})}h.config.chart.toolbar.show&&!h.globals.allSeriesCollapsed&&c.toolbar.createToolbar()}0<h.globals.memory.methodsToExec.length&&h.globals.memory.methodsToExec.forEach(function(t){t.method(t.params,!1,t.context)}),h.globals.axisCharts||h.globals.noData||c.core.resizeNonAxisCharts(),t(c)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),window.removeResizeListener(this.el.parentNode,this.parentResizeHandler);var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach(function(t,e){t.id===P.escapeString(i)&&Apex._chartInstances.splice(e,1)}),new Mt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t,e,i,n,r){var a=this,o=1<arguments.length&&void 0!==e&&arguments[1],s=!(2<arguments.length&&void 0!==i)||arguments[2],l=!(3<arguments.length&&void 0!==n)||arguments[3],c=!(4<arguments.length&&void 0!==r)||arguments[4],h=this.w;return h.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map(function(t,e){return a.updateHelpers._extendSeries(t,e)})),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),0<h.globals.collapsedSeriesIndices.length&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,o,s,l,c)}},{key:"updateSeries",value:function(t,e,i){var n=0<arguments.length&&void 0!==t?arguments[0]:[],r=!(1<arguments.length&&void 0!==e)||arguments[1],a=!(2<arguments.length&&void 0!==i)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,r,a)}},{key:"appendSeries",value:function(t,e,i){var n=!(1<arguments.length&&void 0!==e)||arguments[1],r=!(2<arguments.length&&void 0!==i)||arguments[2],a=this.w.config.series.slice();return a.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,n,r)}},{key:"appendData",value:function(t,e){var i=!(1<arguments.length&&void 0!==e)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var r=n.w.config.series.slice(),a=0;a<r.length;a++)if(null!==t[a]&&void 0!==t[a])for(var o=0;o<t[a].data.length;o++)r[a].data.push(t[a].data[o]);return n.w.config.series=r,i&&(n.w.globals.initialSeries=P.clone(n.w.config.series)),this.update()}},{key:"update",value:function(n){var r=this;return new Promise(function(t,e){new Mt(r.ctx).clear({isUpdating:!0});var i=r.create(r.w.config.series,n);if(!i)return t(r);r.mount(i).then(function(){"function"==typeof r.w.config.chart.events.updated&&r.w.config.chart.events.updated(r,r.w),r.events.fireEvent("updated",[r,r.w]),r.w.globals.isDirty=!0,t(r)})["catch"](function(t){e(t)})})}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach(function(t){e.push(t)})),e}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"resetSeries",value:function(t,e){var i=!(0<arguments.length&&void 0!==t)||arguments[0],n=!(1<arguments.length&&void 0!==e)||arguments[1];this.series.resetSeries(i,n)}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t,e,i){var n=!(1<arguments.length&&void 0!==e)||arguments[1],r=2<arguments.length&&void 0!==i?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addXaxisAnnotationExternal(t,n,a)}},{key:"addYaxisAnnotation",value:function(t,e,i){var n=!(1<arguments.length&&void 0!==e)||arguments[1],r=2<arguments.length&&void 0!==i?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addYaxisAnnotationExternal(t,n,a)}},{key:"addPointAnnotation",value:function(t,e,i){var n=!(1<arguments.length&&void 0!==e)||arguments[1],r=2<arguments.length&&void 0!==i?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addPointAnnotationExternal(t,n,a)}},{key:"clearAnnotations",value:function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:void 0,i=this;e&&(i=e),i.annotations.clearAnnotations(i)}},{key:"removeAnnotation",value:function(t,e){var i=1<arguments.length&&void 0!==e?arguments[1]:void 0,n=this;i&&(n=i),n.annotations.removeAnnotation(n,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:0;return new $(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(t){var e=0<arguments.length&&void 0!==t?arguments[0]:0;return new $(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(){return new V(this.ctx).dataURI()}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){!this.w.globals.noData&&this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=P.escapeString(t),i=Apex._chartInstances.filter(function(t){return t.id===e})[0];return i&&i.chart}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),e=0;e<t.length;e++)new i(t[e],JSON.parse(t[e].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var n=null;if(-1!==i.publicMethods.indexOf(e)){for(var r=arguments.length,a=new Array(2<r?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];n=i[e].apply(i,a)}return n}}},{key:"merge",value:function(t,e){return P.extend(t,e)}}]),i}()}),function(i){"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e||(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e,t,t.document)}:i(jQuery,window,document)}(function(I,v,b,R){function a(e){var i,n,r={};I.each(e,function(t){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),r[n]=t,"o"===i[1]&&a(e[t]))}),e._hungarianMap=r}function y(e,i,n){var r;e._hungarianMap||a(e),I.each(i,function(t){(r=e._hungarianMap[t])===R||!n&&i[r]!==R||("o"===r.charAt(0)?(i[r]||(i[r]={}),I.extend(!0,i[r],i[t]),y(e[r],i[r],n)):i[r]=i[t])})}function w(t){var e=Gt.defaults.oLanguage,i=e.sDecimal;if(i&&Xt(i),t){var n=t.sZeroRecords;!t.sEmptyTable&&n&&"No data available in table"===e.sEmptyTable&&It(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&n&&"Loading..."===e.sLoadingRecords&&It(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&i!==t&&Xt(t)}}function A(t){if(he(t,"ordering","bSort"),he(t,"orderMulti","bSortMulti"),he(t,"orderClasses","bSortClasses"),he(t,"orderCellsTop","bSortCellsTop"),he(t,"order","aaSorting"),he(t,"orderFixed","aaSortingFixed"),he(t,"paging","bPaginate"),he(t,"pagingType","sPaginationType"),he(t,"pageLength","iDisplayLength"),he(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,i=t.length;e<i;e++)t[e]&&y(Gt.models.oSearch,t[e])}function C(t){he(t,"orderable","bSortable"),he(t,"orderData","aDataSort"),he(t,"orderSequence","asSorting"),he(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"==typeof e&&!Array.isArray(e)&&(t.aDataSort=[e])}function S(t){if(!Gt.__browser){var e={};Gt.__browser=e;var i=I("<div/>").css({position:"fixed",top:0,left:-1*I(v).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(I("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(I("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=i.children(),r=n.children();e.barWidth=n[0].offsetWidth-n[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==n[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}I.extend(t.oBrowser,Gt.__browser),t.oScroll.iBarWidth=Gt.__browser.barWidth}function i(t,e,i,n,r,a){var o,s=!1;for(i!==R&&(o=i,s=!0);n!==r;)t.hasOwnProperty(n)&&(o=s?e(o,t[n],n,t):t[n],s=!0,n+=a);return o}function k(t,e){var i=Gt.defaults.column,n=t.aoColumns.length;i=I.extend({},Gt.models.oColumn,i,{nTh:e||b.createElement("th"),sTitle:i.sTitle?i.sTitle:e?e.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[n],mData:i.mData?i.mData:n,idx:n});t.aoColumns.push(i),(i=t.aoPreSearchCols)[n]=I.extend({},Gt.models.oSearch,i[n]),T(t,n,I(e).data())}function T(t,e,i){e=t.aoColumns[e];var n=t.oClasses,r=I(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=r.attr("width")||null;var a=(r.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);a&&(e.sWidthOrig=a[1])}i!==R&&null!==i&&(C(i),y(Gt.defaults.column,i,!0),i.mDataProp!==R&&!i.mData&&(i.mData=i.mDataProp),i.sType&&(e._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&r.addClass(i.sClass),I.extend(e,i),It(e,i,"sWidth","sWidthOrig"),i.iDataSort!==R&&(e.aDataSort=[i.iDataSort]),It(e,i,"aDataSort"));var o=e.mData,s=O(o),l=e.mRender?O(e.mRender):null;i=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=I.isPlainObject(o)&&(i(o.sort)||i(o.type)||i(o.filter)),e._setter=null,e.fnGetData=function(t,e,i){var n=s(t,e,R,i);return l&&e?l(n,e,t,i):n},e.fnSetData=function(t,e,i){return f(o)(t,e,i)},"number"!=typeof o&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,r.addClass(n.sSortableNone)),t=-1!==I.inArray("asc",e.asSorting),i=-1!==I.inArray("desc",e.asSorting),e.bSortable&&(t||i)?t&&!i?(e.sSortingClass=n.sSortableAsc,e.sSortingClassJUI=n.sSortJUIAscAllowed):!t&&i?(e.sSortingClass=n.sSortableDesc,e.sSortingClassJUI=n.sSortJUIDescAllowed):(e.sSortingClass=n.sSortable,e.sSortingClassJUI=n.sSortJUI):(e.sSortingClass=n.sSortableNone,e.sSortingClassJUI="")}function F(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}(""!==(e=t.oScroll).sY||""!==e.sX)&&ft(t),Ot(t,null,"column-sizing",[t])}function M(t,e){var i=D(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function c(t,e){var i=D(t,"bVisible");return-1!==(i=I.inArray(e,i))?i:null}function x(t){var i=0;return I.each(t.aoColumns,function(t,e){e.bVisible&&"none"!==I(e.nTh).css("display")&&i++}),i}function D(t,i){var n=[];return I.map(t.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function o(t){var e,i,n,r,a,o,s,l,c,h=t.aoColumns,u=t.aoData,d=Gt.ext.type.detect;for(e=0,i=h.length;e<i;e++)if(c=[],!(s=h[e]).sType&&s._sManualType)s.sType=s._sManualType;else if(!s.sType){for(n=0,r=d.length;n<r;n++){for(a=0,o=u.length;a<o&&(c[a]===R&&(c[a]=_(t,a,e,"type")),(l=d[n](c[a],t))||n===d.length-1)&&"html"!==l;a++);if(l){s.sType=l;break}}s.sType||(s.sType="string")}}function L(t,e,i,n){var r,a,o,s,l,c,h=t.aoColumns;if(e)for(r=e.length-1;0<=r;r--){var u=(c=e[r]).targets!==R?c.targets:c.aTargets;for(Array.isArray(u)||(u=[u]),a=0,o=u.length;a<o;a++)if("number"==typeof u[a]&&0<=u[a]){for(;h.length<=u[a];)k(t);n(u[a],c)}else if("number"==typeof u[a]&&u[a]<0)n(h.length+u[a],c);else if("string"==typeof u[a])for(s=0,l=h.length;s<l;s++)("_all"==u[a]||I(h[s].nTh).hasClass(u[a]))&&n(s,c)}if(i)for(r=0,t=i.length;r<t;r++)n(r,i[r])}function E(t,e,i,n){var r=t.aoData.length,a=I.extend(!0,{},Gt.models.oRow,{src:i?"dom":"data",idx:r});a._aData=e,t.aoData.push(a);for(var o=t.aoColumns,s=0,l=o.length;s<l;s++)o[s].sType=null;return t.aiDisplayMaster.push(r),(e=t.rowIdFn(e))!==R&&(t.aIds[e]=a),(i||!t.oFeatures.bDeferRender)&&m(t,r,i,n),r}function P(i,t){var n;return t instanceof I||(t=I(t)),t.map(function(t,e){return n=l(i,e),E(i,n.data,e,n.cells)})}function _(t,e,i,n){var r=t.iDraw,a=t.aoColumns[i],o=t.aoData[e]._aData,s=a.sDefaultContent,l=a.fnGetData(o,n,{settings:t,row:e,col:i});if(l===R)return t.iDrawError!=r&&null===s&&(_t(t,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),s;if(l!==o&&null!==l||null===s||n===R){if("function"==typeof l)return l.call(o)}else l=s;return null===l&&"display"==n?"":l}function n(t,e,i,n){t.aoColumns[i].fnSetData(t.aoData[e]._aData,n,{settings:t,row:e,col:i})}function h(t){return I.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function O(r){if(I.isPlainObject(r)){var a={};return I.each(r,function(t,e){e&&(a[t]=O(e))}),function(t,e,i,n){var r=a[e]||a._;return r!==R?r(t,e,i,n):t}}if(null===r)return function(t){return t};if("function"==typeof r)return function(t,e,i,n){return r(t,e,i,n)};if("string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("("))return function(t){return t[r]};var s=function(t,e,i){var n,r;if(""!==i)for(var a=0,o=(r=h(i)).length;a<o;a++){if(i=r[a].match(ue),n=r[a].match(de),i){if(r[a]=r[a].replace(ue,""),""!==r[a]&&(t=t[r[a]]),n=[],r.splice(0,a+1),r=r.join("."),Array.isArray(t))for(a=0,o=t.length;a<o;a++)n.push(s(t[a],e,r));t=""===(t=i[0].substring(1,i[0].length-1))?n:n.join(t);break}if(n)r[a]=r[a].replace(de,""),t=t[r[a]]();else{if(null===t||t[r[a]]===R)return R;t=t[r[a]]}}return t};return function(t,e){return s(t,e,r)}}function f(n){if(I.isPlainObject(n))return f(n._);if(null===n)return function(){};if("function"==typeof n)return function(t,e,i){n(t,"set",e,i)};if("string"!=typeof n||-1===n.indexOf(".")&&-1===n.indexOf("[")&&-1===n.indexOf("("))return function(t,e){t[n]=e};var l=function(t,e,i){var n;n=(i=h(i))[i.length-1];for(var r,a,o=0,s=i.length-1;o<s;o++){if("__proto__"===i[o]||"constructor"===i[o])throw Error("Cannot set prototype values");if(r=i[o].match(ue),a=i[o].match(de),r){if(i[o]=i[o].replace(ue,""),t[i[o]]=[],(n=i.slice()).splice(0,o+1),r=n.join("."),Array.isArray(e))for(a=0,s=e.length;a<s;a++)l(n={},e[a],r),t[i[o]].push(n);else t[i[o]]=e;return}a&&(i[o]=i[o].replace(de,""),t=t[i[o]](e)),null!==t[i[o]]&&t[i[o]]!==R||(t[i[o]]={}),t=t[i[o]]}n.match(de)?t[n.replace(de,"")](e):t[n.replace(ue,"")]=e};return function(t,e){return l(t,e,n)}}function g(t){return re(t.aoData,"_aData")}function s(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function u(t,e,i){for(var n=-1,r=0,a=t.length;r<a;r++)t[r]==e?n=r:t[r]>e&&t[r]--;-1!=n&&i===R&&t.splice(n,1)}function r(i,n,t,e){var r,a=i.aoData[n],o=function(t,e){for(;t.childNodes.length;)t.removeChild(t.firstChild);t.innerHTML=_(i,n,e,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==a.src)){var s=a.anCells;if(s)if(e!==R)o(s[e],e);else for(t=0,r=s.length;t<r;t++)o(s[t],t)}else a._aData=l(i,a,e,e===R?R:a._aData).data;if(a._aSortData=null,a._aFilterData=null,o=i.aoColumns,e!==R)o[e].sType=null;else{for(t=0,r=o.length;t<r;t++)o[t].sType=null;d(i,a)}}function l(t,e,i,n){var r,a,o,s=[],l=e.firstChild,c=0,h=t.aoColumns,u=t._rowReadObject,d=(n=n!==R?n:u?{}:[],function(t,e){if("string"==typeof t){var i=t.indexOf("@");-1!==i&&(i=t.substring(i+1),f(t)(n,e.getAttribute(i)))}}),p=function(t){i!==R&&i!==c||(a=h[c],o=t.innerHTML.trim(),a&&a._bAttrSrc?(f(a.mData._)(n,o),d(a.mData.sort,t),d(a.mData.type,t),d(a.mData.filter,t)):u?(a._setter||(a._setter=f(a.mData)),a._setter(n,o)):n[c]=o),c++};if(l)for(;l;)"TD"!=(r=l.nodeName.toUpperCase())&&"TH"!=r||(p(l),s.push(l)),l=l.nextSibling;else for(l=0,r=(s=e.anCells).length;l<r;l++)p(s[l]);return(e=e.firstChild?e:e.nTr)&&(e=e.getAttribute("id"))&&f(t.rowId)(n,e),{data:n,cells:s}}function m(t,e,i,n){var r,a,o,s,l,c=t.aoData[e],h=c._aData,u=[];if(null===c.nTr){for(r=i||b.createElement("tr"),c.nTr=r,c.anCells=u,r._DT_RowIndex=e,d(t,c),o=0,s=t.aoColumns.length;o<s;o++)a=t.aoColumns[o],(c=(l=!i)?b.createElement(a.sCellType):n[o])._DT_CellIndex={row:e,column:o},u.push(c),!l&&(!a.mRender&&a.mData===o||I.isPlainObject(a.mData)&&a.mData._===o+".display")||(c.innerHTML=_(t,e,o,"display")),a.sClass&&(c.className+=" "+a.sClass),a.bVisible&&!i?r.appendChild(c):!a.bVisible&&i&&c.parentNode.removeChild(c),a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,c,_(t,e,o),h,e,o);Ot(t,"aoRowCreatedCallback",null,[r,h,e,u])}}function d(t,e){var i=e.nTr,n=e._aData;if(i){var r=t.rowIdFn(n);r&&(i.id=r),n.DT_RowClass&&(r=n.DT_RowClass.split(" "),e.__rowc=e.__rowc?le(e.__rowc.concat(r)):r,I(i).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)),n.DT_RowAttr&&I(i).attr(n.DT_RowAttr),n.DT_RowData&&I(i).data(n.DT_RowData)}}function p(t){var e,i,n,r,a,o=t.nTHead,s=t.nTFoot,l=0===I("th, td",o).length,c=t.oClasses,h=t.aoColumns;for(l&&(r=I("<tr/>").appendTo(o)),e=0,i=h.length;e<i;e++)a=h[e],n=I(a.nTh).addClass(a.sClass),l&&n.appendTo(r),t.oFeatures.bSort&&(n.addClass(a.sSortingClass),!1!==a.bSortable&&(n.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),kt(t,a.nTh,e))),a.sTitle!=n[0].innerHTML&&n.html(a.sTitle),zt(t,"header")(t,n,a,c);if(l&&X(t.aoHeader,o),I(o).children("tr").attr("role","row"),I(o).children("tr").children("th, td").addClass(c.sHeaderTH),I(s).children("tr").children("th, td").addClass(c.sFooterTH),null!==s)for(e=0,i=(t=t.aoFooter[0]).length;e<i;e++)(a=h[e]).nTf=t[e].cell,a.sClass&&I(a.nTf).addClass(a.sClass)}function N(t,e,i){var n,r,a,o,s=[],l=[],c=t.aoColumns.length;if(e){for(i===R&&(i=!1),n=0,r=e.length;n<r;n++){for(s[n]=e[n].slice(),s[n].nTr=e[n].nTr,a=c-1;0<=a;a--)!t.aoColumns[a].bVisible&&!i&&s[n].splice(a,1);l.push([])}for(n=0,r=s.length;n<r;n++){if(t=s[n].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,e=s[n].length;a<e;a++)if(o=c=1,l[n][a]===R){for(t.appendChild(s[n][a].cell),l[n][a]=1;s[n+c]!==R&&s[n][a].cell==s[n+c][a].cell;)l[n+c][a]=1,c++;for(;s[n][a+o]!==R&&s[n][a].cell==s[n][a+o].cell;){for(i=0;i<c;i++)l[n+i][a+o]=1;o++}I(s[n][a].cell).attr("rowspan",c).attr("colspan",o)}}}}function z(t){var e=Ot(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==I.inArray(!1,e))dt(t,!1);else{e=[];var i=0,n=t.asStripeClasses,r=n.length,a=t.oLanguage,o=t.iInitDisplayStart,s="ssp"==Bt(t),l=t.aiDisplay;t.bDrawing=!0,o!==R&&-1!==o&&(t._iDisplayStart=s?o:o>=t.fnRecordsDisplay()?0:o,t.iInitDisplayStart=-1);o=t._iDisplayStart;var c=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,dt(t,!1);else if(s){if(!t.bDestroying&&!j(t))return}else t.iDraw++;if(0!==l.length)for(a=s?t.aoData.length:c,s=s?0:o;s<a;s++){var h=l[s],u=t.aoData[h];null===u.nTr&&m(t,h);var d=u.nTr;if(0!==r){var p=n[i%r];u._sRowStripe!=p&&(I(d).removeClass(u._sRowStripe).addClass(p),u._sRowStripe=p)}Ot(t,"aoRowCallback",null,[d,u._aData,i,s,h]),e.push(d),i++}else i=a.sZeroRecords,1==t.iDraw&&"ajax"==Bt(t)?i=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(i=a.sEmptyTable),e[0]=I("<tr/>",{"class":r?n[0]:""}).append(I("<td />",{valign:"top",colSpan:x(t),"class":t.oClasses.sRowEmpty}).html(i))[0];Ot(t,"aoHeaderCallback","header",[I(t.nTHead).children("tr")[0],g(t),o,c,l]),Ot(t,"aoFooterCallback","footer",[I(t.nTFoot).children("tr")[0],g(t),o,c,l]),(n=I(t.nTBody)).children().detach(),n.append(I(e)),Ot(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function B(t,e){var i=t.oFeatures,n=i.bFilter;i.bSort&&At(t),n?q(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,z(t),t._drawHold=!1}function H(t){var e=t.oClasses,i=I(t.nTable),n=(i=I("<div/>").insertBefore(i),t.oFeatures),r=I("<div/>",{id:t.sTableId+"_wrapper","class":e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=r[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,o,s,l,c,h,u=t.sDom.split(""),d=0;d<u.length;d++){if(a=null,"<"==(o=u[d])){if(s=I("<div/>")[0],"'"==(l=u[d+1])||'"'==l){for(c="",h=2;u[d+h]!=l;)c+=u[d+h],h++;"H"==c?c=e.sJUIHeader:"F"==c&&(c=e.sJUIFooter),-1!=c.indexOf(".")?(l=c.split("."),s.id=l[0].substr(1,l[0].length-1),s.className=l[1]):"#"==c.charAt(0)?s.id=c.substr(1,c.length-1):s.className=c,d+=h}r.append(s),r=I(s)}else if(">"==o)r=r.parent();else if("l"==o&&n.bPaginate&&n.bLengthChange)a=lt(t);else if("f"==o&&n.bFilter)a=U(t);else if("r"==o&&n.bProcessing)a=ut(t);else if("t"==o)a=pt(t);else if("i"==o&&n.bInfo)a=it(t);else if("p"==o&&n.bPaginate)a=ct(t);else if(0!==Gt.ext.feature.length)for(h=0,l=(s=Gt.ext.feature).length;h<l;h++)if(o==s[h].cFeature){a=s[h].fnInit(t);break}a&&((s=t.aanFeatures)[o]||(s[o]=[]),s[o].push(a),r.append(a))}i.replaceWith(r),t.nHolding=null}function X(t,e){var i,n,r,a,o,s,l,c,h,u,d=I(e).children("tr");for(t.splice(0,t.length),r=0,s=d.length;r<s;r++)t.push([]);for(r=0,s=d.length;r<s;r++)for(n=(i=d[r]).firstChild;n;){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase()){for(c=(c=1*n.getAttribute("colspan"))&&0!==c&&1!==c?c:1,h=(h=1*n.getAttribute("rowspan"))&&0!==h&&1!==h?h:1,a=0,o=t[r];o[a];)a++;for(l=a,u=1===c,o=0;o<c;o++)for(a=0;a<h;a++)t[r+a][l+o]={cell:n,unique:u},t[r+a].nTr=i}n=n.nextSibling}}function W(t,e,i){var n=[];i||(i=t.aoHeader,e&&X(i=[],e));e=0;for(var r=i.length;e<r;e++)for(var a=0,o=i[e].length;a<o;a++)!i[e][a].unique||n[a]&&t.bSortCellsTop||(n[a]=i[e][a].cell);return n}function Y(n,t,e){if(Ot(n,"aoServerParams","serverParams",[t]),t&&Array.isArray(t)){var r={},a=/(.*?)\[\]$/;I.each(t,function(t,e){var i=e.name.match(a);i?(i=i[0],r[i]||(r[i]=[]),r[i].push(e.value)):r[e.name]=e.value}),t=r}var i,o=n.ajax,s=n.oInstance,l=function(t){Ot(n,null,"xhr",[n,t,n.jqXHR]),e(t)};if(I.isPlainObject(o)&&o.data){var c="function"==typeof(i=o.data)?i(t,n):i;t="function"==typeof i&&c?c:I.extend(!0,t,c);delete o.data}c={data:t,success:function(t){var e=t.error||t.sError;e&&_t(n,0,e),n.json=t,l(t)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(t,e){var i=Ot(n,null,"xhr",[n,null,n.jqXHR]);-1===I.inArray(!0,i)&&("parsererror"==e?_t(n,0,"Invalid JSON response",1):4===t.readyState&&_t(n,0,"Ajax error",7)),dt(n,!1)}},n.oAjaxData=t,Ot(n,null,"preXhr",[n,t]),n.fnServerData?n.fnServerData.call(s,n.sAjaxSource,I.map(t,function(t,e){return{name:e,value:t}}),l,n):n.sAjaxSource||"string"==typeof o?n.jqXHR=I.ajax(I.extend(c,{url:o||n.sAjaxSource})):"function"==typeof o?n.jqXHR=o.call(s,t,l,n):(n.jqXHR=I.ajax(I.extend(c,o)),o.data=i)}function j(e){return!e.bAjaxDataGet||(e.iDraw++,dt(e,!0),Y(e,t(e),function(t){V(e,t)}),!1)}function t(t){var e,i,n,r,a=t.aoColumns,o=a.length,s=t.oFeatures,l=t.oPreviousSearch,c=t.aoPreSearchCols,h=[],u=wt(t);e=t._iDisplayStart,i=!1!==s.bPaginate?t._iDisplayLength:-1;var d=function(t,e){h.push({name:t,value:e})};d("sEcho",t.iDraw),d("iColumns",o),d("sColumns",re(a,"sName").join(",")),d("iDisplayStart",e),d("iDisplayLength",i);var p={draw:t.iDraw,columns:[],order:[],start:e,length:i,search:{value:l.sSearch,regex:l.bRegex}};for(e=0;e<o;e++)n=a[e],r=c[e],i="function"==typeof n.mData?"function":n.mData,p.columns.push({data:i,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),d("mDataProp_"+e,i),s.bFilter&&(d("sSearch_"+e,r.sSearch),d("bRegex_"+e,r.bRegex),d("bSearchable_"+e,n.bSearchable)),s.bSort&&d("bSortable_"+e,n.bSortable);return s.bFilter&&(d("sSearch",l.sSearch),d("bRegex",l.bRegex)),s.bSort&&(I.each(u,function(t,e){p.order.push({column:e.col,dir:e.dir}),d("iSortCol_"+t,e.col),d("sSortDir_"+t,e.dir)}),d("iSortingCols",u.length)),null===(a=Gt.ext.legacy.ajax)?t.sAjaxSource?h:p:a?h:p}function V(t,e){var i=G(t,e),n=e.sEcho!==R?e.sEcho:e.draw,r=e.iTotalRecords!==R?e.iTotalRecords:e.recordsTotal,a=e.iTotalDisplayRecords!==R?e.iTotalDisplayRecords:e.recordsFiltered;if(n!==R){if(1*n<t.iDraw)return;t.iDraw=1*n}for(s(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(a,10),n=0,r=i.length;n<r;n++)E(t,i[n]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,z(t),t._bInitComplete||ot(t,e),t.bAjaxDataGet=!0,dt(t,!1)}function G(t,e){var i=I.isPlainObject(t.ajax)&&t.ajax.dataSrc!==R?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===i?e.aaData||e[i]:""!==i?O(i)(e):e}function U(i){var t=i.oClasses,e=i.sTableId,n=i.oLanguage,r=i.oPreviousSearch,a=i.aanFeatures,o='<input type="search" class="'+t.sFilterInput+'"/>',s=(s=n.sSearch).match(/_INPUT_/)?s.replace("_INPUT_",o):s+o,l=(t=I("<div/>",{id:a.f?null:e+"_filter","class":t.sFilter}).append(I("<label/>").append(s)),function(){var t=this.value?this.value:"";t!=r.sSearch&&(q(i,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),i._iDisplayStart=0,z(i))}),c=(a=null!==i.searchDelay?i.searchDelay:"ssp"===Bt(i)?400:0,I("input",t).val(r.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",a?ve(l,a):l).on("mouseup",function(){setTimeout(function(){l.call(c[0])},10)}).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",e));return I(i.nTable).on("search.dt.DT",function(t,e){if(i===e)try{c[0]!==b.activeElement&&c.val(r.sSearch)}catch(n){}}),t[0]}function q(t,e,i){var n=t.oPreviousSearch,r=t.aoPreSearchCols,a=function(t){n.sSearch=t.sSearch,n.bRegex=t.bRegex,n.bSmart=t.bSmart,n.bCaseInsensitive=t.bCaseInsensitive};if(o(t),"ssp"!=Bt(t)){for(J(t,e.sSearch,i,e.bEscapeRegex!==R?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),a(e),e=0;e<r.length;e++)Z(t,r[e].sSearch,e,r[e].bEscapeRegex!==R?!r[e].bEscapeRegex:r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);$(t)}else a(e);t.bFiltered=!0,Ot(t,null,"search",[t])}function $(t){for(var e,i,n=Gt.ext.search,r=t.aiDisplay,a=0,o=n.length;a<o;a++){for(var s=[],l=0,c=r.length;l<c;l++)i=r[l],e=t.aoData[i],n[a](t,e._aFilterData,i,e._aData,l)&&s.push(i);r.length=0,I.merge(r,s)}}function Z(t,e,i,n,r,a){if(""!==e){var o=[],s=t.aiDisplay;for(n=K(e,n,r,a),r=0;r<s.length;r++)e=t.aoData[s[r]]._aFilterData[i],n.test(e)&&o.push(s[r]);t.aiDisplay=o}}function J(t,e,i,n,r,a){r=K(e,n,r,a);var o,s=t.oPreviousSearch.sSearch,l=t.aiDisplayMaster;a=[];if(0!==Gt.ext.search.length&&(i=!0),o=Q(t),e.length<=0)t.aiDisplay=l.slice();else{for((o||i||n||s.length>e.length||0!==e.indexOf(s)||t.bSorted)&&(t.aiDisplay=l.slice()),e=t.aiDisplay,i=0;i<e.length;i++)r.test(t.aoData[e[i]]._sFilterRow)&&a.push(e[i]);t.aiDisplay=a}}function K(t,e,i,n){return t=e?t:pe(t),i&&(t="^(?=.*?"+I.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,n?"i":"")}function Q(t){var e,i,n,r,a,o,s,l,c=t.aoColumns,h=Gt.ext.type.search;for(e=!1,i=0,r=t.aoData.length;i<r;i++)if(!(l=t.aoData[i])._aFilterData){for(o=[],n=0,a=c.length;n<a;n++)(e=c[n]).bSearchable?(s=_(t,i,n,"filter"),h[e.sType]&&(s=h[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(fe.innerHTML=s,s=ge?fe.textContent:fe.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),o.push(s);l._aFilterData=o,l._sFilterRow=o.join("  "),e=!0}return e}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function it(t){var e=t.sTableId,i=t.aanFeatures.i,n=I("<div/>",{"class":t.oClasses.sInfo,id:i?null:e+"_info"});return i||(t.aoDrawCallback.push({fn:nt,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),I(t.nTable).attr("aria-describedby",e+"_info")),n[0]}function nt(t){var e=t.aanFeatures.i;if(0!==e.length){var i=t.oLanguage,n=t._iDisplayStart+1,r=t.fnDisplayEnd(),a=t.fnRecordsTotal(),o=t.fnRecordsDisplay(),
s=o?i.sInfo:i.sInfoEmpty;o!==a&&(s+=" "+i.sInfoFiltered),s=rt(t,s+=i.sInfoPostFix),null!==(i=i.fnInfoCallback)&&(s=i.call(t.oInstance,t,n,r,a,o,s)),I(e).html(s)}}function rt(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,r=t._iDisplayLength,a=t.fnRecordsDisplay(),o=-1===r;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,a)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/r))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(a/r)))}function at(i){var n,t,e,r=i.iInitDisplayStart,a=i.aoColumns;t=i.oFeatures;var o=i.bDeferLoading;if(i.bInitialised){for(H(i),p(i),N(i,i.aoHeader),N(i,i.aoFooter),dt(i,!0),t.bAutoWidth&&mt(i),n=0,t=a.length;n<t;n++)(e=a[n]).sWidth&&(e.nTh.style.width=yt(e.sWidth));Ot(i,null,"preInit",[i]),B(i),("ssp"!=(a=Bt(i))||o)&&("ajax"==a?Y(i,[],function(t){var e=G(i,t);for(n=0;n<e.length;n++)E(i,e[n]);i.iInitDisplayStart=r,B(i),dt(i,!1),ot(i,t)},i):(dt(i,!1),ot(i)))}else setTimeout(function(){at(i)},200)}function ot(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&F(t),Ot(t,null,"plugin-init",[t,e]),Ot(t,"aoInitComplete","init",[t,e])}function st(t,e){var i=parseInt(e,10);t._iDisplayLength=i,Nt(t),Ot(t,null,"length",[t,i])}function lt(n){for(var t=n.oClasses,e=n.sTableId,i=n.aLengthMenu,r=(a=Array.isArray(i[0]))?i[0]:i,a=(i=a?i[1]:i,I("<select/>",{name:e+"_length","aria-controls":e,"class":t.sLengthSelect})),o=0,s=r.length;o<s;o++)a[0][o]=new Option("number"==typeof i[o]?n.fnFormatNumber(i[o]):i[o],r[o]);var l=I("<div><label/></div>").addClass(t.sLength);return n.aanFeatures.l||(l[0].id=e+"_length"),l.children().append(n.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),I("select",l).val(n._iDisplayLength).on("change.DT",function(){st(n,I(this).val()),z(n)}),I(n.nTable).on("length.dt.DT",function(t,e,i){n===e&&I("select",l).val(i)}),l[0]}function ct(t){var e=t.sPaginationType,o=Gt.ext.pager[e],s="function"==typeof o,l=function(t){z(t)},c=(e=I("<div/>").addClass(t.oClasses.sPaging+e)[0],t.aanFeatures);return s||o.fnInit(t,e,l),c.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(s){var e,i=t._iDisplayStart,n=t._iDisplayLength,r=t.fnRecordsDisplay(),a=(i=(a=-1===n)?0:Math.ceil(i/n),n=a?1:Math.ceil(r/n),r=o(i,n),0);for(e=c.p.length;a<e;a++)zt(t,"pageButton")(t,c.p[a],a,r,i,n)}else o.fnUpdate(t,l)},sName:"pagination"})),e}function ht(t,e,i){var n=t._iDisplayStart,r=t._iDisplayLength,a=t.fnRecordsDisplay();return 0===a||-1===r?n=0:"number"==typeof e?a<(n=e*r)&&(n=0):"first"==e?n=0:"previous"==e?(n=0<=r?n-r:0)<0&&(n=0):"next"==e?n+r<a&&(n+=r):"last"==e?n=Math.floor((a-1)/r)*r:_t(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==n,t._iDisplayStart=n,e&&(Ot(t,null,"page",[t]),i&&z(t)),e}function ut(t){return I("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function dt(t,e){t.oFeatures.bProcessing&&I(t.aanFeatures.r).css("display",e?"block":"none"),Ot(t,null,"processing",[t,e])}function pt(t){(h=I(t.nTable)).attr("role","grid");var e=t.oScroll;if(""===e.sX&&""===e.sY)return t.nTable;var i=e.sX,n=e.sY,r=t.oClasses,a=h.children("caption"),o=a.length?a[0]._captionSide:null,s=I(h[0].cloneNode(!1)),l=I(h[0].cloneNode(!1)),c=h.children("tfoot");c.length||(c=null),s=I("<div/>",{"class":r.sScrollWrapper}).append(I("<div/>",{"class":r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?i?yt(i):null:"100%"}).append(I("<div/>",{"class":r.sScrollHeadInner}).css({"box-sizing":"content-box",width:e.sXInner||"100%"}).append(s.removeAttr("id").css("margin-left",0).append("top"===o?a:null).append(h.children("thead"))))).append(I("<div/>",{"class":r.sScrollBody}).css({position:"relative",overflow:"auto",width:i?yt(i):null}).append(h)),c&&s.append(I("<div/>",{"class":r.sScrollFoot}).css({overflow:"hidden",border:0,width:i?i?yt(i):null:"100%"}).append(I("<div/>",{"class":r.sScrollFootInner}).append(l.removeAttr("id").css("margin-left",0).append("bottom"===o?a:null).append(h.children("tfoot")))));var h,u=(h=s.children())[0],d=(r=h[1],c?h[2]:null);return i&&I(r).on("scroll.DT",function(){var t=this.scrollLeft;u.scrollLeft=t,c&&(d.scrollLeft=t)}),I(r).css("max-height",n),e.bCollapse||I(r).css("height",n),t.nScrollHead=u,t.nScrollBody=r,t.nScrollFoot=d,t.aoDrawCallback.push({fn:ft,sName:"scrolling"}),s[0]}function ft(i){var t,e,n,r,a,o=(c=i.oScroll).sX,s=c.sXInner,l=c.sY,c=c.iBarWidth,h=I(i.nScrollHead),u=h[0].style,d=(f=h.children("div"))[0].style,p=f.children("table"),f=i.nScrollBody,g=I(f),m=f.style,v=I(i.nScrollFoot).children("div"),x=v.children("table"),b=I(i.nTHead),y=I(i.nTable),w=y[0],A=w.style,C=i.nTFoot?I(i.nTFoot):null,S=i.oBrowser,k=S.bScrollOversize,T=re(i.aoColumns,"nTh"),D=[],L=[],E=[],P=[],_=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};e=f.scrollHeight>f.clientHeight,i.scrollBarVis!==e&&i.scrollBarVis!==R?(i.scrollBarVis=e,F(i)):(i.scrollBarVis=e,y.children("thead, tfoot").remove(),C&&(n=C.clone().prependTo(y),t=C.find("tr"),n=n.find("tr")),r=b.clone().prependTo(y),b=b.find("tr"),e=r.find("tr"),r.find("th, td").removeAttr("tabindex"),o||(m.width="100%",h[0].style.width="100%"),I.each(W(i,r),function(t,e){a=M(i,t),e.style.width=i.aoColumns[a].sWidth}),C&&gt(function(t){t.style.width=""},n),h=y.outerWidth(),""===o?(A.width="100%",k&&(y.find("tbody").height()>f.offsetHeight||"scroll"==g.css("overflow-y"))&&(A.width=yt(y.outerWidth()-c)),h=y.outerWidth()):""!==s&&(A.width=yt(s),h=y.outerWidth()),gt(_,e),gt(function(t){E.push(t.innerHTML),D.push(yt(I(t).css("width")))},e),gt(function(t,e){-1!==I.inArray(t,T)&&(t.style.width=D[e])},b),I(e).height(0),C&&(gt(_,n),gt(function(t){P.push(t.innerHTML),L.push(yt(I(t).css("width")))},n),gt(function(t,e){t.style.width=L[e]},t),I(n).height(0)),gt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+E[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=D[e]},e),C&&gt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+P[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=L[e]},n),y.outerWidth()<h?(t=f.scrollHeight>f.offsetHeight||"scroll"==g.css("overflow-y")?h+c:h,k&&(f.scrollHeight>f.offsetHeight||"scroll"==g.css("overflow-y"))&&(A.width=yt(t-c)),(""===o||""!==s)&&_t(i,1,"Possible column misalignment",6)):t="100%",m.width=yt(t),u.width=yt(t),C&&(i.nScrollFoot.style.width=yt(t)),!l&&k&&(m.height=yt(w.offsetHeight+c)),o=y.outerWidth(),p[0].style.width=yt(o),d.width=yt(o),s=y.height()>f.clientHeight||"scroll"==g.css("overflow-y"),d[l="padding"+(S.bScrollbarLeft?"Left":"Right")]=s?c+"px":"0px",C&&(x[0].style.width=yt(o),v[0].style.width=yt(o),v[0].style[l]=s?c+"px":"0px"),y.children("colgroup").insertBefore(y.children("thead")),g.trigger("scroll"),!i.bSorted&&!i.bFiltered||i._drawHold||(f.scrollTop=0))}function gt(t,e,i){for(var n,r,a=0,o=0,s=e.length;o<s;){for(n=e[o].firstChild,r=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,r,a):t(n,a),a++),n=n.nextSibling,r=i?r.nextSibling:null;o++}}function mt(t){var e,i,n=t.nTable,r=t.aoColumns,a=(g=t.oScroll).sY,o=g.sX,s=g.sXInner,l=r.length,c=D(t,"bVisible"),h=I("th",t.nTHead),u=n.getAttribute("width"),d=n.parentNode,p=!1,f=t.oBrowser,g=f.bScrollOversize;for((e=n.style.width)&&-1!==e.indexOf("%")&&(u=e),e=0;e<c.length;e++)null!==(i=r[c[e]]).sWidth&&(i.sWidth=vt(i.sWidthOrig,d),p=!0);if(g||!p&&!o&&!a&&l==x(t)&&l==h.length)for(e=0;e<l;e++)null!==(c=M(t,e))&&(r[c].sWidth=yt(h.eq(e).width()));else{(l=I(n).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var m=I("<tr/>").appendTo(l.find("tbody"));for(l.find("thead, tfoot").remove(),l.append(I(t.nTHead).clone()).append(I(t.nTFoot).clone()),l.find("tfoot th, tfoot td").css("width",""),h=W(t,l.find("thead")[0]),e=0;e<c.length;e++)i=r[c[e]],h[e].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?yt(i.sWidthOrig):"",i.sWidthOrig&&o&&I(h[e]).append(I("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<c.length;e++)i=r[p=c[e]],I(xt(t,p)).clone(!1).append(i.sContentPadding).appendTo(m);for(I("[name]",l).removeAttr("name"),i=I("<div/>").css(o||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(l).appendTo(d),o&&s?l.width(s):o?(l.css("width","auto"),l.removeAttr("width"),l.width()<d.clientWidth&&u&&l.width(d.clientWidth)):a?l.width(d.clientWidth):u&&l.width(u),e=a=0;e<c.length;e++)s=(d=I(h[e])).outerWidth()-d.width(),a+=d=f.bBounding?Math.ceil(h[e].getBoundingClientRect().width):d.outerWidth(),r[c[e]].sWidth=yt(d-s);n.style.width=yt(a),i.remove()}u&&(n.style.width=yt(u)),!u&&!o||t._reszEvt||(n=function(){I(v).on("resize.DT-"+t.sInstance,ve(function(){F(t)}))},g?setTimeout(n,1e3):n(),t._reszEvt=!0)}function vt(t,e){if(!t)return 0;var i=I("<div/>").css("width",yt(t)).appendTo(e||b.body),n=i[0].offsetWidth;return i.remove(),n}function xt(t,e){var i=bt(t,e);if(i<0)return null;var n=t.aoData[i];return n.nTr?n.anCells[e]:I("<td/>").html(_(t,i,e,"display"))[0]}function bt(t,e){for(var i,n=-1,r=-1,a=0,o=t.aoData.length;a<o;a++)(i=(i=(i=_(t,a,e,"display")+"").replace(me,"")).replace(/&nbsp;/g," ")).length>n&&(n=i.length,r=a);return r}function yt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function wt(t){var e,i,n,r,a,o,s=[],l=t.aoColumns;e=t.aaSortingFixed,i=I.isPlainObject(e);var c=[];for(n=function(t){t.length&&!Array.isArray(t[0])?c.push(t):I.merge(c,t)},Array.isArray(e)&&n(e),i&&e.pre&&n(e.pre),n(t.aaSorting),i&&e.post&&n(e.post),t=0;t<c.length;t++)for(e=0,i=(n=l[o=c[t][0]].aDataSort).length;e<i;e++)a=l[r=n[e]].sType||"string",c[t]._idx===R&&(c[t]._idx=I.inArray(c[t][1],l[r].asSorting)),s.push({src:o,col:r,dir:c[t][1],index:c[t]._idx,type:a,formatter:Gt.ext.type.order[a+"-pre"]});return s}function At(t){var e,i,n,c,h=[],u=Gt.ext.type.order,d=t.aoData,r=0,a=t.aiDisplayMaster;for(o(t),e=0,i=(c=wt(t)).length;e<i;e++)(n=c[e]).formatter&&r++,Dt(t,n.col);if("ssp"!=Bt(t)&&0!==c.length){for(e=0,i=a.length;e<i;e++)h[a[e]]=e;r===c.length?a.sort(function(t,e){var i,n,r,a,o=c.length,s=d[t]._aSortData,l=d[e]._aSortData;for(r=0;r<o;r++)if(0!==(i=(i=s[(a=c[r]).col])<(n=l[a.col])?-1:n<i?1:0))return"asc"===a.dir?i:-i;return(i=h[t])<(n=h[e])?-1:n<i?1:0}):a.sort(function(t,e){var i,n,r,a,o=c.length,s=d[t]._aSortData,l=d[e]._aSortData;for(r=0;r<o;r++)if(i=s[(a=c[r]).col],n=l[a.col],0!==(i=(a=u[a.type+"-"+a.dir]||u["string-"+a.dir])(i,n)))return i;return(i=h[t])<(n=h[e])?-1:n<i?1:0})}t.bSorted=!0}function Ct(t){for(var e,i,n=t.aoColumns,r=wt(t),a=(t=t.oLanguage.oAria,0),o=n.length;a<o;a++){var s=(i=n[a]).asSorting;e=i.sTitle.replace(/<.*?>/g,"");var l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable&&(0<r.length&&r[0].col==a?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),i=s[r[0].index+1]||s[0]):i=s[0],e+="asc"===i?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function St(t,e,i,n){var r=t.aaSorting,a=t.aoColumns[e].asSorting,o=function(t,e){var i=t._idx;return i===R&&(i=I.inArray(t[1],a)),i+1<a.length?i+1:e?null:0};"number"==typeof r[0]&&(r=t.aaSorting=[r]),i&&t.oFeatures.bSortMulti?-1!==(i=I.inArray(e,re(r,"0")))?(null===(e=o(r[i],!0))&&1===r.length&&(e=0),null===e?r.splice(i,1):(r[i][1]=a[e],r[i]._idx=e)):(r.push([e,a[0],0]),r[r.length-1]._idx=0):r.length&&r[0][0]==e?(e=o(r[0]),r.length=1,r[0][1]=a[e],r[0]._idx=e):(r.length=0,r.push([e,a[0]]),r[0]._idx=0),B(t),"function"==typeof n&&n(t)}function kt(e,t,i,n){var r=e.aoColumns[i];Ft(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(dt(e,!0),setTimeout(function(){St(e,i,t.shiftKey,n),"ssp"!==Bt(e)&&dt(e,!1)},0)):St(e,i,t.shiftKey,n))})}function Tt(t){var e,i,n=t.aLastSort,r=t.oClasses.sSortColumn,a=wt(t),o=t.oFeatures;if(o.bSort&&o.bSortClasses){for(o=0,e=n.length;o<e;o++)i=n[o].src,I(re(t.aoData,"anCells",i)).removeClass(r+(o<2?o+1:3));for(o=0,e=a.length;o<e;o++)i=a[o].src,I(re(t.aoData,"anCells",i)).addClass(r+(o<2?o+1:3))}t.aLastSort=a}function Dt(t,e){var i,n=t.aoColumns[e],r=Gt.ext.order[n.sSortDataType];r&&(i=r.call(t.oInstance,t,e,c(t,e)));for(var a,o=Gt.ext.type.order[n.sType+"-pre"],s=0,l=t.aoData.length;s<l;s++)(n=t.aoData[s])._aSortData||(n._aSortData=[]),(!n._aSortData[e]||r)&&(a=r?i[s]:_(t,s,e,"sort"),n._aSortData[e]=o?o(a):a)}function Lt(i){if(i.oFeatures.bStateSave&&!i.bDestroying){var t={time:+new Date,start:i._iDisplayStart,length:i._iDisplayLength,order:I.extend(!0,[],i.aaSorting),search:tt(i.oPreviousSearch),columns:I.map(i.aoColumns,function(t,e){return{visible:t.bVisible,search:tt(i.aoPreSearchCols[e])}})};Ot(i,"aoStateSaveParams","stateSaveParams",[i,t]),i.oSavedState=t,i.fnStateSaveCallback.call(i.oInstance,i,t)}}function Et(i,t,n){var r,a,o=i.aoColumns;t=function(t){if(t&&t.time){var e=Ot(i,"aoStateLoadParams","stateLoadParams",[i,t]);if(-1===I.inArray(!1,e)&&!(0<(e=i.iStateDuration)&&t.time<+new Date-1e3*e||t.columns&&o.length!==t.columns.length)){if(i.oLoadedState=I.extend(!0,{},t),t.start!==R&&(i._iDisplayStart=t.start,i.iInitDisplayStart=t.start),t.length!==R&&(i._iDisplayLength=t.length),t.order!==R&&(i.aaSorting=[],I.each(t.order,function(t,e){i.aaSorting.push(e[0]>=o.length?[0,e[1]]:e)})),t.search!==R&&I.extend(i.oPreviousSearch,et(t.search)),t.columns)for(r=0,a=t.columns.length;r<a;r++)(e=t.columns[r]).visible!==R&&(o[r].bVisible=e.visible),e.search!==R&&I.extend(i.aoPreSearchCols[r],et(e.search));Ot(i,"aoStateLoaded","stateLoaded",[i,t])}}n()};if(i.oFeatures.bStateSave){var e=i.fnStateLoadCallback.call(i.oInstance,i,t);e!==R&&t(e)}else n()}function Pt(t){var e=Gt.settings;return-1!==(t=I.inArray(t,re(e,"nTable")))?e[t]:null}function _t(t,e,i,n){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,n&&(i+=". For more information about this error, please see http://datatables.net/tn/"+n),e)v.console&&console.log&&console.log(i);else if(e=(e=Gt.ext).sErrMode||e.errMode,t&&Ot(t,null,"error",[t,n,i]),"alert"==e)alert(i);else{if("throw"==e)throw Error(i);"function"==typeof e&&e(t,n,i)}}function It(i,n,t,e){Array.isArray(t)?I.each(t,function(t,e){Array.isArray(e)?It(i,n,e[0],e[1]):It(i,n,e)}):(e===R&&(e=t),n[t]!==R&&(i[e]=n[t]))}function Rt(t,e,i){var n,r;for(r in e)e.hasOwnProperty(r)&&(n=e[r],I.isPlainObject(n)?(I.isPlainObject(t[r])||(t[r]={}),I.extend(!0,t[r],n)):t[r]=i&&"data"!==r&&"aaData"!==r&&Array.isArray(n)?n.slice():n);return t}function Ft(e,t,i){I(e).on("click.DT",t,function(t){I(e).trigger("blur"),i(t)}).on("keypress.DT",t,function(t){13===t.which&&(t.preventDefault(),i(t))}).on("selectstart.DT",function(){return!1})}function Mt(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function Ot(e,t,i,n){var r=[];return t&&(r=I.map(e[t].slice().reverse(),function(t){return t.fn.apply(e.oInstance,n)})),null!==i&&(t=I.Event(i+".dt"),I(e.nTable).trigger(t,n),r.push(t.result)),r}function Nt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;i<=e&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function zt(t,e){var i=t.renderer,n=Gt.ext.renderer[e];return I.isPlainObject(i)&&i[e]?n[i[e]]||n._:"string"==typeof i&&n[i]||n._}function Bt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Ht(t,e){var i=[],n=(i=_e.numbers_length,Math.floor(i/2));return e<=i?i=oe(0,e):t<=n?((i=oe(0,i-2)).push("ellipsis"),i.push(e-1)):(e-1-n<=t?i=oe(e-(i-2),e):((i=oe(t-n+2,t+n-1)).push("ellipsis"),i.push(e-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Xt(i){I.each({num:function(t){return Ie(t,i)},"num-fmt":function(t){return Ie(t,i,Kt)},"html-num":function(t){return Ie(t,i,$t)},"html-num-fmt":function(t){return Ie(t,i,$t,Kt)}},function(t,e){Wt.type.order[t+i+"-pre"]=e,t.match(/^html\-/)&&(Wt.type.search[t+i]=Wt.type.search.html)})}function e(e){return function(){var t=[Pt(this[Gt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Gt.ext.internal[e].apply(this,t)}}var Wt,Yt,jt,Vt,Gt=function(m){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Yt(t?Pt(this[Wt.iApiIndex]):this)},this.fnAddData=function(t,e){var i=this.api(!0),n=Array.isArray(t)&&(Array.isArray(t[0])||I.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(e===R||e)&&i.draw(),n.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],n=i.oScroll;t===R||t?e.draw(!1):(""!==n.sX||""!==n.sY)&&ft(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===R||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var n=this.api(!0),r=(t=n.rows(t)).settings()[0],a=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,a),(i===R||i)&&n.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,n,r,a){r=this.api(!0),null===e||e===R?r.search(t,i,n,a):r.column(e).search(t,i,n,a),r.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t===R)return i.data().toArray();var n=t.nodeName?t.nodeName.toLowerCase():"";return e!==R||"td"==n||"th"==n?i.cell(t,e).data():i.row(t).data()||null},this.fnGetNodes=function(t){var e=this.api(!0);return t!==R?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();return"TR"==i?e.row(t).index():"TD"==i||"TH"==i?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===R||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){t=this.api(!0).column(t).visible(e),(i===R||i)&&t.columns.adjust().draw()},this.fnSettings=function(){return Pt(this[Wt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,n,r){var a=this.api(!0);return i===R||null===i?a.row(e).data(t):a.cell(e,i).data(t),(r===R||r)&&a.columns.adjust(),(n===R||n)&&a.draw(),0},this.fnVersionCheck=Wt.fnVersionCheck;var v=this,x=m===R,b=this.length;for(var t in x&&(m={}),this.oApi=this.internal=Wt.internal,Gt.ext.internal)t&&(this[t]=e(t));return this.each(function(){var i,t={},n=1<b?Rt(t,m,!0):m,r=0,a=(t=this.getAttribute("id"),!1),e=Gt.defaults,o=I(this);if("table"!=this.nodeName.toLowerCase())_t(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{A(e),C(e.column),y(e,e,!0),y(e.column,e.column,!0),y(e,I.extend(n,o.data()),!0);var s=Gt.settings;r=0;for(i=s.length;r<i;r++){var l=s[r];if(l.nTable==this||l.nTHead&&l.nTHead.parentNode==this||l.nTFoot&&l.nTFoot.parentNode==this){var c=n.bRetrieve!==R?n.bRetrieve:e.bRetrieve;if(x||c)return l.oInstance;if(n.bDestroy!==R?n.bDestroy:e.bDestroy){l.oInstance.fnDestroy();break}return void _t(l,0,"Cannot reinitialise DataTable",3)}if(l.sTableId==this.id){s.splice(r,1);break}}null!==t&&""!==t||(this.id=t="DataTables_Table_"+Gt.ext._unique++);var h=I.extend(!0,{},Gt.models.oSettings,{sDestroyWidth:o[0].style.width,sInstance:t,sTableId:t});h.nTable=this,h.oApi=v.internal,h.oInit=n,s.push(h),h.oInstance=1===v.length?v:o.dataTable(),A(n),w(n.oLanguage),n.aLengthMenu&&!n.iDisplayLength&&(n.iDisplayLength=Array.isArray(n.aLengthMenu[0])?n.aLengthMenu[0][0]:n.aLengthMenu[0]),n=Rt(I.extend(!0,{},e),n),It(h.oFeatures,n,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),It(h,n,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),It(h.oScroll,n,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),It(h.oLanguage,n,"fnInfoCallback"),Mt(h,"aoDrawCallback",n.fnDrawCallback,"user"),Mt(h,"aoServerParams",n.fnServerParams,"user"),Mt(h,"aoStateSaveParams",n.fnStateSaveParams,"user"),Mt(h,"aoStateLoadParams",n.fnStateLoadParams,"user"),Mt(h,"aoStateLoaded",n.fnStateLoaded,"user"),Mt(h,"aoRowCallback",n.fnRowCallback,"user"),Mt(h,"aoRowCreatedCallback",n.fnCreatedRow,"user"),Mt(h,"aoHeaderCallback",n.fnHeaderCallback,"user"),Mt(h,"aoFooterCallback",n.fnFooterCallback,"user"),Mt(h,"aoInitComplete",n.fnInitComplete,"user"),Mt(h,"aoPreDrawCallback",n.fnPreDrawCallback,"user"),h.rowIdFn=O(n.rowId),S(h);var u=h.oClasses;I.extend(u,Gt.ext.classes,n.oClasses),o.addClass(u.sTable),h.iInitDisplayStart===R&&(h.iInitDisplayStart=n.iDisplayStart,h._iDisplayStart=n.iDisplayStart),null!==n.iDeferLoading&&(h.bDeferLoading=!0,t=Array.isArray(n.iDeferLoading),h._iRecordsDisplay=t?n.iDeferLoading[0]:n.iDeferLoading,h._iRecordsTotal=t?n.iDeferLoading[1]:n.iDeferLoading);var d=h.oLanguage;I.extend(!0,d,n.oLanguage),d.sUrl&&(I.ajax({dataType:"json",url:d.sUrl,success:function(t){w(t),y(e.oLanguage,t),I.extend(!0,d,t),at(h)},error:function(){at(h)}}),a=!0),null===n.asStripeClasses&&(h.asStripeClasses=[u.sStripeOdd,u.sStripeEven]);t=h.asStripeClasses;var p=o.children("tbody").find("tr").eq(0);if(-1!==I.inArray(!0,I.map(t,function(t){return p.hasClass(t)}))&&(I("tbody tr",this).removeClass(t.join(" ")),h.asDestroyStripes=t.slice()),t=[],0!==(s=this.getElementsByTagName("thead")).length&&(X(h.aoHeader,s[0]),t=W(h)),null===n.aoColumns)for(s=[],r=0,i=t.length;r<i;r++)s.push(null);else s=n.aoColumns;for(r=0,i=s.length;r<i;r++)k(h,t?t[r]:null);if(L(h,n.aoColumnDefs,s,function(t,e){T(h,t,e)}),p.length){var f=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};I(p[0]).children("th, td").each(function(t,e){var i=h.aoColumns[t];if(i.mData===t){var n=f(e,"sort")||f(e,"order"),r=f(e,"filter")||f(e,"search");null===n&&null===r||(i.mData={_:t+".display",sort:null!==n?t+".@data-"+n:R,type:null!==n?t+".@data-"+n:R,filter:null!==r?t+".@data-"+r:R},T(h,t))}})}var g=h.oFeatures;t=function(){if(n.aaSorting===R){var t=h.aaSorting;for(r=0,i=t.length;r<i;r++)t[r][1]=h.aoColumns[r].asSorting[0]}Tt(h),g.bSort&&Mt(h,"aoDrawCallback",function(){if(h.bSorted){var t=wt(h),i={};I.each(t,function(t,e){i[e.src]=e.dir}),Ot(h,null,"order",[h,t,i]),Ct(h)}}),Mt(h,"aoDrawCallback",function(){(h.bSorted||"ssp"===Bt(h)||g.bDeferRender)&&Tt(h)},"sc");t=o.children("caption").each(function(){this._captionSide=I(this).css("caption-side")});var e=o.children("thead");if(0===e.length&&(e=I("<thead/>").appendTo(o)),h.nTHead=e[0],0===(e=o.children("tbody")).length&&(e=I("<tbody/>").appendTo(o)),h.nTBody=e[0],0===(e=o.children("tfoot")).length&&0<t.length&&(""!==h.oScroll.sX||""!==h.oScroll.sY)&&(e=I("<tfoot/>").appendTo(o)),0===e.length||0===e.children().length?o.addClass(u.sNoFooter):0<e.length&&(h.nTFoot=e[0],X(h.aoFooter,h.nTFoot)),n.aaData)for(r=0;r<n.aaData.length;r++)E(h,n.aaData[r]);else(h.bDeferLoading||"dom"==Bt(h))&&P(h,I(h.nTBody).children("tr"));h.aiDisplay=h.aiDisplayMaster.slice(),!(h.bInitialised=!0)===a&&at(h)};n.bStateSave?(g.bStateSave=!0,Mt(h,"aoDrawCallback",Lt,"state_save"),Et(h,n,t)):t()}}),v=null,this},Ut={},qt=/[\r\n\u2028]/g,$t=/<.*?>/g,Zt=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Jt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Kt=/['\u00A0,$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,Qt=function(t){return!t||!0===t||"-"===t},te=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ee=function(t,e){return Ut[e]||(Ut[e]=RegExp(pe(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Ut[e],"."):t},ie=function(t,e,i){var n="string"==typeof t;return!!Qt(t)||(e&&n&&(t=ee(t,e)),i&&n&&(t=t.replace(Kt,"")),!isNaN(parseFloat(t))&&isFinite(t))},ne=function(t,e,i){return!!Qt(t)||((Qt(t)||"string"==typeof t)&&!!ie(t.replace($t,""),e,i)||null)},re=function(t,e,i){var n=[],r=0,a=t.length;if(i!==R)for(;r<a;r++)t[r]&&t[r][e]&&n.push(t[r][e][i]);else for(;r<a;r++)t[r]&&n.push(t[r][e]);return n},ae=function(t,e,i,n){var r=[],a=0,o=e.length;if(n!==R)for(;a<o;a++)t[e[a]][i]&&r.push(t[e[a]][i][n]);else for(;a<o;a++)r.push(t[e[a]][i]);return r},oe=function(t,e){var i,n=[];e===R?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)n.push(r);return n},se=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},le=function(t){var e;t:{if(!(t.length<2))for(var i=(e=t.slice().sort())[0],n=1,r=e.length;n<r;n++){if(e[n]===i){e=!1;break t}i=e[n]}e=!0}if(e)return t.slice();e=[];r=t.length;var a,o=0;n=0;t:for(;n<r;n++){for(i=t[n],a=0;a<o;a++)if(e[a]===i)continue t;e.push(i),o++}return e},ce=function(t,e){if(Array.isArray(e))for(var i=0;i<e.length;i++)ce(t,e[i]);else t.push(e);return t};Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Gt.util={throttle:function(n,t){var r,a,o=t!==R?t:200;return function(){var t=this,e=+new Date,i=arguments;r&&e<r+o?(clearTimeout(a),a=setTimeout(function(){r=R,n.apply(t,i)},o)):(r=e,n.apply(t,i))}},escapeRegex:function(t){return t.replace(Jt,"\\$1")}};var he=function(t,e,i){t[e]!==R&&(t[i]=t[e])},ue=/\[.*?\]$/,de=/\(\)$/,pe=Gt.util.escapeRegex,fe=I("<div>")[0],ge=fe.textContent!==R,me=/<.*?>/g,ve=Gt.util.throttle,xe=[],be=Array.prototype,ye=function(t){var e,i,n=Gt.settings,r=I.map(n,function(t){return t.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(e=I.inArray(t,r))?[n[e]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=I(t):t instanceof I&&(i=t),i?i.map(function(){return-1!==(e=I.inArray(this,r))?n[e]:null}).toArray():void 0):[]};Yt=function(t,e){if(!(this instanceof Yt))return new Yt(t,e);var i=[],n=function(t){(t=ye(t))&&i.push.apply(i,t)};if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)n(t[r]);else n(t);this.context=le(i),e&&I.merge(this,e),this.selector={rows:null,cols:null,opts:null},Yt.extend(this,this,xe)},Gt.Api=Yt,I.extend(Yt.prototype,{any:function(){return 0!==this.count()},concat:be.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Yt(e[t],this[t]):null},filter:function(t){var e=[];if(be.filter)e=be.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Yt(this.context,e)},flatten:function(){var t=[];return new Yt(this.context,t.concat.apply(t,this.toArray()))},join:be.join,indexOf:be.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,n){var r,a,o,s,l,c,h,u=[],d=this.context,p=this.selector;for("string"==typeof t&&(n=i,i=e,e=t,t=!1),a=0,o=d.length;a<o;a++){var f=new Yt(d[a]);if("table"===e)(r=i.call(f,d[a],a))!==R&&u.push(r);else if("columns"===e||"rows"===e)(r=i.call(f,d[a],this[a],a))!==R&&u.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(h=this[a],"column-rows"===e&&(c=Te(d[a],p.opts)),s=0,l=h.length;s<l;s++)r=h[s],(r="cell"===e?i.call(f,d[a],r.row,r.column,a,s):i.call(f,d[a],r,a,s,c))!==R&&u.push(r)}return u.length||n?((e=(t=new Yt(d,t?u.concat.apply([],u):u)).selector).rows=p.rows,e.cols=p.cols,e.opts=p.opts,t):this},lastIndexOf:be.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(be.map)e=be.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new Yt(this.context,e)},pluck:function(e){return this.map(function(t){return t[e]})},pop:be.pop,push:be.push,reduce:be.reduce||function(t,e){return i(this,t,e,0,this.length,1)},reduceRight:be.reduceRight||function(t,e){return i(this,t,e,this.length-1,-1,-1)},reverse:be.reverse,selector:null,shift:be.shift,slice:function(){return new Yt(this.context,this)},sort:be.sort,splice:be.splice,toArray:function(){return be.slice.call(this)},to$:function(){return I(this)},toJQuery:function(){return I(this)},unique:function(){return new Yt(this.context,le(this))},unshift:be.unshift}),Yt.extend=function(t,e,i){if(i.length&&e&&(e instanceof Yt||e.__dt_wrapper)){var n,r,a,o=function(e,i,n){return function(){var t=i.apply(e,arguments);return Yt.extend(t,t,n.methodExt),t}};for(n=0,r=i.length;n<r;n++)e[(a=i[n]).name]="function"===a.type?o(t,a.val,a):"object"===a.type?{}:a.val,e[a.name].__dt_wrapper=!0,Yt.extend(t,e[a.name],a.propExt)}},Yt.register=jt=function(t,e){if(Array.isArray(t))for(var i=0,n=t.length;i<n;i++)Yt.register(t[i],e);else{var r,a,o=t.split("."),s=xe;for(i=0,n=o.length;i<n;i++){var l;r=(a=-1!==o[i].indexOf("()"))?o[i].replace("()",""):o[i];t:{l=0;for(var c=s.length;l<c;l++)if(s[l].name===r){l=s[l];break t}l=null}l||(l={name:r,val:{},methodExt:[],propExt:[],type:"object"},s.push(l)),i===n-1?(l.val=e,l.type="function"==typeof e?"function":I.isPlainObject(e)?"object":"other"):s=a?l.methodExt:l.propExt}}},Yt.registerPlural=Vt=function(t,e,i){Yt.register(t,i),Yt.register(e,function(){var t=i.apply(this,arguments);return t===this?this:t instanceof Yt?t.length?Array.isArray(t[0])?new Yt(t.context,t[0]):t[0]:R:t})};var we=function(t,e){if(Array.isArray(t))return I.map(t,function(t){return we(t,e)});if("number"==typeof t)return[e[t]];var i=I.map(e,function(t){return t.nTable});return I(i).filter(t).map(function(){var t=I.inArray(this,i);return e[t]}).toArray()};jt("tables()",function(t){return t!==R&&null!==t?new Yt(we(t,this.context)):this}),jt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new Yt(e[0]):t}),Vt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Vt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Vt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Vt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Vt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),jt("draw()",function(e){return this.iterator("table",function(t){"page"===e?z(t):("string"==typeof e&&(e="full-hold"!==e),B(t,!1===e))})}),jt("page()",function(e){return e===R?this.page.info().page:this.iterator("table",function(t){ht(t,e)})}),jt("page.info()",function(){if(0===this.context.length)return R;var t=this.context[0],e=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,n=t.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(e/i),pages:r?1:Math.ceil(n/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:n,serverSide:"ssp"===Bt(t)}}),jt("page.len()",function(e){return e===R?0!==this.context.length?this.context[0]._iDisplayLength:R:this.iterator("table",function(t){st(t,e)})});var Ae=function(n,r,t){if(t){var e=new Yt(n);e.one("draw",function(){t(e.ajax.json())})}if("ssp"==Bt(n))B(n,r);else{dt(n,!0);var i=n.jqXHR;i&&4!==i.readyState&&i.abort(),Y(n,[],function(t){s(n);for(var e=0,i=(t=G(n,t)).length;e<i;e++)E(n,t[e]);B(n,r),dt(n,!1)})}};jt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),jt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),jt("ajax.reload()",function(e,i){return this.iterator("table",function(t){Ae(t,!1===i,e)})}),jt("ajax.url()",function(e){var t=this.context;return e===R?0===t.length?R:(t=t[0]).ajax?I.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){I.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),jt("ajax.url().load()",function(e,i){return this.iterator("table",function(t){Ae(t,!1===i,e)})});var Ce=function(t,e,i,n,r){var a,o,s,l,c,h,u=[];for(s=typeof e,e&&"string"!==s&&"function"!==s&&e.length!==R||(e=[e]),s=0,l=e.length;s<l;s++)for(c=0,h=(o=e[s]&&e[s].split&&!e[s].match(/[\[\(:]/)?e[s].split(","):[e[s]]).length;c<h;c++)(a=i("string"==typeof o[c]?o[c].trim():o[c]))&&a.length&&(u=u.concat(a));if((t=Wt.selector[t]).length)for(s=0,l=t.length;s<l;s++)u=t[s](n,r,u);return le(u)},Se=function(t){return t||(t={}),
t.filter&&t.search===R&&(t.search=t.filter),I.extend({search:"none",order:"current",page:"all"},t)},ke=function(t){for(var e=0,i=t.length;e<i;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Te=function(t,e){var i,n,r,a=[],o=t.aiDisplay;r=t.aiDisplayMaster;var s=e.search;if(i=e.order,n=e.page,"ssp"==Bt(t))return"removed"===s?[]:oe(0,r.length);if("current"==n)for(i=t._iDisplayStart,n=t.fnDisplayEnd();i<n;i++)a.push(o[i]);else if("current"==i||"applied"==i){if("none"==s)a=r.slice();else if("applied"==s)a=o.slice();else if("removed"==s){var l={};for(i=0,n=o.length;i<n;i++)l[o[i]]=null;a=I.map(r,function(t){return l.hasOwnProperty(t)?null:t})}}else if("index"==i||"original"==i)for(i=0,n=t.aoData.length;i<n;i++)"none"==s?a.push(i):(-1===(r=I.inArray(i,o))&&"removed"==s||0<=r&&"applied"==s)&&a.push(i);return a};jt("rows()",function(t,e){t===R?t="":I.isPlainObject(t)&&(e=t,t="");e=Se(e);var i=this.iterator("table",function(r){var a,o=e;return Ce("row",t,function(i){var t=te(i),n=r.aoData;if(null!==t&&!o)return[t];if(a||(a=Te(r,o)),null!==t&&-1!==I.inArray(t,a))return[t];if(null===i||i===R||""===i)return a;if("function"==typeof i)return I.map(a,function(t){var e=n[t];return i(t,e._aData,e.nTr)?t:null});if(i.nodeName){t=i._DT_RowIndex;var e=i._DT_CellIndex;return t!==R?n[t]&&n[t].nTr===i?[t]:[]:e?n[e.row]&&n[e.row].nTr===i.parentNode?[e.row]:[]:(t=I(i).closest("*[data-dt-row]")).length?[t.data("dt-row")]:[]}return"string"==typeof i&&"#"===i.charAt(0)&&(t=r.aIds[i.replace(/^#/,"")])!==R?[t.idx]:(t=se(ae(r.aoData,a,"nTr")),I(t).filter(i).map(function(){return this._DT_RowIndex}).toArray())},r,o)},1);return i.selector.rows=t,i.selector.opts=e,i}),jt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||R},1)}),jt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return ae(t.aoData,e,"_aData")},1)}),Vt("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,e){var i=t.aoData[e];return"search"===n?i._aFilterData:i._aSortData},1)}),Vt("rows().invalidate()","row().invalidate()",function(i){return this.iterator("row",function(t,e){r(t,e,i)})}),Vt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Vt("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,r=i.length;n<r;n++)for(var a=0,o=this[n].length;a<o;a++){var s=i[n].rowIdFn(i[n].aoData[this[n][a]]._aData);e.push((!0===t?"#":"")+s)}return new Yt(i,e)}),Vt("rows().remove()","row().remove()",function(){var h=this;return this.iterator("row",function(t,e,i){var n,r,a,o,s,l=t.aoData,c=l[e];for(l.splice(e,1),n=0,r=l.length;n<r;n++)if(s=(a=l[n]).anCells,null!==a.nTr&&(a.nTr._DT_RowIndex=n),null!==s)for(a=0,o=s.length;a<o;a++)s[a]._DT_CellIndex.row=n;u(t.aiDisplayMaster,e),u(t.aiDisplay,e),u(h[i],e,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,Nt(t),(e=t.rowIdFn(c._aData))!==R&&delete t.aIds[e]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e}),this}),jt("rows.add()",function(a){var t=this.iterator("table",function(t){var e,i,n,r=[];for(i=0,n=a.length;i<n;i++)(e=a[i]).nodeName&&"TR"===e.nodeName.toUpperCase()?r.push(P(t,e)[0]):r.push(E(t,e));return r},1),e=this.rows(-1);return e.pop(),I.merge(e,t),e}),jt("row()",function(t,e){return ke(this.rows(t,e))}),jt("row().data()",function(t){var e=this.context;if(t===R)return e.length&&this.length?e[0].aoData[this[0]]._aData:R;var i=e[0].aoData[this[0]];return i._aData=t,Array.isArray(t)&&i.nTr&&i.nTr.id&&f(e[0].rowId)(t,i.nTr.id),r(e[0],this[0],"data"),this}),jt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),jt("row.add()",function(e){e instanceof I&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?P(t,e)[0]:E(t,e)});return this.row(t[0])});var De=function(t,e){var i=t.context;i.length&&(i=i[0].aoData[e!==R?e:t[0]])&&i._details&&(i._details.remove(),i._detailsShow=R,i._details=R)},Le=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];if(n._details){(n._detailsShow=e)?n._details.insertAfter(n.nTr):n._details.detach();var o=i[0],r=new Yt(o),s=o.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<re(s,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){o===e&&r.rows({page:"current"}).eq(0).each(function(t){(t=s[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(o===e)for(var i,n=x(e),r=0,a=s.length;r<a;r++)(i=s[r])._details&&i._details.children("td[colspan]").attr("colspan",n)}),r.on("destroy.dt.DT_details",function(t,e){if(o===e)for(var i=0,n=s.length;i<n;i++)s[i]._details&&De(r,i)}))}}};jt("row().child()",function(t,e){var i=this.context;if(t===R)return i.length&&this.length?i[0].aoData[this[0]]._details:R;if(!0===t)this.child.show();else if(!1===t)De(this);else if(i.length&&this.length){var r=i[0],a=(i=i[0].aoData[this[0]],[]),o=function(t,e){if(Array.isArray(t)||t instanceof I)for(var i=0,n=t.length;i<n;i++)o(t[i],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?a.push(t):(i=I("<tr><td></td></tr>").addClass(e),I("td",i).addClass(e).html(t)[0].colSpan=x(r),a.push(i[0]))};o(t,e),i._details&&i._details.detach(),i._details=I(a),i._detailsShow&&i._details.insertAfter(i.nTr)}return this}),jt(["row().child.show()","row().child().show()"],function(){return Le(this,!0),this}),jt(["row().child.hide()","row().child().hide()"],function(){return Le(this,!1),this}),jt(["row().child.remove()","row().child().remove()"],function(){return De(this),this}),jt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var Ee=/^([^:]+):(name|visIdx|visible)$/,Pe=function(t,e,i,n,r){i=[],n=0;for(var a=r.length;n<a;n++)i.push(_(t,r[n],e));return i};jt("columns()",function(e,i){e===R?e="":I.isPlainObject(e)&&(i=e,e="");i=Se(i);var t=this.iterator("table",function(a){var t=e,o=i,s=a.aoColumns,l=re(s,"sName"),c=re(s,"nTh");return Ce("column",t,function(i){var t=te(i);if(""===i)return oe(s.length);if(null!==t)return[0<=t?t:s.length+t];if("function"==typeof i){var n=Te(a,o);return I.map(s,function(t,e){return i(e,Pe(a,e,0,0,n),c[e])?e:null})}var r="string"==typeof i?i.match(Ee):"";if(r)switch(r[2]){case"visIdx":case"visible":if((t=parseInt(r[1],10))<0){var e=I.map(s,function(t,e){return t.bVisible?e:null});return[e[e.length+t]]}return[M(a,t)];case"name":return I.map(l,function(t,e){return t===r[1]?e:null});default:return[]}return i.nodeName&&i._DT_CellIndex?[i._DT_CellIndex.column]:(t=I(c).filter(i).map(function(){return I.inArray(this,c)}).toArray()).length||!i.nodeName?t:(t=I(i).closest("*[data-dt-column]")).length?[t.data("dt-column")]:[]},a,o)},1);return t.selector.cols=e,t.selector.opts=i,t}),Vt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Vt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Vt("columns().data()","column().data()",function(){return this.iterator("column-rows",Pe,1)}),Vt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Vt("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(t,e,i,n,r){return ae(t.aoData,r,"search"===a?"_aFilterData":"_aSortData",e)},1)}),Vt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,r){return ae(t.aoData,r,"anCells",e)},1)}),Vt("columns().visible()","column().visible()",function(c,i){var e=this,t=this.iterator("column",function(t,e){if(c===R)return t.aoColumns[e].bVisible;var i,n,r,a=t.aoColumns,o=a[e],s=t.aoData;if(c!==R&&o.bVisible!==c){if(c){var l=I.inArray(!0,re(a,"bVisible"),e+1);for(i=0,n=s.length;i<n;i++)r=s[i].nTr,a=s[i].anCells,r&&r.insertBefore(a[e],a[l]||null)}else I(re(t.aoData,"anCells",e)).detach();o.bVisible=c}});return c!==R&&this.iterator("table",function(t){N(t,t.aoHeader),N(t,t.aoFooter),t.aiDisplay.length||I(t.nTBody).find("td[colspan]").attr("colspan",x(t)),Lt(t),e.iterator("column",function(t,e){Ot(t,null,"column-visibility",[t,e,c,i])}),(i===R||i)&&e.columns.adjust()}),t}),Vt("columns().indexes()","column().index()",function(i){return this.iterator("column",function(t,e){return"visible"===i?c(t,e):e},1)}),jt("columns.adjust()",function(){return this.iterator("table",function(t){F(t)},1)}),jt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return M(i,e);if("fromData"===t||"toVisible"===t)return c(i,e)}}),jt("column()",function(t,e){return ke(this.columns(t,e))}),jt("cells()",function(g,t,m){if(I.isPlainObject(g)&&(g.row===R?(m=g,g=null):(m=t,t=null)),I.isPlainObject(t)&&(m=t,t=null),null===t||t===R)return this.iterator("table",function(i){var n,r,a,o,s,l,c,t=g,e=Se(m),h=i.aoData,u=Te(i,e),d=se(ae(h,u,"anCells")),p=I(ce([],d)),f=i.aoColumns.length;return Ce("cell",t,function(t){var e="function"==typeof t;if(null===t||t===R||e){for(r=[],a=0,o=u.length;a<o;a++)for(n=u[a],s=0;s<f;s++)l={row:n,column:s},e?(c=h[n],t(l,_(i,n,s),c.anCells?c.anCells[s]:null)&&r.push(l)):r.push(l);return r}return I.isPlainObject(t)?t.column!==R&&t.row!==R&&-1!==I.inArray(t.row,u)?[t]:[]:(e=p.filter(t).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!t.nodeName?e:(c=I(t).closest("*[data-dt-row]")).length?[{row:c.data("dt-row"),column:c.data("dt-column")}]:[]},i,e)});var n,r,a,o,e=m?{page:m.page,order:m.order,search:m.search}:{},s=this.columns(t,e),l=this.rows(g,e);e=this.iterator("table",function(t,e){var i=[];for(n=0,r=l[e].length;n<r;n++)for(a=0,o=s[e].length;a<o;a++)i.push({row:l[e][n],column:s[e][a]});return i},1),e=m&&m.selected?this.cells(e,m):e;return I.extend(e.selector,{cols:t,rows:g,opts:m}),e}),Vt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){return(t=t.aoData[e])&&t.anCells?t.anCells[i]:R},1)}),jt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return _(t,e,i)},1)}),Vt("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,e,i){return t.aoData[e][n][i]},1)}),Vt("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,e,i){return _(t,e,i,n)},1)}),Vt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:c(t,i)}},1)}),Vt("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,e,i){r(t,e,n,i)})}),jt("cell()",function(t,e,i){return ke(this.cells(t,e,i))}),jt("cell().data()",function(t){var e=this.context,i=this[0];return t===R?e.length&&i.length?_(e[0],i[0].row,i[0].column):R:(n(e[0],i[0].row,i[0].column,t),r(e[0],i[0].row,"data",i[0].column),this)}),jt("order()",function(e,t){var i=this.context;return e===R?0!==i.length?i[0].aaSorting:R:("number"==typeof e?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),jt("order.listener()",function(e,i,n){return this.iterator("table",function(t){kt(t,e,i,n)})}),jt("order.fixed()",function(e){if(e)return this.iterator("table",function(t){t.aaSortingFixed=I.extend(!0,{},e)});var t=(t=this.context).length?t[0].aaSortingFixed:R;return Array.isArray(t)?{pre:t}:t}),jt(["columns().order()","column().order()"],function(n){var r=this;return this.iterator("table",function(t,e){var i=[];I.each(r[e],function(t,e){i.push([e,n])}),t.aaSorting=i})}),jt("search()",function(e,i,n,r){var t=this.context;return e===R?0!==t.length?t[0].oPreviousSearch.sSearch:R:this.iterator("table",function(t){t.oFeatures.bFilter&&q(t,I.extend({},t.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===n||n,bCaseInsensitive:null===r||r}),1)})}),Vt("columns().search()","column().search()",function(n,r,a,o){return this.iterator("column",function(t,e){var i=t.aoPreSearchCols;if(n===R)return i[e].sSearch;t.oFeatures.bFilter&&(I.extend(i[e],{sSearch:n+"",bRegex:null!==r&&r,bSmart:null===a||a,bCaseInsensitive:null===o||o}),q(t,t.oPreviousSearch,1))})}),jt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),jt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),jt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),jt("state.save()",function(){return this.iterator("table",function(t){Lt(t)})}),Gt.versionCheck=Gt.fnVersionCheck=function(t){for(var e,i,n=Gt.version.split("."),r=0,a=(t=t.split(".")).length;r<a;r++)if((e=parseInt(n[r],10)||0)!==(i=parseInt(t[r],10)||0))return i<e;return!0},Gt.isDataTable=Gt.fnIsDataTable=function(t){var r=I(t).get(0),a=!1;return t instanceof Gt.Api||(I.each(Gt.settings,function(t,e){var i=e.nScrollHead?I("table",e.nScrollHead)[0]:null,n=e.nScrollFoot?I("table",e.nScrollFoot)[0]:null;e.nTable!==r&&i!==r&&n!==r||(a=!0)}),a)},Gt.tables=Gt.fnTables=function(e){var t=!1;I.isPlainObject(e)&&(t=e.api,e=e.visible);var i=I.map(Gt.settings,function(t){if(!e||e&&I(t.nTable).is(":visible"))return t.nTable});return t?new Yt(i):i},Gt.camelToHungarian=y,jt("$()",function(t,e){var i=this.rows(e).nodes();i=I(i);return I([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),I.each(["on","one","off"],function(t,i){jt(i+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=I.map(t[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var e=I(this.tables().nodes());return e[i].apply(e,t),this})}),jt("clear()",function(){return this.iterator("table",function(t){s(t)})}),jt("settings()",function(){return new Yt(this.context,this.context)}),jt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),jt("data()",function(){return this.iterator("table",function(t){return re(t.aoData,"_aData")}).flatten()}),jt("destroy()",function(u){return u=u||!1,this.iterator("table",function(e){var i,t=e.nTableWrapper.parentNode,n=e.oClasses,r=e.nTable,a=e.nTBody,o=e.nTHead,s=e.nTFoot,l=I(r),c=(a=I(a),I(e.nTableWrapper)),h=I.map(e.aoData,function(t){return t.nTr});e.bDestroying=!0,Ot(e,"aoDestroyCallback","destroy",[e]),u||new Yt(e).columns().visible(!0),c.off(".DT").find(":not(tbody *)").off(".DT"),I(v).off(".DT-"+e.sInstance),r!=o.parentNode&&(l.children("thead").detach(),l.append(o)),s&&r!=s.parentNode&&(l.children("tfoot").detach(),l.append(s)),e.aaSorting=[],e.aaSortingFixed=[],Tt(e),I(h).removeClass(e.asStripeClasses.join(" ")),I("th, td",o).removeClass(n.sSortable+" "+n.sSortableAsc+" "+n.sSortableDesc+" "+n.sSortableNone),a.children().detach(),a.append(h),l[o=u?"remove":"detach"](),c[o](),!u&&t&&(t.insertBefore(r,e.nTableReinsertBefore),l.css("width",e.sDestroyWidth).removeClass(n.sTable),(i=e.asDestroyStripes.length)&&a.children().each(function(t){I(this).addClass(e.asDestroyStripes[t%i])})),-1!==(t=I.inArray(e,Gt.settings))&&Gt.settings.splice(t,1)})}),I.each(["column","row","cell"],function(t,l){jt(l+"s().every()",function(a){var o=this.selector.opts,s=this;return this.iterator(l,function(t,e,i,n,r){a.call(s[l](e,"cell"===l?i:o,"cell"===l?o:R),e,i,n,r)})})}),jt("i18n()",function(t,e,i){var n=this.context[0];return(t=O(t)(n.oLanguage))===R&&(t=e),i!==R&&I.isPlainObject(t)&&(t=t[i]!==R?t[i]:t._),t.replace("%d",i)}),Gt.version="1.10.23",Gt.settings=[],Gt.models={},Gt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Gt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Gt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Gt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:I.extend({},Gt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},a(Gt.defaults),Gt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(Gt.defaults.column),Gt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:R,oAjaxData:R,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Bt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Bt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,r=this.oFeatures,a=r.bPaginate;return r.bServerSide?!1===a||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!a||n<i||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Gt.ext=Wt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Gt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Gt.version},I.extend(Wt,{afnFiltering:Wt.search,aTypes:Wt.type.detect,ofnSearch:Wt.type.search,oSort:Wt.type.order,afnSortData:Wt.order,aoFeatures:Wt.feature,oApi:Wt.internal,oStdClasses:Wt.classes,oPagination:Wt.pager}),I.extend(Gt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var _e=Gt.ext.pager;I.extend(_e,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Ht(t,e)]},simple_numbers:function(t,e){return["previous",Ht(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ht(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Ht(t,e),"last"]},_numbers:Ht,numbers_length:7}),I.extend(!0,Gt.ext.renderer,{pageButton:{_:function(l,t,c,e,h,u){var d,p,i,f=l.oClasses,g=l.oLanguage.oPaginate,m=l.oLanguage.oAria.paginate||{},v=0,x=function(t,e){var i,n,r,a,o=f.sPageButtonDisabled,s=function(t){ht(l,t.data.action,!0)};for(i=0,n=e.length;i<n;i++)if(a=e[i],Array.isArray(a))r=I("<"+(a.DT_el||"div")+"/>").appendTo(t),x(r,a);else{switch(d=null,p=a,r=l.iTabIndex,a){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":d=g.sFirst,0===h&&(r=-1,p=p+" "+o);break;case"previous":d=g.sPrevious,0===h&&(r=-1,p=p+" "+o);break;case"next":d=g.sNext,0!==u&&h!==u-1||(r=-1,p=p+" "+o);break;case"last":d=g.sLast,0!==u&&h!==u-1||(r=-1,p=p+" "+o);break;default:d=l.fnFormatNumber(a+1),p=h===a?f.sPageButtonActive:""}null!==d&&(Ft(r=I("<a>",{"class":f.sPageButton+" "+p,"aria-controls":l.sTableId,"aria-label":m[a],"data-dt-idx":v,tabindex:r,id:0===c&&"string"==typeof a?l.sTableId+"_"+a:null}).html(d).appendTo(t),{action:a},s),v++)}};try{i=I(t).find(b.activeElement).data("dt-idx")}catch(Yt){}x(I(t).empty(),e),i!==R&&I(t).find("[data-dt-idx="+i+"]").trigger("focus")}}}),I.extend(Gt.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return ie(t,i)?"num"+i:null},function(t){if(t&&!(t instanceof Date)&&!Zt.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||Qt(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return ie(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i,!0)?"html-num-fmt"+i:null},function(t){return Qt(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),I.extend(Gt.ext.type.search,{html:function(t){return Qt(t)?t:"string"==typeof t?t.replace(qt," ").replace($t,""):""},string:function(t){return Qt(t)?t:"string"==typeof t?t.replace(qt," "):t}});var Ie=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=ee(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-Infinity};I.extend(Wt.type.order,{"date-pre":function(t){return t=Date.parse(t),isNaN(t)?-Infinity:t},"html-pre":function(t){return Qt(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return Qt(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0}}),Xt(""),I.extend(!0,Gt.ext.renderer,{header:{_:function(r,a,o,s){I(r.nTable).on("order.dt.DT",function(t,e,i,n){r===e&&(t=o.idx,a.removeClass(o.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==n[t]?s.sSortAsc:"desc"==n[t]?s.sSortDesc:o.sSortingClass))})},jqueryui:function(r,a,o,s){I("<div/>").addClass(s.sSortJUIWrapper).append(a.contents()).append(I("<span/>").addClass(s.sSortIcon+" "+o.sSortingClassJUI)).appendTo(a),I(r.nTable).on("order.dt.DT",function(t,e,i,n){r===e&&(t=o.idx,a.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==n[t]?s.sSortAsc:"desc"==n[t]?s.sSortDesc:o.sSortingClass),a.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==n[t]?s.sSortJUIAsc:"desc"==n[t]?s.sSortJUIDesc:o.sSortingClassJUI))})}}});var Re=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Gt.render={number:function(n,r,a,o,s){return{display:function(t){if("number"!=typeof t&&"string"!=typeof t)return t;var e=t<0?"-":"",i=parseFloat(t);return isNaN(i)?Re(t):(i=i.toFixed(a),t=Math.abs(i),i=parseInt(t,10),t=a?r+(t-i).toFixed(a).substring(2):"",e+(o||"")+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+t+(s||""))}}},text:function(){return{display:Re,filter:Re}}},I.extend(Gt.ext.internal,{_fnExternApiFunc:e,_fnBuildAjax:Y,_fnAjaxUpdate:j,_fnAjaxParameters:t,_fnAjaxUpdateDraw:V,_fnAjaxDataSrc:G,_fnAddColumn:k,_fnColumnOptions:T,_fnAdjustColumnSizing:F,_fnVisibleToColumnIndex:M,_fnColumnIndexToVisible:c,_fnVisbleColumns:x,_fnGetColumns:D,_fnColumnTypes:o,_fnApplyColumnDefs:L,_fnHungarianMap:a,_fnCamelToHungarian:y,_fnLanguageCompat:w,_fnBrowserDetect:S,_fnAddData:E,_fnAddTr:P,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==R?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,i){return I.inArray(i,t.aoData[e].anCells)},_fnGetCellData:_,_fnSetCellData:n,_fnSplitObjNotation:h,_fnGetObjectDataFn:O,_fnSetObjectDataFn:f,_fnGetDataMaster:g,_fnClearTable:s,_fnDeleteIndex:u,_fnInvalidate:r,_fnGetRowElements:l,_fnCreateTr:m,_fnBuildHead:p,_fnDrawHead:N,_fnDraw:z,_fnReDraw:B,_fnAddOptionsHtml:H,_fnDetectHeader:X,_fnGetUniqueThs:W,_fnFeatureHtmlFilter:U,_fnFilterComplete:q,_fnFilterCustom:$,_fnFilterColumn:Z,_fnFilter:J,_fnFilterCreateSearch:K,_fnEscapeRegex:pe,_fnFilterData:Q,_fnFeatureHtmlInfo:it,_fnUpdateInfo:nt,_fnInfoMacros:rt,_fnInitialise:at,_fnInitComplete:ot,_fnLengthChange:st,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ct,_fnPageChange:ht,_fnFeatureHtmlProcessing:ut,_fnProcessingDisplay:dt,_fnFeatureHtmlTable:pt,_fnScrollDraw:ft,_fnApplyToChildren:gt,_fnCalculateColumnWidths:mt,_fnThrottle:ve,_fnConvertToWidth:vt,_fnGetWidestNode:xt,_fnGetMaxLenString:bt,_fnStringToCss:yt,_fnSortFlatten:wt,_fnSort:At,_fnSortAria:Ct,_fnSortListener:St,_fnSortAttachListener:kt,_fnSortingClasses:Tt,_fnSortData:Dt,_fnSaveState:Lt,_fnLoadState:Et,_fnSettingsFromNode:Pt,_fnLog:_t,_fnMap:It,_fnBindAction:Ft,_fnCallbackReg:Mt,_fnCallbackFire:Ot,_fnLengthOverflow:Nt,_fnRenderer:zt,_fnDataSource:Bt,_fnRowAttributes:d,_fnExtend:Rt,_fnCalculateEnd:function(){}}),((I.fn.dataTable=Gt).$=I).fn.dataTableSettings=Gt.settings,I.fn.dataTableExt=Gt.ext,I.fn.DataTable=function(t){return I(this).dataTable(t).api()},I.each(Gt,function(t,e){I.fn.DataTable[t]=e}),I.fn.dataTable}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(b,t,r,a){var o=b.fn.dataTable;return b.extend(!0,o.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"}),b.extend(o.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap4",sFilterInput:"form-control form-control-sm",sLengthSelect:"custom-select custom-select-sm form-control form-control-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),o.ext.renderer.pageButton.bootstrap=function(s,t,l,e,c,h){var u,d,i,p=new o.Api(s),f=s.oClasses,g=s.oLanguage.oPaginate,m=s.oLanguage.oAria.paginate||{},v=0,x=function(t,e){var i,n,r,a,o=function(t){t.preventDefault(),!b(t.currentTarget).hasClass("disabled")&&p.page()!=t.data.action&&p.page(t.data.action).draw("page")};for(i=0,n=e.length;i<n;i++)if(a=e[i],Array.isArray(a))x(t,a);else{switch(d=u="",a){case"ellipsis":u="&#x2026;",d="disabled";break;case"first":u=g.sFirst,d=a+(0<c?"":" disabled");break;case"previous":u=g.sPrevious,d=a+(0<c?"":" disabled");break;case"next":u=g.sNext,d=a+(c<h-1?"":" disabled");break;case"last":u=g.sLast,d=a+(c<h-1?"":" disabled");break;default:u=a+1,d=c===a?"active":""}u&&(r=b("<li>",{"class":f.sPageButton+" "+d,id:0===l&&"string"==typeof a?s.sTableId+"_"+a:null}).append(b("<a>",{href:"#","aria-controls":s.sTableId,"aria-label":m[a],"data-dt-idx":v,tabindex:s.iTabIndex,"class":"page-link"}).html(u)).appendTo(t),s.oApi._fnBindAction(r,{action:a},o),v++)}};try{i=b(t).find(r.activeElement).data("dt-idx")}catch(n){}x(b(t).empty().html('<ul class="pagination"/>').children("ul"),e),i!==a&&b(t).find("[data-dt-idx="+i+"]").trigger("focus")},o}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(d,p,o,c){function a(t,e,i){var n=e+"-"+i;if(l[n])return l[n];var r=[];for(t=t.cell(e,i).node().childNodes,e=0,i=t.length;e<i;e++)r.push(t[e]);return l[n]=r}function s(t,e,i){var n=e+"-"+i;if(l[n]){t=t.cell(e,i).node(),e=[];for(var r=0,a=(i=l[n][0].parentNode.childNodes).length;r<a;r++)e.push(i[r]);for(i=0,r=e.length;i<r;i++)t.appendChild(e[i]);l[n]=c}}var r=d.fn.dataTable,n=function(t,e){if(!r.versionCheck||!r.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new r.Api(t),columns:[],current:[]},this.s.dt.settings()[0].responsive||(e&&"string"==typeof e.details?e.details={type:e.details}:e&&!1===e.details?e.details={type:!1}:e&&!0===e.details&&(e.details={type:"inline"}),this.c=d.extend(!0,{},n.defaults,r.defaults.responsive,e),(t.responsive=this)._constructor())};d.extend(n.prototype,{_constructor:function(){var i=this,e=this.s.dt,t=e.settings()[0],n=d(p).innerWidth();e.settings()[0]._responsive=this,d(p).on("resize.dtr orientationchange.dtr",r.util.throttle(function(){var t=d(p).innerWidth();t!==n&&(i._resize(),n=t)})),t.oApi._fnCallbackReg(t,"aoRowCreatedCallback",function(t){-1!==d.inArray(!1,i.s.current)&&d(">td, >th",t).each(function(t){t=e.column.index("toData",t),!1===i.s.current[t]&&d(this).css("display","none")})}),e.on("destroy.dtr",function(){e.off(".dtr"),d(e.table().body()).off(".dtr"),d(p).off("resize.dtr orientationchange.dtr"),e.cells(".dtr-control").nodes().to$().removeClass("dtr-control"),d.each(i.s.current,function(t,e){!1===e&&i._setColumnVis(t,!0)})}),this.c.breakpoints.sort(function(t,e){return t.width<e.width?1:t.width>e.width?-1:0}),this._classLogic(),this._resizeAuto(),!1!==(t=this.c.details).type&&(i._detailsInit(),e.on("column-visibility.dtr",function(){i._timer&&clearTimeout(i._timer),i._timer=setTimeout(function(){i._timer=null,i._classLogic(),i._resizeAuto(),i._resize(!0),i._redrawChildren()},100)}),e.on("draw.dtr",function(){
i._redrawChildren()}),d(e.table().node()).addClass("dtr-"+t.type)),e.on("column-reorder.dtr",function(){i._classLogic(),i._resizeAuto(),i._resize(!0)}),e.on("column-sizing.dtr",function(){i._resizeAuto(),i._resize()}),e.on("preXhr.dtr",function(){var t=[];e.rows().every(function(){this.child.isShown()&&t.push(this.id(!0))}),e.one("draw.dtr",function(){i._resizeAuto(),i._resize(),e.rows(t).every(function(){i._detailsDisplay(this,!1)})})}),e.on("draw.dtr",function(){i._controlClass()}).on("init.dtr",function(t){"dt"===t.namespace&&(i._resizeAuto(),i._resize(),d.inArray(!1,i.s.current)&&e.columns.adjust())}),this._resize()},_columnsVisiblity:function(i){var t,e,n=this.s.dt,r=this.s.columns,a=r.map(function(t,e){return{columnIdx:e,priority:t.priority}}).sort(function(t,e){return t.priority!==e.priority?t.priority-e.priority:t.columnIdx-e.columnIdx}),o=d.map(r,function(t,e){return!1===n.column(e).visible()?"not-visible":(!t.auto||null!==t.minWidth)&&(!0===t.auto?"-":-1!==d.inArray(i,t.includeIn))}),s=0;for(t=0,e=o.length;t<e;t++)!0===o[t]&&(s+=r[t].minWidth);for(t=(t=n.settings()[0].oScroll).sY||t.sX?t.iBarWidth:0,s=n.table().container().offsetWidth-t-s,t=0,e=o.length;t<e;t++)r[t].control&&(s-=r[t].minWidth);var l=!1;for(t=0,e=a.length;t<e;t++){var c=a[t].columnIdx;"-"===o[c]&&!r[c].control&&r[c].minWidth&&(l||s-r[c].minWidth<0?(l=!0,o[c]=!1):o[c]=!0,s-=r[c].minWidth)}for(a=!1,t=0,e=r.length;t<e;t++)if(!r[t].control&&!r[t].never&&!1===o[t]){a=!0;break}for(t=0,e=r.length;t<e;t++)r[t].control&&(o[t]=a),"not-visible"===o[t]&&(o[t]=!1);return-1===d.inArray(!0,o)&&(o[0]=!0),o},_classLogic:function(){var r=this,s=this.c.breakpoints,n=this.s.dt,a=n.columns().eq(0).map(function(t){var e=(i=this.column(t)).header().className,i=(t=n.settings()[0].aoColumns[t].responsivePriority,i.header().getAttribute("data-priority"));return t===c&&(t=i===c||null===i?1e4:1*i),{className:e,includeIn:[],auto:!1,control:!1,never:!!e.match(/\bnever\b/),priority:t}}),o=function(t,e){var i=a[t].includeIn;-1===d.inArray(e,i)&&i.push(e)},l=function(t,e,i,n){if(i){if("max-"===i)for(n=r._find(e).width,e=0,i=s.length;e<i;e++)s[e].width<=n&&o(t,s[e].name);else if("min-"===i)for(n=r._find(e).width,e=0,i=s.length;e<i;e++)s[e].width>=n&&o(t,s[e].name);else if("not-"===i)for(e=0,i=s.length;e<i;e++)-1===s[e].name.indexOf(n)&&o(t,s[e].name)}else a[t].includeIn.push(e)};a.each(function(t,r){for(var e=t.className.split(" "),a=!1,i=0,n=e.length;i<n;i++){var o=e[i].trim();if("all"===o)return a=!0,void(t.includeIn=d.map(s,function(t){return t.name}));if("none"===o||t.never)return void(a=!0);if("control"===o||"dtr-control"===o)return a=!0,void(t.control=!0);d.each(s,function(t,e){var i=e.name.split("-"),n=o.match(RegExp("(min\\-|max\\-|not\\-)?("+i[0]+")(\\-[_a-zA-Z0-9])?"));n&&(a=!0,n[2]===i[0]&&n[3]==="-"+i[1]?l(r,e.name,n[1],n[2]+n[3]):n[2]===i[0]&&!n[3]&&l(r,e.name,n[1],n[2]))})}a||(t.auto=!0)}),this.s.columns=a},_controlClass:function(){if("inline"===this.c.details.type){var t=this.s.dt,e=d.inArray(!0,this.s.current);t.cells(null,function(t){return t!==e},{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control"),t.cells(null,e,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(t,e){var i=this,n=this.s.dt,r=this.c.details;if(r&&!1!==r.type){var a=r.display(t,e,function(){return r.renderer(n,t[0],i._detailsObj(t[0]))});(!0===a||!1===a)&&d(n.table().node()).triggerHandler("responsive-display.dt",[n,t,a,e])}},_detailsInit:function(){var i=this,n=this.s.dt,t=this.c.details;"inline"===t.type&&(t.target="td.dtr-control, th.dtr-control"),n.on("draw.dtr",function(){i._tabIndexes()}),i._tabIndexes(),d(n.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&d(this).data("dtr-keyboard")&&d(this).click()});var r=t.target;r===c&&null===r||d(n.table().body()).on("click.dtr mousedown.dtr mouseup.dtr","string"==typeof r?r:"td, th",function(t){if(d(n.table().node()).hasClass("collapsed")&&-1!==d.inArray(d(this).closest("tr").get(0),n.rows().nodes().toArray())){if("number"==typeof r){var e=r<0?n.columns().eq(0).length+r:r;if(n.cell(this).index().column!==e)return}e=n.row(d(this).closest("tr")),"click"===t.type?i._detailsDisplay(e,!1):"mousedown"===t.type?d(this).css("outline","none"):"mouseup"===t.type&&d(this).trigger("blur").css("outline","")}})},_detailsObj:function(n){var r=this,a=this.s.dt;return d.map(this.s.columns,function(t,e){if(!t.never&&!t.control){var i=a.settings()[0].aoColumns[e];return{className:i.sClass,columnIndex:e,data:a.cell(n,e).render(r.c.orthogonal),hidden:a.column(e).visible()&&!r.s.current[e],rowIndex:n,title:null!==i.sTitle?i.sTitle:d(a.column(e).header()).text()}}})},_find:function(t){for(var e=this.c.breakpoints,i=0,n=e.length;i<n;i++)if(e[i].name===t)return e[i]},_redrawChildren:function(){var i=this,n=this.s.dt;n.rows({page:"current"}).iterator("row",function(t,e){n.row(e),i._detailsDisplay(n.row(e),!0)})},_resize:function(i){var t,n=this,e=this.s.dt,r=d(p).innerWidth(),a=this.c.breakpoints,o=a[0].name,s=this.s.columns,l=this.s.current.slice();for(t=a.length-1;0<=t;t--)if(r<=a[t].width){o=a[t].name;break}var c=this._columnsVisiblity(o);for(this.s.current=c,a=!1,t=0,r=s.length;t<r;t++)if(!1===c[t]&&!s[t].never&&!s[t].control&&!1==!e.column(t).visible()){a=!0;break}d(e.table().node()).toggleClass("collapsed",a);var h=!1,u=0;e.columns().eq(0).each(function(t,e){!0===c[e]&&u++,(i||c[e]!==l[e])&&(h=!0,n._setColumnVis(t,c[e]))}),h&&(this._redrawChildren(),d(e.table().node()).trigger("responsive-resize.dt",[e,this.s.current]),0===e.page.info().recordsDisplay&&d("td",e.table().body()).eq(0).attr("colspan",u)),n._controlClass()},_resizeAuto:function(){var e=this.s.dt,i=this.s.columns;if(this.c.auto&&-1!==d.inArray(!0,d.map(i,function(t){return t.auto}))){d.isEmptyObject(l)||d.each(l,function(t){t=t.split("-"),s(e,1*t[0],1*t[1])}),e.table().node();var t=e.table().node().cloneNode(!1),n=d(e.table().header().cloneNode(!1)).appendTo(t),r=d(e.table().body()).clone(!1,!1).empty().appendTo(t);t.style.width="auto";var a=e.columns().header().filter(function(t){return e.column(t).visible()}).to$().clone(!1).css("display","table-cell").css("width","auto").css("min-width",0);if(d(r).append(d(e.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display",""),r=e.table().footer()){r=d(r.cloneNode(!1)).appendTo(t);var o=e.columns().footer().filter(function(t){return e.column(t).visible()}).to$().clone(!1).css("display","table-cell");d("<tr/>").append(o).appendTo(r)}d("<tr/>").append(a).appendTo(n),"inline"===this.c.details.type&&d(t).addClass("dtr-inline collapsed"),d(t).find("[name]").removeAttr("name"),d(t).css("position","relative"),(t=d("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(t)).insertBefore(e.table().node()),a.each(function(t){t=e.column.index("fromVisible",t),i[t].minWidth=this.offsetWidth||0}),t.remove()}},_responsiveOnlyHidden:function(){var i=this.s.dt;return d.map(this.s.current,function(t,e){return!1===i.column(e).visible()||t})},_setColumnVis:function(t,e){var i=this.s.dt,n=e?"":"none";d(i.column(t).header()).css("display",n),d(i.column(t).footer()).css("display",n),i.column(t).nodes().to$().css("display",n),d.isEmptyObject(l)||i.cells(null,t).indexes().each(function(t){s(i,t.row,t.column)})},_tabIndexes:function(){var t=this.s.dt,e=t.cells({page:"current"}).nodes().to$(),i=t.settings()[0],n=this.c.details.target;e.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"number"==typeof n?t.cells(null,n,{page:"current"}).nodes().to$().attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1):("td:first-child, th:first-child"===n&&(n=">td:first-child, >th:first-child"),d(n,t.rows({page:"current"}).nodes()).attr("tabIndex",i.iTabIndex).data("dtr-keyboard",1))}}),n.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],n.display={childRow:function(t,e,i){return e?d(t.node()).hasClass("parent")?(t.child(i(),"child").show(),!0):void 0:t.child.isShown()?(t.child(!1),d(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),d(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,e,i){return!e&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),d(t.node()).removeClass("parent"),!1):(t.child(i(),"child").show(),d(t.node()).addClass("parent"),!0)},modal:function(a){return function(t,e,i){if(e)d("div.dtr-modal-content").empty().append(i());else{var n=function(){r.remove(),d(o).off("keypress.dtr")},r=d('<div class="dtr-modal"/>').append(d('<div class="dtr-modal-display"/>').append(d('<div class="dtr-modal-content"/>').append(i())).append(d('<div class="dtr-modal-close">&times;</div>').click(function(){n()}))).append(d('<div class="dtr-modal-background"/>').click(function(){n()})).appendTo("body");d(o).on("keyup.dtr",function(t){27===t.keyCode&&(t.stopPropagation(),n())})}a&&a.header&&d("div.dtr-modal-content").prepend("<h2>"+a.header(t)+"</h2>")}}};var l={};n.renderer={listHiddenNodes:function(){return function(i,t,e){var n=d('<ul data-dtr-index="'+t+'" class="dtr-details"/>'),r=!1;return d.each(e,function(t,e){e.hidden&&(d("<li "+(e.className?'class="'+e.className+'"':"")+' data-dtr-index="'+e.columnIndex+'" data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><span class="dtr-title">'+e.title+"</span> </li>").append(d('<span class="dtr-data"/>').append(a(i,e.rowIndex,e.columnIndex))).appendTo(n),r=!0)}),!!r&&n}},listHidden:function(){return function(t,e,i){return!!(t=d.map(i,function(t){var e=t.className?'class="'+t.className+'"':"";return t.hidden?"<li "+e+' data-dtr-index="'+t.columnIndex+'" data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><span class="dtr-title">'+t.title+'</span> <span class="dtr-data">'+t.data+"</span></li>":""}).join(""))&&d('<ul data-dtr-index="'+e+'" class="dtr-details"/>').append(t)}},tableAll:function(n){return n=d.extend({tableClass:""},n),function(t,e,i){return t=d.map(i,function(t){return"<tr "+(t.className?'class="'+t.className+'"':"")+' data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><td>'+t.title+":</td> <td>"+t.data+"</td></tr>"}).join(""),d('<table class="'+n.tableClass+' dtr-details" width="100%"/>').append(t)}}},n.defaults={breakpoints:n.breakpoints,auto:!0,details:{display:n.display.childRow,renderer:n.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var t=d.fn.dataTable.Api;return t.register("responsive()",function(){return this}),t.register("responsive.index()",function(t){return{column:(t=d(t)).data("dtr-index"),row:t.parent().data("dtr-index")}}),t.register("responsive.rebuild()",function(){return this.iterator("table",function(t){t._responsive&&t._responsive._classLogic()})}),t.register("responsive.recalc()",function(){return this.iterator("table",function(t){t._responsive&&(t._responsive._resizeAuto(),t._responsive._resize())})}),t.register("responsive.hasHidden()",function(){var t=this.context[0];return!!t._responsive&&-1!==d.inArray(!1,t._responsive._responsiveOnlyHidden())}),t.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(t,e){return!!t._responsive&&t._responsive._responsiveOnlyHidden()[e]},1)}),n.version="2.2.6",d.fn.dataTable.Responsive=n,d.fn.DataTable.Responsive=n,d(o).on("preInit.dt.dtr",function(t,e){if("dt"===t.namespace&&(d(e.nTable).hasClass("responsive")||d(e.nTable).hasClass("dt-responsive")||e.oInit.responsive||r.defaults.responsive)){var i=e.oInit.responsive;!1!==i&&new n(e,d.isPlainObject(i)?i:{})}}),n}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-responsive"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net-bs4")(t,e).$),e.fn.dataTable.Responsive||require("datatables.net-responsive")(t,e),i(e,t,t.document)}:i(jQuery,window,document)}(function(a){var t=a.fn.dataTable,e=t.Responsive.display,o=e.modal,s=a('<div class="modal fade dtr-bs-modal" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"/></div></div></div>');return e.modal=function(r){return function(t,e,i){if(a.fn.modal){if(!e){if(r&&r.header){var n=(e=s.find("div.modal-header")).find("button").detach();e.empty().append('<h4 class="modal-title">'+r.header(t)+"</h4>").append(n)}s.find("div.modal-body").empty().append(i()),s.appendTo("body").modal()}}else o(t,e,i)}},t.Responsive}),function(){"use strict";window.addEventListener("load",function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,function(e){e.addEventListener("submit",function(t){!1===e.checkValidity()&&(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)})},!1)}(),$(document).ready(function(){$(".custom-validation").parsley()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(t=t||self).parsley=e(t.jQuery)}(this,function(u){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,a=t}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw a}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(){}function n(){this.__id__=A.generateID()}function o(t){u.extend(!0,this,t)}function t(t,e){this.__class__="ValidatorRegistry",this.locale="en",this.init(t||{},e||{})}function d(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function e(a,o){return function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.pop(),o.apply(void 0,[t].concat(c((r=a,i.map(A.parse[r])))));var r}}function a(t){return{validateDate:e("date",t),validateNumber:e("number",t),requirementType:t.length<=2?"string":["string","string"],priority:30}}function h(t,e,i){this.__class__="Form",this.element=t,this.$element=u(t),this.domOptions=e,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null}function p(t,e,i,n,r){var a=new o(window.Parsley._validatorRegistry.validators[e]);l(this,{validator:a,name:e,requirements:i,priority:n=n||t.options[e+"Priority"]||a.priority,isDomConstraint:r=!0===r}),this._parseRequirements(t.options)}function f(t,e,i,n){this.__class__="Field",this.element=t,this.$element=u(t),void 0!==n&&(this.parent=n),this.options=i,this.domOptions=e,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()}function g(){this.__class__="FieldMultiple"}function m(t,e,i){this.element=t,this.$element=u(t);var n=this.$element.data("Parsley");if(n)return void 0!==i&&n.parent===window.Parsley&&(n.parent=i,n._resetOptions(n.options)),"object"===r(e)&&l(n.options,e),n;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==i&&"Form"!==i.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=i||window.Parsley,this.init(e)}function v(){A.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")}function x(e,i){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(this),e.apply(i||_,t)}),e.parsleyAdaptedCallback}function b(t){return 0===t.lastIndexOf(I,0)?t.substr(I.length):t}var y=1,w={},A={attr:function(t,e,i){var n,r,a,o=new RegExp("^"+e,"i");if(void 0===i)i={};else for(n in i)i.hasOwnProperty(n)&&delete i[n];if(!t)return i;for(n=(a=t.attributes).length;n--;)(r=a[n])&&r.specified&&o.test(r.name)&&(i[this.camelize(r.name.slice(e.length))]=this.deserializeValue(r.value));return i},checkAttr:function(t,e,i){return t.hasAttribute(e+i)},setAttr:function(t,e,i,n){t.setAttribute(this.dasherize(e+i),String(n))},getType:function(t){return t.getAttribute("type")||"text"},generateID:function(){return""+y++},deserializeValue:function(t){var e;try{return t?"true"==t||"false"!=t&&("null"==t?null:isNaN(e=Number(t))?/^[\[\{]/.test(t)?JSON.parse(t):t:e):t}catch(e){return t}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var t;window.console&&"function"==typeof window.console.warn&&(t=window.console).warn.apply(t,arguments)},warnOnce:function(t){w[t]||(w[t]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){w={}},trimString:function(t){return t.replace(/^\s+|\s+$/g,"")},parse:{date:function(t){var e=t.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!e)return null;var i=s(e.map(function(t){return parseInt(t,10)}),4),n=(i[0],i[1]),r=i[2],a=i[3],o=new Date(n,r-1,a);return o.getFullYear()!==n||o.getMonth()+1!==r||o.getDate()!==a?null:o},string:function(t){return t},integer:function(t){return isNaN(t)?null:parseInt(t,10)},number:function(t){if(isNaN(t))throw null;return parseFloat(t)},"boolean":function(t){return!/^\s*false\s*$/i.test(t)},object:function(t){return A.deserializeValue(t)},regexp:function(t){var e="";return t=/^\/.*\/(?:[gimy]*)$/.test(t)?(e=t.replace(/.*\/([gimy]*)$/,"$1"),t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")):"^"+t+"$",new RegExp(t,e)}},parseRequirement:function(t,e){var i=this.parse[t||"string"];if(!i)throw'Unknown requirement specification: "'+t+'"';var n=i(e);if(null===n)throw"Requirement is not a ".concat(t,': "').concat(e,'"');return n},namespaceEvents:function(t,e){return(t=this.trimString(t||"").split(/\s+/))[0]?u.map(t,function(t){return"".concat(t,".").concat(e)}).join(" "):""},difference:function(t,i){var n=[];return u.each(t,function(t,e){-1==i.indexOf(e)&&n.push(e)}),n},all:function(t){return u.when.apply(u,c(t).concat([42,42]))},objectCreate:Object.create||function(t){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=r(t))throw TypeError("Argument must be an object");i.prototype=t;var e=new i;return i.prototype=null,e},_SubmitSelector:'input[type="submit"], button:submit'},C={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"};n.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){function t(){var t=u.Deferred();return!0!==e.validationResult&&t.reject(),t.resolve().promise()}var e=this;return[t,t]},actualizeOptions:function(){return A.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(t){for(var e in this.domOptions=A.objectCreate(this.parent.options),this.options=A.objectCreate(this.domOptions),t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.actualizeOptions()},_listeners:null,on:function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},subscribe:function(t,e){u.listenTo(this,t.toLowerCase(),e)},off:function(t,e){var i=this._listeners&&this._listeners[t];if(i)if(e)for(var n=i.length;n--;)i[n]===e&&i.splice(n,1);else delete this._listeners[t];return this},unsubscribe:function(t){u.unsubscribeTo(this,t.toLowerCase())},trigger:function(t,e,i){e=e||this;var n,r=this._listeners&&this._listeners[t];if(r)for(var a=r.length;a--;)if(!1===(n=r[a].call(e,e,i)))return n;return!this.parent||this.parent.trigger(t,e,i)},asyncIsValid:function(t,e){return A.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:t,force:e})},_findRelated:function(){return this.options.multiple?u(this.parent.element.querySelectorAll("[".concat(this.options.namespace,'multiple="').concat(this.options.multiple,'"]'))):this.$element}},o.prototype={validate:function(t,e){if(this.fn)return 3<arguments.length&&(e=[].slice.call(arguments,1,-1)),this.fn(t,e);if(Array.isArray(t)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var i=arguments[arguments.length-1];if(this.validateDate&&i._isDateInput())return arguments[0]=A.parse.date(arguments[0]),null!==arguments[0]&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!t||!isNaN(t)&&(arguments[0]=parseFloat(arguments[0]),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(t,e){if("string"!=typeof t)return Array.isArray(t)?t:[t];var i=this.requirementType;if(Array.isArray(i)){for(var n=function(t,e){var i=t.match(/^\s*\[(.*)\]\s*$/);if(!i)throw'Requirement is not an array: "'+t+'"';var n=i[1].split(",").map(A.trimString);if(n.length!==e)throw"Requirement has "+n.length+" values when "+e+" are needed";return n}(t,i.length),r=0;r<n.length;r++)n[r]=A.parseRequirement(i[r],n[r]);return n}return u.isPlainObject(i)?function(t,e,i){var n=null,r={};for(var a in t)if(a){var o=i(a);"string"==typeof o&&(o=A.parseRequirement(t[a],o)),r[a]=o}else n=A.parseRequirement(t[a],e);return[n,r]}(i,t,e):[A.parseRequirement(i,t)]},requirementType:"string",priority:2};var S={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))$/,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(t){return null!==A.parse.date(t)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$")};S.range=S.number,t.prototype={init:function(t,e){for(var i in this.catalog=e,this.validators=l({},this.validators),t)this.addValidator(i,t[i].fn,t[i].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(t){if(void 0===this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,i){return"object"===r(e)&&(this.catalog[t]=e),!0===i?this.setLocale(t):this},addMessage:function(t,e,i){return void 0===this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e]=i,this},addMessages:function(t,e){for(var i in e)this.addMessage(t,i,e[i]);return this},addValidator:function(t){if(this.validators[t])A.warn('Validator "'+t+'" is already defined.');else if(C.hasOwnProperty(t))return void A.warn('"'+t+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},hasValidator:function(t){return!!this.validators[t]},updateValidator:function(t){return this.validators[t]?this._setValidator.apply(this,arguments):(A.warn('Validator "'+t+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(t){return this.validators[t]||A.warn('Validator "'+t+'" is not defined.'),delete this.validators[t],this},_setValidator:function(t,e,i){for(var n in"object"!==r(e)&&(e={fn:e,priority:i}),e.validate||(e=new o(e)),(this.validators[t]=e).messages||{})this.addMessage(n,t,e.messages[n]);return this},getErrorMessage:function(t){return("type"===t.name?(this.catalog[this.locale][t.name]||{})[t.requirements]:this.formatMessage(this.catalog[this.locale][t.name],t.requirements))||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(t,e){if("object"!==r(e))return"string"==typeof t?t.replace(/%s/i,e):"";for(var i in e)t=this.formatMessage(t,e[i]);return t},validators:{notblank:{validateString:function(t){return/\S/.test(t)},priority:2},required:{validateMultiple:function(t){return 0<t.length},validateString:function(t){return/\S/.test(t)},priority:512},type:{validateString:function(t,e,i){var n=2<arguments.length&&void 0!==i?i:{},r=n.step,a=void 0===r?"any":r,o=n.base,s=void 0===o?0:o,l=S[e];if(!l)throw new Error("validator type `"+e+"` is not supported");if(!t)return!0;if(!l.test(t))return!1;if("number"===e&&!/^any$/i.test(a||"")){var c=Number(t),h=Math.max(d(a),d(s));if(d(c)>h)return!1;var u=function(t){return Math.round(t*Math.pow(10,h))};if((u(c)-u(s))%u(a)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(t,e){return!t||e.test(t)},requirementType:"regexp",priority:64},minlength:{validateString:function(t,e){return!t||t.length>=e},requirementType:"integer",priority:30},maxlength:{validateString:function(t,e){return t.length<=e},requirementType:"integer",priority:30},length:{validateString:function(t,e,i){return!t||t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(t,e){return t.length<=e},requirementType:"integer",priority:30},check:{validateMultiple:function(t,e,i){return t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},min:a(function(t,e){return e<=t}),max:a(function(t,e){return t<=e}),range:a(function(t,e,i){return e<=t&&t<=i}),equalto:{validateString:function(t,e){if(!t)return!0;var i=u(e);return i.length?t===i.val():t===e},priority:256},euvatin:{validateString:function(t){return!t||/^[A-Z][A-Z][A-Za-z0-9 -]{2,}$/.test(t)},priority:30}}};var k={};k.Form={_actualizeTriggers:function(){var e=this;this.$element.on("submit.Parsley",function(t){e.onSubmitValidate(t)}),this.$element.on("click.Parsley",A._SubmitSelector,function(t){e.onSubmitButton(t)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(!(this._focusedField=null)===this.validationResult||"none"===this.options.focus)return null;for(var t=0;t<this.fields.length;t++){var e=this.fields[t];if(!0!==e.validationResult&&0<e.validationResult.length&&void 0===e.options.noFocus&&(this._focusedField=e.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}};var T={pending:null,resolved:!0,rejected:!(k.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var l=function l(t,e,i){for(var n=[],r=[],a=0;a<t.length;a++){for(var o=!1,s=0;s<e.length;s++)if(t[a].assert.name===e[s].assert.name){o=!0;break}o?r.push(t[a]):n.push(t[a])}return{kept:r,added:n,removed:i?[]:l(e,t,!0).added}}(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(l),this._actualizeTriggers(),!l.kept.length&&!l.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var t=[],e=0;e<this.validationResult.length;e++)t.push(this.validationResult[e].errorMessage||this._getErrorMessage(this.validationResult[e].assert));return t},addError:function(t,e){var i=1<arguments.length&&void 0!==e?e:{},n=i.message,r=i.assert,a=i.updateClass,o=void 0===a||a;this._buildUI(),this._addError(t,{message:n,assert:r}),o&&this._errorClass()},updateError:function(t,e){var i=1<arguments.length&&void 0!==e?e:{},n=i.message,r=i.assert,a=i.updateClass,o=void 0===a||a;this._buildUI(),this._updateError(t,{message:n,assert:r}),o&&this._errorClass()},removeError:function(t,e){var i=(1<arguments.length&&void 0!==e?e:{}).updateClass,n=void 0===i||i;this._buildUI(),this._removeError(t),n&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():0<this.validationResult.length?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if(void 0===this.options.errorsMessagesDisabled){if(void 0!==this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(u(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorClassHandler.attr("aria-describedby",this._ui.errorsWrapperId),this._ui.$errorsWrapper.addClass("filled").attr("aria-hidden","false").find(".parsley-custom-error-message").html(this.options.errorMessage)):(this._ui.$errorClassHandler.removeAttr("aria-describedby"),this._ui.$errorsWrapper.removeClass("filled").attr("aria-hidden","true").find(".parsley-custom-error-message").remove());for(var e=0;e<t.removed.length;e++)this._removeError(t.removed[e].assert.name);for(e=0;e<t.added.length;e++)this._addError(t.added[e].assert.name,{message:t.added[e].errorMessage,assert:t.added[e].assert});for(e=0;e<t.kept.length;e++)this._updateError(t.kept[e].assert.name,{message:t.kept[e].errorMessage,assert:t.kept[e].assert})}},_addError:function(t,e){var i=e.message,n=e.assert;this._insertErrorWrapper(),this._ui.$errorClassHandler.attr("aria-describedby",this._ui.errorsWrapperId),this._ui.$errorsWrapper.addClass("filled").attr("aria-hidden","false").append(u(this.options.errorTemplate).addClass("parsley-"+t).html(i||this._getErrorMessage(n)))},_updateError:function(t,e){var i=e.message,n=e.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+t).html(i||this._getErrorMessage(n))},_removeError:function(t){this._ui.$errorClassHandler.removeAttr("aria-describedby"),this._ui.$errorsWrapper.removeClass("filled").attr("aria-hidden","true").find(".parsley-"+t).remove()},_getErrorMessage:function(t){var e=t.name+"Message";return void 0!==this.options[e]?window.Parsley.formatMessage(this.options[e],t.requirements):window.Parsley.getErrorMessage(t)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.element.setAttribute(this.options.namespace+"id",this.__id__),t.$errorClassHandler=this._manageClassHandler(),t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),t.$errorsWrapper=u(this.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validationInformationVisible=!1,this._ui=t}},_manageClassHandler:function(){if(
"string"==typeof this.options.classHandler&&u(this.options.classHandler).length)return u(this.options.classHandler);var t=this.options.classHandler;if("string"==typeof this.options.classHandler&&"function"==typeof window[this.options.classHandler]&&(t=window[this.options.classHandler]),"function"==typeof t){var e=t.call(this,this);if(void 0!==e&&e.length)return e}else{if("object"===r(t)&&t instanceof jQuery&&t.length)return t;t&&A.warn("The class handler `"+t+"` does not exist in DOM nor as a global JS function")}return this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var t=this.options.errorsContainer;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof t){if(u(t).length)return u(t).append(this._ui.$errorsWrapper);"function"==typeof window[t]?t=window[t]:A.warn("The errors container `"+t+"` does not exist in DOM nor as a global JS function")}return"function"==typeof t&&(t=t.call(this,this)),"object"===r(t)&&t.length?t.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var t,e=this,i=this._findRelated();i.off(".Parsley"),this._failedOnce?i.on(A.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){e._validateIfNeeded()}):(t=A.namespaceEvents(this.options.trigger,"Parsley"))&&i.on(t,function(t){e._validateIfNeeded(t)})},_validateIfNeeded:function(t){var e=this;t&&/key|input/.test(t.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return e.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),void 0!==this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),void 0!==this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}})};h.prototype={onSubmitValidate:function(t){var e=this;if(!0!==t.parsley){var i=this._submitSource||this.$element.find(A._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!i||null===i.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var n=this.whenValidate({event:t});"resolved"===n.state()&&!1!==this._trigger("submit")||(t.stopImmediatePropagation(),t.preventDefault(),"pending"===n.state()&&n.done(function(){e._submit(i)}))}}},onSubmitButton:function(t){this._submitSource=t.currentTarget},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var e=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===e.length&&(e=u('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),e.attr({name:t.getAttribute("name"),value:t.getAttribute("value")})}this.$element.trigger(l(u.Event("submit"),{parsley:!0}))}},validate:function(t){if(1<=arguments.length&&!u.isPlainObject(t)){A.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var e=Array.prototype.slice.call(arguments);t={group:e[0],force:e[1],event:e[2]}}return T[this.whenValidate(t).state()]},whenValidate:function(t){var e,i=this,n=0<arguments.length&&void 0!==t?t:{},r=n.group,a=n.force,o=n.event;(this.submitEvent=o)&&(this.submitEvent=l({},o,{preventDefault:function(){A.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),i.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var s=this._withoutReactualizingFormOptions(function(){return u.map(i.fields,function(t){return t.whenValidate({force:a,group:r})})});return(e=A.all(s).done(function(){i._trigger("success")}).fail(function(){i.validationResult=!1,i.focus(),i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(e,c(this._pipeAccordingToValidationResult()))},isValid:function(t){if(1<=arguments.length&&!u.isPlainObject(t)){A.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var e=Array.prototype.slice.call(arguments);t={group:e[0],force:e[1]}}return T[this.whenValid(t).state()]},whenValid:function(t){var e=this,i=0<arguments.length&&void 0!==t?t:{},n=i.group,r=i.force;this._refreshFields();var a=this._withoutReactualizingFormOptions(function(){return u.map(e.fields,function(t){return t.whenValid({group:n,force:r})})});return A.all(a)},refresh:function(){return this._refreshFields(),this},reset:function(){for(var t=0;t<this.fields.length;t++)this.fields[t].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var r=this,t=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){r.$element.find(r.options.inputs).not(r.options.excluded).not("[".concat(r.options.namespace,"excluded=true]")).each(function(t,e){var i=new window.Parsley.Factory(e,{},r);if("Field"===i.__class__||"FieldMultiple"===i.__class__){var n=i.__class__+"-"+i.__id__;void 0===r.fieldsMappedById[n]&&(r.fieldsMappedById[n]=i,r.fields.push(i))}}),u.each(A.difference(t,r.fields),function(t,e){e.reset()})}),this},_withoutReactualizingFormOptions:function(t){var e=this.actualizeOptions;this.actualizeOptions=function(){return this};var i=t();return this.actualizeOptions=e,i},_trigger:function(t){return this.trigger("form:"+t)}};var D={pending:null,resolved:!0,rejected:(p.prototype={validate:function(t,e){var i;return(i=this.validator).validate.apply(i,[t].concat(c(this.requirementList),[e]))},_parseRequirements:function(i){var n=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(t){return i[n.name+((e=t)[0].toUpperCase()+e.slice(1))];var e})}},!1)};f.prototype={validate:function(t){1<=arguments.length&&!u.isPlainObject(t)&&(A.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),t={options:t});var e=this.whenValidate(t);if(!e)return!0;switch(e.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(t){var e,i=this,n=0<arguments.length&&void 0!==t?t:{},r=n.force,a=n.group;if(this.refresh(),!a||this._isInGroup(a))return this.value=this.getValue(),this._trigger("validate"),(e=this.whenValid({force:r,value:this.value,_refreshed:!0}).always(function(){i._reflowUI()}).done(function(){i._trigger("success")}).fail(function(){i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(e,c(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(t){return void 0===t&&(t=this.getValue()),!(!t.length&&!this._isRequired()&&void 0===this.options.validateIfEmpty)},_isInGroup:function(t){return Array.isArray(this.options.group)?-1!==u.inArray(t,this.options.group):this.options.group===t},isValid:function(t){if(1<=arguments.length&&!u.isPlainObject(t)){A.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var e=Array.prototype.slice.call(arguments);t={force:e[0],value:e[1]}}var i=this.whenValid(t);return!i||D[i.state()]},whenValid:function(t){var n=this,e=0<arguments.length&&void 0!==t?t:{},i=e.force,r=void 0!==i&&i,a=e.value,o=e.group;if(e._refreshed||this.refresh(),!o||this._isInGroup(o)){if(this.validationResult=!0,!this.hasConstraints())return u.when();if(null==a&&(a=this.getValue()),!this.needsValidation(a)&&!0!==r)return u.when();var s=this._getGroupedConstraints(),l=[];return u.each(s,function(t,e){var i=A.all(u.map(e,function(t){return n._validateConstraint(a,t)}));if(l.push(i),"rejected"===i.state())return!1}),A.all(l)}},_validateConstraint:function(t,e){var i=this,n=e.validate(t,this);return!1===n&&(n=u.Deferred().reject()),A.all([n]).fail(function(t){i.validationResult instanceof Array||(i.validationResult=[]),i.validationResult.push({assert:e,errorMessage:"string"==typeof t&&t})})},getValue:function(){var t;return null==(t="function"==typeof this.options.value?this.options.value(this):void 0!==this.options.value?this.options.value:this.$element.val())?"":this._handleWhitespace(t)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refresh:function(){return this._refreshConstraints(),this},_refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},refreshConstraints:function(){return A.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"),this.refresh()},addConstraint:function(t,e,i,n){if(window.Parsley._validatorRegistry.validators[t]){var r=new p(this,t,e,i,n);"undefined"!==this.constraintsByName[r.name]&&this.removeConstraint(r.name),this.constraints.push(r),this.constraintsByName[r.name]=r}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return delete this.constraintsByName[t],this},updateConstraint:function(t,e,i){return this.removeConstraint(t).addConstraint(t,e,i)},_bindConstraints:function(){for(var t=[],e={},i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&(t.push(this.constraints[i]),e[this.constraints[i].name]=this.constraints[i]);for(var n in this.constraints=t,this.constraintsByName=e,this.options)this.addConstraint(n,this.options[n],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var t=this.element.getAttribute("min"),e=this.element.getAttribute("max");null!==t&&null!==e?this.addConstraint("range",[t,e],void 0,!0):null!==t?this.addConstraint("min",t,void 0,!0):null!==e&&this.addConstraint("max",e,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var i=A.getType(this.element);return"number"===i?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:t||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(i)?this.addConstraint("type",i,void 0,!0):this},_isRequired:function(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(t){return this.trigger("field:"+t)},_handleWhitespace:function(t){return!0===this.options.trimValue&&A.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(t=t.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(t=A.trimString(t)),t},_isDateInput:function(){var t=this.constraintsByName.type;return t&&"date"===t.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var t=[],e={},i=0;i<this.constraints.length;i++){var n=this.constraints[i].priority;e[n]||t.push(e[n]=[]),e[n].push(this.constraints[i])}return t.sort(function(t,e){return e[0].priority-t[0].priority}),t}},g.prototype={addElement:function(t){return this.$elements.push(t),this},_refreshConstraints:function(){var t;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++)if(u("html").has(this.$elements[e]).length){t=this.$elements[e].data("FieldMultiple")._refreshConstraints().constraints;for(var i=0;i<t.length;i++)this.addConstraint(t[i].name,t[i].requirements,t[i].priority,t[i].isDomConstraint)}else this.$elements.splice(e,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if(void 0!==this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){var t=A.getType(this.element);if("radio"===t)return this._findRelated().filter(":checked").val()||"";if("checkbox"===t){var e=[];return this._findRelated().filter(":checked").each(function(){e.push(u(this).val())}),e}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}},m.prototype={init:function(t){return this.__class__="Parsley",this.__version__="2.9.2",this.__id__=A.generateID(),this._resetOptions(t),"FORM"===this.element.nodeName||A.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){var t=A.getType(this.element);return"radio"===t||"checkbox"===t||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var t,e,n=this;if(this.options.multiple=this.options.multiple||(t=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return A.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),t&&u('input[name="'+t+'"]').each(function(t,e){var i=A.getType(e);"radio"!==i&&"checkbox"!==i||e.setAttribute(n.options.namespace+"multiple",n.options.multiple)});for(var i=this._findRelated(),r=0;r<i.length;r++)if(void 0!==(e=u(i.get(r)).data("Parsley"))){this.$element.data("FieldMultiple")||e.addElement(this.$element);break}return this.bind("parsleyField",!0),e||this.bind("parsleyFieldMultiple")},bind:function(t,e){var i;switch(t){case"parsleyForm":i=u.extend(new h(this.element,this.domOptions,this.options),new n,window.ParsleyExtend)._bindFields();break;case"parsleyField":i=u.extend(new f(this.element,this.domOptions,this.options,this.parent),new n,window.ParsleyExtend);break;case"parsleyFieldMultiple":i=u.extend(new f(this.element,this.domOptions,this.options,this.parent),new g,new n,window.ParsleyExtend)._init();break;default:throw new Error(t+"is not a supported Parsley type")}return this.options.multiple&&A.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),void 0!==e?this.$element.data("FieldMultiple",i):(this.$element.data("Parsley",i),i._actualizeTriggers(),i._trigger("init")),i}};var L=u.fn.jquery.split(".");if(parseInt(L[0])<=1&&parseInt(L[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";L.forEach||A.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var E=l(new n,{element:document,$element:u(document),actualizeOptions:null,_resetOptions:null,Factory:m,version:"2.9.2"});l(f.prototype,k.Field,n.prototype),l(h.prototype,k.Form,n.prototype),l(m.prototype,n.prototype),u.fn.parsley=u.fn.psly=function(t){if(1<this.length){var e=[];return this.each(function(){e.push(u(this).parsley(t))}),e}if(0!=this.length)return new m(this[0],t)},void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),E.options=l(A.objectCreate(C),window.ParsleyConfig),window.ParsleyConfig=E.options,window.Parsley=window.psly=E,E.Utils=A,window.ParsleyUtils={},u.each(A,function(t,e){"function"==typeof e&&(window.ParsleyUtils[t]=function(){return A.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),A[t].apply(A,arguments)})});var P=window.Parsley._validatorRegistry=new t(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},u.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "),function(t,e){window.Parsley[e]=function(){return P[e].apply(P,arguments)},window.ParsleyValidator[e]=function(){var t;return A.warnOnce("Accessing the method '".concat(e,"' through Validator is deprecated. Simply call 'window.Parsley.").concat(e,"(...)'")),(t=window.Parsley)[e].apply(t,arguments)}}),window.Parsley.UI=k,window.ParsleyUI={removeError:function(t,e,i){var n=!0!==i;return A.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t.removeError(e,{updateClass:n})},getErrorsMessages:function(t){return A.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),t.getErrorsMessages()}},u.each("addError updateError".split(" "),function(t,o){window.ParsleyUI[o]=function(t,e,i,n,r){var a=!0!==r;return A.warnOnce("Accessing UI is deprecated. Call '".concat(o,"' on the instance directly. Please comment in issue 1073 as to your need to call this method.")),t[o](e,{message:i,assert:n,updateClass:a})}}),!1!==window.ParsleyConfig.autoBind&&u(function(){u("[data-parsley-validate]").length&&u("[data-parsley-validate]").parsley()});var _=u({}),I="parsley:";return u.listen=function(t,e,i){var n;if(v(),"object"===r(arguments[1])&&"function"==typeof i&&(n=arguments[1],e=arguments[2]),"function"!=typeof e)throw new Error("Wrong parameters");window.Parsley.on(b(t),x(e,n))},u.listenTo=function(t,e,i){if(v(),!(t instanceof f||t instanceof h))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof i)throw new Error("Wrong parameters");t.on(b(e),x(i))},u.unsubscribe=function(t,e){if(v(),"string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");window.Parsley.off(b(t),e.parsleyAdaptedCallback)},u.unsubscribeTo=function(t,e){if(v(),!(t instanceof f||t instanceof h))throw new Error("Must give Parsley instance");t.off(b(e))},u.unsubscribeAll=function(e){v(),window.Parsley.off(b(e)),u("form,input,textarea,select").each(function(){var t=u(this).data("Parsley");t&&t.off(b(e))})},u.emit=function(t,e){v();var i=e instanceof f||e instanceof h,n=Array.prototype.slice.call(arguments,i?2:1);n.unshift(b(t)),i||(e=window.Parsley),e.trigger.apply(e,c(n))},u.extend(!0,E,{asyncValidators:{"default":{fn:function(t){return 200<=t.status&&t.status<300},url:!1},reverse:{fn:function(t){return t.status<200||300<=t.status},url:!1}},addAsyncValidator:function(t,e,i,n){return E.asyncValidators[t]={fn:e,url:i||!1,options:n||{}},this}}),E.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,e,i,n){function r(){var t=E.asyncValidators[l].fn.call(n,h,e,i);return t=t||u.Deferred().reject(),u.when(t)}var a,o,s={},l=i.validator||(!0===i.reverse?"reverse":"default");if(void 0===E.asyncValidators[l])throw new Error("Calling an undefined async validator: `"+l+"`");-1<(e=E.asyncValidators[l].url||e).indexOf("{value}")?e=e.replace("{value}",encodeURIComponent(t)):s[n.element.getAttribute("name")||n.element.getAttribute("id")]=t;var c=u.extend(!0,i.options||{},E.asyncValidators[l].options);a=u.extend(!0,{},{url:e,data:s,type:"GET"},c),n.trigger("field:ajaxoptions",n,a),o=u.param(a),void 0===E._remoteCache&&(E._remoteCache={});var h=E._remoteCache[o]=E._remoteCache[o]||u.ajax(a);return h.then(r,r)},priority:-1}),E.on("form:submit",function(){E._remoteCache={}}),n.prototype.addAsyncValidator=function(){return A.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),E.addAsyncValidator.apply(E,arguments)},E.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same.",euvatin:"It's not a valid VAT Identification Number."}),E.setLocale("en"),(new function(){var n=this,r=window||global;l(this,{isNativeEvent:function(t){return t.originalEvent&&!1!==t.originalEvent.isTrusted},fakeInputEvent:function(t){n.isNativeEvent(t)&&u(t.target).trigger("input")},misbehaves:function(t){n.isNativeEvent(t)&&(n.behavesOk(t),u(document).on("change.inputevent",t.data.selector,n.fakeInputEvent),n.fakeInputEvent(t))},behavesOk:function(t){n.isNativeEvent(t)&&u(document).off("input.inputevent",t.data.selector,n.behavesOk).off("change.inputevent",t.data.selector,n.misbehaves)},install:function(){if(!r.inputEventPatched){r.inputEventPatched="0.0.3";for(var t=0,e=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'];t<e.length;t++){var i=e[t];u(document).on("input.inputevent",i,{selector:i},n.behavesOk).on("change.inputevent",i,{selector:i},n.misbehaves)}}},uninstall:function(){delete r.inputEventPatched,u(document).off(".inputevent")}})}).install(),E}),function(){}.call(this),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype["delete"]=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(t){function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function o(i,n){for(;3===i._state;)i=i._value;return 0===i._state?void i._deferreds.push(n):(i._handled=!0,void d(function(){var t=1===i._state?n.onFulfilled:n.onRejected;if(null!==t){var e;try{e=t(i._value)}catch(o){return void l(n.promise,o)}s(n.promise,e)}else(1===i._state?s:l)(n.promise,i._value)}))}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof a)return t._state=3,t._value=e,void c(t);if("function"==typeof i)return void u(r(i,e),t)}t._state=1,t._value=e,c(t)}catch(s){l(t,s)}}function l(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&setTimeout(function(){t._handled||p(t._value)},1);for(var e=0,i=t._deferreds.length;e<i;e++)o(t,t._deferreds[e]);t._deferreds=null}function h(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function u(t,e){var i=!1;try{t(function(t){i||(i=!0,s(e,t))},function(t){i||(i=!0,l(e,t))})}catch(a){if(i)return;i=!0,l(e,a)}}var e=setTimeout,d="function"==typeof setImmediate&&setImmediate||function(t){e(t,1)},p=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};a.prototype["catch"]=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var i=new a(n);return o(this,new h(t,e,i)),i},a.all=function(t){var s=Array.prototype.slice.call(t);return new a(function(n,r){function a(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void i.call(t,function(t){a(e,t)},r)}s[e]=t,0==--o&&n(s)}catch(h){r(h)}}if(0===s.length)return n([]);for(var o=s.length,t=0;t<s.length;t++)a(t,s[t])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(i){return new a(function(t,e){e(i)})},a.race=function(r){return new a(function(t,e){for(var i=0,n=r.length;i<n;i++)r[i].then(t,e)})},a._setImmediateFn=function(t){d=t},a._setUnhandledRejectionFn=function(t){p=t},"undefined"!=typeof module&&module.exports?module.exports=a:t.Promise||(t.Promise=a)}(this),"undefined"==typeof WeakMap&&function(){var n=Object.defineProperty,t=Date.now()%1e9,e=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};e.prototype={set:function(t,e){var i=t[this.name];return i&&i[0]===t?i[1]=e:n(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=e}(),function(t){function r(t){A.push(t),w||(w=!0,g(e))}function a(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function e(){w=!1;var t=A;A=[],t.sort(function(t,e){return t.uid_-e.uid_});var i=!1;t.forEach(function(t){var e=t.takeRecords();n(t),e.length&&(t.callback_(e,t),i=!0)}),i&&e()}function n(i){i.nodes_.forEach(function(t){var e=m.get(t);e&&e.forEach(function(t){t.observer===i&&t.removeTransientObservers()})})}function u(t,e){for(var i=t;i;i=i.parentNode){var n=m.get(i);if(n)for(var r=0;r<n.length;r++){var a=n[r],o=a.options;if(i===t||o.subtree){var s=e(o);s&&a.enqueue(s)}}}}function i(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++C}function o(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function s(t){var e=new o(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function d(t,e){return b=new o(t,e)}function p(t){return y||((y=s(b)).oldValue=t,y)}function f(){b=y=void 0}function l(t){return t===y||t===b}function c(t,e){return t===e?t:y&&l(t)?y:null}function h(t,e,i){this.observer=t,this.target=e,this.options=i,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var g,m=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))g=setTimeout;else if(window.setImmediate)g=window.setImmediate;else{var v=[],x=String(Math.random());window.addEventListener("message",function(t){if(t.data===x){var e=v;v=[],e.forEach(function(t){t()})}}),g=function(t){v.push(t),window.postMessage(x,"*")}}var b,y,w=!1,A=[],C=0;i.prototype={observe:function(t,e){if(t=a(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i=m.get(t);i||m.set(t,i=[]);for(var n,r=0;r<i.length;r++)if(i[r].observer===this){(n=i[r]).removeListeners(),n.options=e;break}n||(n=new h(this,t,e),i.push(n),this.nodes_.push(t)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=m.get(t),i=0;i<e.length;i++){var n=e[i];if(n.observer===this){n.removeListeners(),e.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},h.prototype={enqueue:function(t){var e=this.observer.records_,i=e.length;if(0<e.length){var n=c(e[i-1],t);if(n)return void(e[i-1]=n)}else r(this.observer);e[i]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=m.get(t);e||m.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=m.get(t),i=0;i<e.length;i++)if(e[i]===this){e.splice(i,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,i=t.relatedNode.namespaceURI,n=t.target;(a=new d("attributes",n)).attributeName=e,a.attributeNamespace=i;var r=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;u(n,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(i)?void 0:t.attributeOldValue?p(r):a});break;case"DOMCharacterDataModified":var a=d("characterData",n=t.target);r=t.prevValue;u(n,function(t){return t.characterData?t.characterDataOldValue?p(r):a:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var o,s,l=t.target;"DOMNodeInserted"===t.type?(o=[l],s=[]):(o=[],s=[l]);var c=l.previousSibling,h=l.nextSibling;(a=d("childList",t.target.parentNode)).addedNodes=o,a.removedNodes=s,a.previousSibling=c,a.nextSibling=h,u(t.relatedNode,function(t){return t.childList?a:void 0})}f()}},t.JsMutationObserver=i,t.MutationObserver||((t.MutationObserver=i)._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}var e,i;if(window.requestAnimationFrame||(window.requestAnimationFrame=(e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(t){return e(function(){t(performance.now())})}:function(t){return window.setTimeout(t,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}),!((i=document.createEvent("Event")).initEvent("foo",!0,!0),i.preventDefault(),i.defaultPrevented)){var n=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(n.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var r=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||r&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),i},window.CustomEvent.prototype=window.Event.prototype),!window.Event||r&&"function"!=typeof window.Event){var a=window.Event;window.Event=function(t,e){e=e||{}
;var i=document.createEvent("Event");return i.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),i},window.Event.prototype=a.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,i=[],n=function(t){i.push(t)},r=function(){i.forEach(function(t){t(e)})};e.addModule=n,e.initializeModules=r,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function n(t,e){r(t,function(t){return!!e(t)||void i(t,e)}),i(t,e)}function r(t,e,i){var n=t.firstElementChild;if(!n)for(n=t.firstChild;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.nextSibling;for(;n;)!0!==e(n,i)&&r(n,e,i),n=n.nextElementSibling;return null}function i(t,e){for(var i=t.shadowRoot;i;)n(i,e),i=i.olderShadowRoot}function e(t,e){s(t,e,[])}function s(t,e,i){if(t=window.wrap(t),!(0<=i.indexOf(t))){i.push(t);for(var n,r=t.querySelectorAll("link[rel="+l+"]"),a=0,o=r.length;a<o&&(n=r[a]);a++)n["import"]&&s(n["import"],e,i);e(t)}}var l=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=e,t.forSubtree=n}),window.CustomElements.addModule(function(i){function o(t,e){return n(t,e)||r(t,e)}function n(t,e){return!!i.upgrade(t,e)||void(e&&s(t))}function r(t,e){b(t,function(t){return!!n(t,e)||void 0})}function e(t){C.push(t),A||(A=!0,setTimeout(a))}function a(){A=!1;for(var t,e=C,i=0,n=e.length;i<n&&(t=e[i]);i++)t();C=[]}function s(t){w?e(function(){l(t)}):l(t)}function l(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function c(t){h(t),b(t,function(t){h(t)})}function h(t){w?e(function(){u(t)}):u(t)}function u(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function d(t){for(var e=t,i=window.wrap(document);e;){if(e==i)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function t(t){if(t.shadowRoot&&!t.shadowRoot.__watched){x.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)g(e),e=e.olderShadowRoot}}function p(t,e){if(x.dom){var i=e[0];if(i&&"childList"===i.type&&i.addedNodes&&i.addedNodes){for(var n=i.addedNodes[0];n&&n!==document&&!n.host;)n=n.parentNode;var r=n&&(n.URL||n._URL||n.host&&n.host.localName)||"";r=r.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,r||"")}var a=d(t);e.forEach(function(t){"childList"===t.type&&(S(t.addedNodes,function(t){t.localName&&o(t,a)}),S(t.removedNodes,function(t){t.localName&&c(t)}))}),x.dom&&console.groupEnd()}function f(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(p(t,e.takeRecords()),a())}function g(t){if(!t.__observer){var e=new MutationObserver(p.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function m(t){t=window.wrap(t),x.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop()),o(t,t===window.wrap(document)),g(t),x.dom&&console.groupEnd()}function v(t){y(t,m)}var x=i.flags,b=i.forSubtree,y=i.forDocumentTree,w=window.MutationObserver._isPolyfilled&&x["throttle-attached"];i.hasPolyfillMutations=w,i.hasThrottledAttached=w;var A=!1,C=[],S=Array.prototype.forEach.call.bind(Array.prototype.forEach),k=Element.prototype.createShadowRoot;k&&(Element.prototype.createShadowRoot=function(){var t=k.call(this);return window.CustomElements.watchShadow(this),t}),i.watchShadow=t,i.upgradeDocumentTree=v,i.upgradeDocument=m,i.upgradeSubtree=r,i.upgradeAll=o,i.attached=s,i.takeRecords=f}),window.CustomElements.addModule(function(r){function t(t,e){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var i=t.getAttribute("is"),n=r.getRegisteredDefinition(t.localName)||r.getRegisteredDefinition(i);if(n&&(i&&n.tag==t.localName||!i&&!n["extends"]))return a(t,n,e)}}function a(t,e,i){return s.upgrade&&console.group("upgrade:",t.localName),e.is&&t.setAttribute("is",e.is),n(t,e),t.__upgraded__=!0,o(t),i&&r.attached(t),r.upgradeSubtree(t,i),s.upgrade&&console.groupEnd(),t}function n(t,e){Object.__proto__||i(t,e.prototype,e["native"]),t.__proto__=e.prototype}function i(t,e,i){for(var n={},r=e;r!==i&&r!==HTMLElement.prototype;){for(var a,o=Object.getOwnPropertyNames(r),s=0;a=o[s];s++)n[a]||(Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a)),n[a]=1);r=Object.getPrototypeOf(r)}}function o(t){t.createdCallback&&t.createdCallback()}var s=r.flags;r.upgrade=t,r.upgradeWithDefinition=a,r.implementPrototype=n}),window.CustomElements.addModule(function(n){function t(t,e){var i=e||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(o(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(h(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return i.prototype||(i.prototype=Object.create(HTMLElement.prototype)),i.__name=t.toLowerCase(),i["extends"]&&(i["extends"]=i["extends"].toLowerCase()),i.lifecycle=i.lifecycle||{},i.ancestry=s(i["extends"]),l(i),c(i),r(i.prototype),u(i.__name,i),i.ctor=d(i),i.ctor.prototype=i.prototype,i.prototype.constructor=i.ctor,n.ready&&m(document),i.ctor}function r(t){if(!t.setAttribute._polyfilled){var i=t.setAttribute;t.setAttribute=function(t,e){a.call(this,t,e,i)};var e=t.removeAttribute;t.removeAttribute=function(t){a.call(this,t,null,e)},t.setAttribute._polyfilled=!0}}function a(t,e,i){t=t.toLowerCase();var n=this.getAttribute(t);i.apply(this,arguments);var r=this.getAttribute(t);this.attributeChangedCallback&&r!==n&&this.attributeChangedCallback(t,n,r)}function o(t){for(var e=0;e<w.length;e++)if(t===w[e])return!0}function s(t){var e=h(t);return e?s(e["extends"]).concat([e]):[]}function l(t){for(var e,i=t["extends"],n=0;e=t.ancestry[n];n++)i=e.is&&e.tag;t.tag=i||t.__name,i&&(t.is=t.__name)}function c(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var i=document.createElement(t.tag);e=Object.getPrototypeOf(i)}for(var n,r=t.prototype,a=!1;r;)r==e&&(a=!0),(n=Object.getPrototypeOf(r))&&(r.__proto__=n),r=n;a||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t["native"]=e}}function e(t){return x(S(t.tag),t)}function h(t){return t?A[t.toLowerCase()]:void 0}function u(t,e){A[t]=e}function d(t){return function(){return e(t)}}function i(t,e,i){return t===C?p(e,i):k(t,e)}function p(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var i,n=h(e||t);if(n){if(t==n.tag&&e==n.is)return new n.ctor;if(!e&&!n.is)return new n.ctor}return e?(i=p(t)).setAttribute("is",e):(i=S(t),0<=t.indexOf("-")&&b(i,HTMLElement)),i}function f(t,e){var i=t[e];t[e]=function(){var t=i.apply(this,arguments);return v(t),t}}var g,m=(n.isIE,n.upgradeDocumentTree),v=n.upgradeAll,x=n.upgradeWithDefinition,b=n.implementPrototype,y=n.useNative,w=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],A={},C="http://www.w3.org/1999/xhtml",S=document.createElement.bind(document),k=document.createElementNS.bind(document);g=Object.__proto__||y?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var i=t;i;){if(i===e.prototype)return!0;i=i.__proto__}return!1},f(Node.prototype,"cloneNode"),f(document,"importNode"),document.registerElement=t,document.createElement=p,document.createElementNS=i,n.registry=A,n["instanceof"]=g,n.reservedTagList=w,n.getRegisteredDefinition=h,document.register=document.registerElement}),function(t){function e(){a(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var i=t.useNative,n=t.initializeModules;if(t.isIE,i){var r=function(){};t.watchShadow=r,t.upgrade=r,t.upgradeAll=r,t.upgradeDocumentTree=r,t.upgradeSubtree=r,t.takeRecords=r,t["instanceof"]=function(t,e){return t instanceof e}}else n();var a=t.upgradeDocumentTree,o=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&o(wrap(t["import"]))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,e)}else e()}(window.CustomElements),function(){}.call(this),function(){var t=this;(function(){(function(){this.Trix={VERSION:"0.10.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"\xa0",OBJECT_REPLACEMENT_CHARACTER:"\ufffc",config:{}}}).call(this)}).call(t);var P=t.Trix;(function(){(function(){P.BasicObject=function(){function t(){}var o,s,n;return t.proxyMethod=function(t){var i,n,e,r,a;return e=s(t),i=e.name,r=e.toMethod,a=e.toProperty,n=e.optional,this.prototype[i]=function(){var t,e;return t=null!=r?n?"function"==typeof this[r]?this[r]():void 0:this[r]():null!=a?this[a]:void 0,n?null!=(e=null!=t?t[i]:void 0)?o.call(e,t,arguments):void 0:(e=t[i],o.call(e,t,arguments))}},s=function(t){var e,i;if(!(i=t.match(n)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:i[4]},null!=i[2]?e.toMethod=i[1]:e.toProperty=i[1],null!=i[3]&&(e.optional=!0),e},o=Function.prototype.apply,n=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Object=function(t){function e(){this.id=++i}var i;return n(e,t),i=0,e.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},e.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},e.prototype.isEqualTo=function(t){return this===t},e.prototype.inspect=function(){var t,n,r;return t=function(){var t,e,i;for(n in i=[],e=null!=(t=this.contentsForInspection())?t:{})r=e[n],i.push(n+"="+r);return i}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},e.prototype.contentsForInspection=function(){},e.prototype.toJSONString=function(){return JSON.stringify(this)},e.prototype.toUTF16String=function(){return P.UTF16String.box(this)},e.prototype.getCacheKey=function(){return this.id.toString()},e}(P.BasicObject)}.call(this),function(){P.extend=function(t){var e,i;for(e in t)i=t[e],this[e]=i;return this}}.call(this),function(){P.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var s,o;P.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+P.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+P.NON_BREAKING_SPACE,"g")," ")},summarizeStringChange:function(t,e){var i,n,r,a;return t=P.UTF16String.box(t),(e=P.UTF16String.box(e)).length<t.length?(a=(n=o(t,e))[0],i=n[1]):(i=(r=o(e,t))[0],a=r[1]),{added:i,removed:a}}}),o=function(t,e){var i,n,r,a,o;return t.isEqualTo(e)?["",""]:(r=(a=(n=s(t,e)).utf16String.length)?(o=n.offset,i=t.codepoints.slice(0,o).concat(t.codepoints.slice(o+a)),s(e,P.UTF16String.fromCodepoints(i))):s(e,t),[n.utf16String.toString(),r.utf16String.toString()])},s=function(t,e){var i,n,r;for(i=0,n=t.length,r=e.length;i<n&&t.charAt(i).isEqualTo(e.charAt(i));)i++;for(;i+1<n&&t.charAt(n-1).isEqualTo(e.charAt(r-1));)n--,r--;return{utf16String:t.slice(i,n),offset:i}}}.call(this),function(){P.extend({copyObject:function(t){var e,i,n;for(e in null==t&&(t={}),i={},t)n=t[e],i[e]=n;return i},objectsAreEqual:function(t,e){var i;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(i in t)if(t[i]!==e[i])return!1;return!0}})}.call(this),function(){var r=[].slice;P.extend({arraysAreEqual:function(t,e){var i,n,r;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(n=i=0,r=t.length;i<r;n=++i)if(t[n]!==e[n])return!1;return!0},arrayStartsWith:function(t,e){return null==t&&(t=[]),null==e&&(e=[]),P.arraysAreEqual(t.slice(0,e.length),e)},spliceArray:function(t){var e,i,n;return i=t,e=2<=arguments.length?r.call(arguments,1):[],(n=i.slice(0)).splice.apply(n,e),n},summarizeArrayChange:function(t,e){var i,n,r,a,o,s,l,c,h,u,d;for(null==t&&(t=[]),null==e&&(e=[]),i=[],u=[],r=new Set,a=0,l=t.length;a<l;a++)d=t[a],r.add(d);for(n=new Set,o=0,c=e.length;o<c;o++)d=e[o],n.add(d),r.has(d)||i.push(d);for(s=0,h=t.length;s<h;s++)d=t[s],n.has(d)||u.push(d);return{added:i,removed:u}}})}.call(this),function(){var t,e,r,i;r=i=e=t=null,P.extend({getAllAttributeNames:function(){return null!=t?t:t=P.getTextAttributeNames().concat(P.getBlockAttributeNames())},getBlockConfig:function(t){return P.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=e?e:e=Object.keys(P.config.blockAttributes)},getTextConfig:function(t){return P.config.textAttributes[t]},getTextAttributeNames:function(){return null!=i?i:i=Object.keys(P.config.textAttributes)},getListAttributeNames:function(){var i,n;return null!=r?r:r=function(){var t,e;for(i in e=[],t=P.config.blockAttributes)null!=(n=t[i].listAttribute)&&e.push(n);return e}()}})}.call(this),function(){var p,i,t,e,n,r=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};p=document.documentElement,i=null!=(t=null!=(e=null!=(n=p.matchesSelector)?n:p.webkitMatchesSelector)?e:p.msMatchesSelector)?t:p.mozMatchesSelector,P.extend({handleEvent:function(t,e){var i,n,r,a,o,s,l,c,h,u,d;return o=(l=null!=e?e:{}).onElement,a=l.matchingSelector,d=l.withCallback,r=l.inPhase,s=l.preventDefault,h=l.times,i=null!=o?o:p,c=a,d,u="capturing"===r,(n=function(t){var e;return null!=h&&0==--h&&n.destroy(),null!=(e=P.findClosestElementFromNode(t.target,{matchingSelector:c}))&&(null!=d&&d.call(e,t,e),s)?t.preventDefault():void 0}).destroy=function(){return i.removeEventListener(t,n,u)},i.addEventListener(t,n,u),n},handleEventOnce:function(t,e){return null==e&&(e={}),e.times=1,P.handleEvent(t,e)},triggerEvent:function(t,e){var i,n,r,a,o,s,l;return s=(l=null!=e?e:{}).onElement,n=l.bubbles,r=l.cancelable,i=l.attributes,a=null!=s?s:p,n=!1!==n,r=!1!==r,(o=document.createEvent("Events")).initEvent(t,n,r),null!=i&&P.extend.call(o,i),a.dispatchEvent(o)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?i.call(t,e):void 0},findClosestElementFromNode:function(t,e){var i,n,r;for(i=(n=null!=e?e:{}).matchingSelector,r=n.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==i)return t;if(t.closest&&null==r)return t.closest(i);for(;t&&t!==r;){if(P.elementMatchesSelector(t,i))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&P.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var i;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(i=t.firstChild)?i:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,e){var i;return i=P.findNodeFromContainerAndOffset(t,e),P.findClosestElementFromNode(i)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},walkTree:function(t,e){var i,n,r,a,o;return n=(r=null!=e?e:{}).onlyNodesOfType,a=r.usingFilter,i=r.expandEntityReferences,o=function(){switch(n){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,o,null!=a?a:null,!0===i)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var i,n,r,a,o,s,l,c,h,u;if(null==e&&(e={}),"object"==typeof t?t=(e=t).tagName:e={attributes:e},n=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(a in s=e.attributes)u=s[a],n.setAttribute(a,u);if(e.style)for(a in l=e.style)u=l[a],n.style[a]=u;if(e.data)for(a in c=e.data)u=c[a],n.dataset[a]=u;if(e.className)for(r=0,o=(h=e.className.split(" ")).length;r<o;r++)i=h[r],n.classList.add(i);return e.textContent&&(n.textContent=e.textContent),n},cloneFragment:function(t){var e,i,n,r,a;for(e=document.createDocumentFragment(),i=0,n=(a=t.childNodes).length;i<n;i++)r=a[i],e.appendChild(r.cloneNode(!0));return e},makeFragment:function(t){var e,i,n;for(null==t&&(t=""),(e=document.createElement("div")).innerHTML=t,i=document.createDocumentFragment();n=e.firstChild;)i.appendChild(n);return i},getBlockTagNames:function(){var i,n;return null!=P.blockTagNames?P.blockTagNames:P.blockTagNames=function(){var t,e;for(i in e=[],t=P.config.blockAttributes)n=t[i],e.push(n.tagName);return e}()},nodeIsBlockContainer:function(t){return P.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var e,i;return e=P.tagName(t),0<=r.call(P.getBlockTagNames(),e)&&(i=P.tagName(t.firstChild),r.call(P.getBlockTagNames(),i)<0)},nodeIsBlockStart:function(t,e){return(null!=e?e:{strict:!0}).strict?P.nodeIsBlockStartComment(t):P.nodeIsBlockStartComment(t)||!P.nodeIsBlockStartComment(t.firstChild)&&P.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return P.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t){return t?P.nodeIsTextNode(t)?t.data===P.ZERO_WIDTH_SPACE:P.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return P.elementMatchesSelector(t,P.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return P.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var e,i,l,n,c;e=P.copyObject,n=P.objectsAreEqual,P.extend({normalizeRange:l=function(t){var e;if(null!=t)return Array.isArray(t)||(t=[t,t]),[i(t[0]),i(null!=(e=t[1])?e:t[0])]},rangeIsCollapsed:function(t){var e,i,n;if(null!=t)return n=(i=l(t))[0],e=i[1],c(n,e)},rangesAreEqual:function(t,e){var i,n,r,a,o,s;if(null!=t&&null!=e)return n=(r=l(t))[0],i=r[1],s=(a=l(e))[0],o=a[1],c(n,s)&&c(i,o)}}),i=function(t){return"number"==typeof t?t:e(t)},c=function(t,e){return"number"==typeof t?t===e:n(t,e)}}.call(this),function(){var c,i,h,u;c={extendsTagName:"div",css:"%t { display: block; }"},P.registerElement=function(t,e){var i,n,r,a,o,s,l;return null==e&&(e={}),t=t.toLowerCase(),a=null!=(l=(o=u(e)).extendsTagName)?l:c.extendsTagName,delete o.extendsTagName,n=o.defaultCSS,delete o.defaultCSS,null!=n&&a===c.extendsTagName?n+="\n"+c.css:n=c.css,h(n,t),(r=Object.getPrototypeOf(document.createElement(a))).__super__=r,s=Object.create(r,o),i=document.registerElement(t,{prototype:s}),Object.defineProperty(s,"constructor",{value:i}),i},h=function(t,e){return i(e).textContent=t.replace(/%t/g,e)},i=function(t){var e;return(e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase()),document.head.insertBefore(e,document.head.firstChild),e},u=function(t){var e,i,n;for(e in i={},t)n=t[e],i[e]="function"==typeof n?{value:n}:n;return i}}.call(this),function(){var i,e;P.extend({getDOMSelection:function(){var t;return 0<(t=window.getSelection()).rangeCount?t:void 0},getDOMRange:function(){var t,e;return(t=null!=(e=P.getDOMSelection())?e.getRangeAt(0):void 0)&&!i(t)?t:void 0},setDOMRange:function(t){var e;return(e=window.getSelection()).removeAllRanges(),e.addRange(t),P.selectionChangeObserver.update()}}),i=function(t){return e(t.startContainer)||e(t.endContainer)},e=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){}.call(this),function(){var o,l=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=P.arraysAreEqual,P.Hash=function(t){function e(t){null==t&&(t={}),this.values=a(t),e.__super__.constructor.apply(this,arguments)}var s,a,i,n,r;return l(e,t),e.fromCommonAttributesOfObjects=function(t){var e,i,n,r,a,o;if(null==t&&(t=[]),!t.length)return new this;for(n=(e=s(t[0])).getKeys(),i=0,r=(o=t.slice(1)).length;i<r;i++)a=o[i],n=e.getKeysCommonToHash(s(a)),e=e.slice(n);return e},e.box=function(t){return s(t)},e.prototype.add=function(t,e){return this.merge(n(t,e))},e.prototype.remove=function(t){return new P.Hash(a(this.values,t))},e.prototype.get=function(t){return this.values[t]},e.prototype.has=function(t){return t in this.values},e.prototype.merge=function(t){return new P.Hash(i(this.values,r(t)))},e.prototype.slice=function(t){var e,i,n,r;for(r={},e=0,n=t.length;e<n;e++)i=t[e],this.has(i)&&(r[i]=this.values[i]);return new P.Hash(r)},e.prototype.getKeys=function(){return Object.keys(this.values)},e.prototype.getKeysCommonToHash=function(t){var e,i,n,r,a;for(t=s(t),a=[],e=0,n=(r=this.getKeys()).length;e<n;e++)i=r[e],this.values[i]===t.values[i]&&a.push(i);return a},e.prototype.isEqualTo=function(t){return o(this.toArray(),s(t).toArray())},e.prototype.isEmpty=function(){return 0===this.getKeys().length},e.prototype.toArray=function(){var e,i,n;return(null!=this.array?this.array:this.array=function(){var t;for(e in i=[],t=this.values)n=t[e],i.push(e,n);return i}.call(this)).slice(0)},e.prototype.toObject=function(){return a(this.values)},e.prototype.toJSON=function(){return this.toObject()},e.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},n=function(t,e){var i;return(i={})[t]=e,i},i=function(t,e){var i,n,r;for(i in n=a(t),e)r=e[i],n[i]=r;return n},a=function(t,e){var i,n,r,a,o;for(a={},i=0,r=(o=Object.keys(t).sort()).length;i<r;i++)(n=o[i])!==e&&(a[n]=t[n]);return a},s=function(t){return t instanceof P.Hash?t:new P.Hash(t)},r=function(t){return t instanceof P.Hash?t.values:t},e}(P.Object)}.call(this),function(){P.ObjectGroup=function(){function t(t,e){var i,n;this.objects=null!=t?t:[],n=e.depth,(i=e.asTree)&&(this.depth=n,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}return t.groupObjects=function(t,e){var i,n,r,a,o,s,l,c,h;for(null==t&&(t=[]),r=(h=null!=e?e:{}).depth,(i=h.asTree)&&null==r&&(r=0),c=[],o=0,s=t.length;o<s;o++){if(l=t[o],a){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)&&("function"==typeof(n=a[a.length-1]).canBeGroupedWith?n.canBeGroupedWith(l,r):void 0)){a.push(l);continue}c.push(new this(a,{depth:r,asTree:i})),a=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)?a=[l]:c.push(l)}return a&&c.push(new this(a,{depth:r,asTree:i})),c},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,i,n,r;for(e=["objectGroup"],t=0,i=(r=this.getObjects()).length;t<i;t++)n=r[t],e.push(n.getCacheKey());return e.join("/")},t}()}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.ObjectMap=function(t){function e(t){var e,i,n,r,a;for(null==t&&(t=[]),this.objects={},n=0,r=t.length;n<r;n++)a=t[n],i=JSON.stringify(a),null==(e=this.objects)[i]&&(e[i]=a)}return i(e,t),e.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},e}(P.BasicObject)}.call(this),function(){P.ElementStore=function(){function t(t){this.reset(t)}var n;return t.prototype.add=function(t){var e;return e=n(t),this.elements[e]=t},t.prototype.remove=function(t){var e,i;return e=n(t),(i=this.elements[e])?(delete this.elements[e],i):void 0},t.prototype.reset=function(t){var e,i,n;for(null==t&&(t=[]),this.elements={},i=0,n=t.length;i<n;i++)e=t[i],this.add(e);return t},n=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Operation=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.isPerforming=function(){return!0===this.performing},e.prototype.hasPerformed=function(){return!0===this.performed},e.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},e.prototype.hasFailed=function(){return this.performed&&!this.succeeded},e.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise((r=this,function(i,n){return r.performing=!0,r.perform(function(t,e){return r.succeeded=t,r.performing=!1,r.performed=!0,r.succeeded?i(e):n(e)})}));var r},e.prototype.perform=function(t){return t(!1)},e.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},e.proxyMethod("getPromise().then"),e.proxyMethod("getPromise().catch"),e}(P.BasicObject)}.call(this),function(){var t,e,i,n,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;P.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return a(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,n(t))},e.fromCodepoints=function(t){return new this(r(t),t)},e.prototype.offsetToUCS2Offset=function(t){return r(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return n(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(P.BasicObject),t=1===("function"==typeof Array.from?Array.from("\ud83d\udc7c").length:void 0),e=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),i=" \ud83d\udc7c"===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),n=t&&e?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,i,n,r,a;for(r=[],e=0,n=t.length;e<n;)55296<=(a=t.charCodeAt(e++))&&a<=56319&&e<n&&(56320==(64512&(i=t.charCodeAt(e++)))?a=((1023&a)<<10)+(1023&i)+65536:e--),r.push(a);return r},r=i?function(t){return String.fromCodePoint.apply(String,t)}:function(n){var r,a;return function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)a=n[t],r="",65535<a&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),i.push(r+String.fromCharCode(a));return i}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){P.config.lang={bold:"Bold",bullets:"Bullets","byte":"Byte",bytes:"Bytes",captionPlaceholder:"Type a caption here\u2026",captionPrompt:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){P.config.css={classNames:{attachment:{container:"attachment",typePrefix:"attachment-",caption:"caption",captionEdited:"caption-edited",captionEditor:"caption-editor",editingCaption:"caption-editing",progressBar:"progress",removeButton:"remove icon",size:"size"}}}}.call(this),function(){var e;P.config.blockAttributes=e={"default":{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(t){return P.tagName(t.parentNode)===e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(t){return P.tagName(t.parentNode)===e[this.listAttribute].tagName}}}}.call(this),function(){var n,r;n=P.config.lang,r=[n.bytes,n.KB,n.MB,n.GB,n.TB,n.PB],P.config.fileSize={prefix:"IEC",precision:2,formatter:function(t){var e,i;switch(t){case 0:return"0 "+n.bytes;case 1:return"1 "+n["byte"];default:return e=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),i=Math.floor(Math.log(t)/Math.log(e)),(t/Math.pow(e,i)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+r[i]}}}}.call(this),function(){P.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return"bold"===(e=window.getComputedStyle(t)).fontWeight||600<=e.fontWeight}},italic:{tagName:"em",inheritable:!0,parser:function(t){return"italic"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:"a",parser:function(t){var e,i;return i="a:not("+P.AttachmentView.attachmentSelector+")",(e=P.findClosestElementFromNode(t,{matchingSelector:i}))?e.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var b,y,w,A,C;C="[data-trix-serialize=false]",A=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable"],w="["+(y="data-trix-serialized-attributes")+"]",b=new RegExp("<!--block-->","g"),P.extend({serializers:{"application/json":function(t){var e;if(t instanceof P.Document)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=P.Document.fromHTML(t.innerHTML)}return e.toSerializableDocument().toJSONString()},"text/html":function(t){var e,i,n,r,a,o,s,l,c,h,u,d,p,f,g,m,v;if(t instanceof P.Document)r=P.DocumentView.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");r=t.cloneNode(!0)}for(a=0,c=(f=r.querySelectorAll(C)).length;a<c;a++)(n=f[a]).parentNode.removeChild(n);for(o=0,h=A.length;o<h;o++)for(e=A[o],s=0,u=(g=r.querySelectorAll("["+e+"]")).length;s<u;s++)(n=g[s]).removeAttribute(e);for(l=0,d=(m=r.querySelectorAll(w)).length;l<d;l++){n=m[l];try{for(p in i=JSON.parse(n.getAttribute(y)),n.removeAttribute(y),i)v=i[p],n.setAttribute(p,v)}catch(x){}}return r.innerHTML.replace(b,"")}},deserializers:{"application/json":function(t){return P.Document.fromJSONString(t)},"text/html":function(t){return P.Document.fromHTML(t)}},serializeToContentType:function(t,e){var i;if(i=P.serializers[e])return i(t);throw new Error("unknown content type: "+e)},deserializeFromContentType:function(t,e){var i;if(i=P.deserializers[e])return i(t);throw new Error("unknown content type: "+e)}})}.call(this),function(){var t,e;e=P.makeFragment,t=P.config.lang,P.config.toolbar={content:e(
'<div class="button_row">\n  <span class="button_group text_tools">\n    <button type="button" class="icon bold" data-trix-attribute="bold" data-trix-key="b" title="'+t.bold+'">'+t.bold+'</button>\n    <button type="button" class="icon italic" data-trix-attribute="italic" data-trix-key="i" title="'+t.italic+'">'+t.italic+'</button>\n    <button type="button" class="icon strike" data-trix-attribute="strike" title="'+t.strike+'">'+t.strike+'</button>\n    <button type="button" class="icon link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+t.link+'">'+t.link+'</button>\n  </span>\n\n  <span class="button_group block_tools">\n    <button type="button" class="icon heading-1" data-trix-attribute="heading1" title="'+t.heading1+'">'+t.heading1+'</button>\n    <button type="button" class="icon quote" data-trix-attribute="quote" title="'+t.quote+'">'+t.quote+'</button>\n    <button type="button" class="icon code" data-trix-attribute="code" title="'+t.code+'">'+t.code+'</button>\n    <button type="button" class="icon list bullets" data-trix-attribute="bullet" title="'+t.bullets+'">'+t.bullets+'</button>\n    <button type="button" class="icon list numbers" data-trix-attribute="number" title="'+t.numbers+'">'+t.numbers+'</button>\n    <button type="button" class="icon nesting-level decrease" data-trix-action="decreaseNestingLevel" title="'+t.outdent+'">'+t.outdent+'</button>\n    <button type="button" class="icon nesting-level increase" data-trix-action="increaseNestingLevel" title="'+t.indent+'">'+t.indent+'</button>\n  </span>\n\n  <span class="button_group history_tools">\n    <button type="button" class="icon undo" data-trix-action="undo" data-trix-key="z" title="'+t.undo+'">'+t.undo+'</button>\n    <button type="button" class="icon redo" data-trix-action="redo" data-trix-key="shift+z" title="'+t.redo+'">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="dialogs">\n  <div class="dialog link_dialog" data-trix-attribute="href" data-trix-dialog="href">\n    <div class="link_url_fields">\n      <input type="url" required name="href" placeholder="'+t.urlPlaceholder+'">\n      <div class="button_group">\n        <input type="button" value="'+t.link+'" data-trix-method="setAttribute">\n        <input type="button" value="'+t.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>')}}.call(this),function(){P.config.undoInterval=5e3}.call(this),function(){var t,e;t=P.makeElement,e={cursorTarget:t({tagName:"span",textContent:P.ZERO_WIDTH_SPACE,data:{trixSelection:!0,trixCursorTarget:!0,trixSerialize:!1}})},P.extend({selectionElements:{selector:"[data-trix-selection]",cssText:"font-size: 0 !important;\npadding: 0 !important;\nmargin: 0 !important;\nborder: none !important;\nline-height: 0 !important;",create:function(t){return e[t].cloneNode(!0)}}})}.call(this),function(){}.call(this),function(){var t;t=P.cloneFragment,P.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: collapse;\n}\n\n%t .dialog {\n  display: none;\n}\n\n%t .dialog.active {\n  display: block;\n}\n\n%t .dialog input.validate:invalid {\n  background-color: #ffdddd;\n}\n\n%t[native] {\n  display: none;\n}",createdCallback:function(){return""===this.innerHTML?this.appendChild(t(P.config.toolbar.content)):void 0}})}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};P.ObjectView=function(t){function e(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return i(e,t),e.prototype.getNodes=function(){var t,e,i,n,r;for(null==this.nodes&&(this.nodes=this.createNodes()),r=[],t=0,e=(n=this.nodes).length;t<e;t++)i=n[t],r.push(i.cloneNode(!0));return r},e.prototype.invalidate=function(){var t;return(this.nodes=null)!=(t=this.parentView)?t.invalidate():void 0},e.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},e.prototype.findOrCreateCachedChildView=function(t,e){var i;return(i=this.getCachedViewForObject(e))?this.recordChildView(i):(i=this.createChildView.apply(this,arguments),this.cacheViewForObject(i,e)),i},e.prototype.createChildView=function(t,e,i){var n;return null==i&&(i={}),e instanceof P.ObjectGroup&&(i.viewClass=t,t=P.ObjectGroupView),n=new t(e,i),this.recordChildView(n)},e.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,o.call(this.childViews,t)<0&&this.childViews.push(t),t},e.prototype.getAllChildViews=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.childViews).length;e<i;e++)t=n[e],r.push(t),r=r.concat(t.getAllChildViews());return r},e.prototype.findElement=function(){return this.findElementForObject(this.object)},e.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},e.prototype.findViewForObject=function(t){var e,i,n,r;for(e=0,i=(n=this.getAllChildViews()).length;e<i;e++)if((r=n[e]).object===t)return r},e.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},e.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},e.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},e.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},e.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},e.prototype.cacheViewForObject=function(t,e){var i;return null!=(i=this.getViewCache())?i[e.getCacheKey()]=t:void 0},e.prototype.garbageCollectCachedViews=function(){var t,e,i,n,r,a;if(t=this.getViewCache()){for(e in a=this.getAllChildViews().concat(this),i=function(){var t,e,i;for(i=[],t=0,e=a.length;t<e;t++)r=a[t],i.push(r.object.getCacheKey());return i}(),n=[],t)o.call(i,e)<0&&n.push(delete t[e]);return n}},e}(P.BasicObject)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.ObjectGroupView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return i(e,t),e.prototype.getChildViews=function(){var t,e,i,n;if(!this.childViews.length)for(t=0,e=(n=this.objectGroup.getObjects()).length;t<e;t++)i=n[t],this.findOrCreateCachedChildView(this.viewClass,i,this.options);return this.childViews},e.prototype.createNodes=function(){var t,e,i,n,r,a,o,s;for(t=this.createContainerElement(),e=0,n=(o=this.getChildViews()).length;e<n;e++)for(i=0,r=(s=o[e].getNodes()).length;i<r;i++)a=s[i],t.appendChild(a);return[t]},e.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},e}(P.ObjectView)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Controller=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(P.BasicObject)}.call(this),function(){var a,u,o,d,l,s,c=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty,f=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};a=P.findClosestElementFromNode,o=P.nodeIsEmptyTextNode,u=P.nodeIsBlockStartComment,d=P.normalizeSpaces,l=P.summarizeStringChange,s=P.tagName,P.MutationObserver=function(t){function e(t){this.element=t,this.didMutate=c(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var h,i,n,r;return p(e,t),n="["+(i="data-trix-mutable")+"]",r={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},e.prototype.start=function(){return this.reset(),this.observer.observe(this.element,r)},e.prototype.stop=function(){return this.observer.disconnect()},e.prototype.didMutate=function(t){var e,i;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(i=this.delegate)&&"function"==typeof i.elementDidMutate&&i.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},e.prototype.reset=function(){return this.mutations=[]},e.prototype.findSignificantMutations=function(t){var e,i,n,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],this.mutationIsSignificant(n)&&r.push(n);return r},e.prototype.mutationIsSignificant=function(t){var e,i,n,r;for(e=0,i=(r=this.nodesModifiedByMutation(t)).length;e<i;e++)if(n=r[e],this.nodeIsSignificant(n))return!0;return!1},e.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!o(t)},e.prototype.nodeIsMutable=function(t){return a(t,{matchingSelector:n})},e.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==i&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},e.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},e.prototype.getTextMutationSummary=function(){var t,e,i,n,r,a,o,s,l,c,h;for(i=(s=this.getTextChangesFromCharacterData()).additions,r=s.deletions,a=0,o=(l=(h=this.getTextChangesFromChildList()).additions).length;a<o;a++)e=l[a],f.call(i,e)<0&&i.push(e);return r.push.apply(r,h.deletions),c={},(t=i.join(""))&&(c.textAdded=t),(n=r.join(""))&&(c.textDeleted=n),c},e.prototype.getMutationsByType=function(t){var e,i,n,r,a;for(a=[],e=0,i=(r=this.mutations).length;e<i;e++)(n=r[e]).type===t&&a.push(n);return a},e.prototype.getTextChangesFromChildList=function(){var t,e,n,i,r,a,o,s,l,c;for(t=[],o=[],e=0,i=(a=this.getMutationsByType("childList")).length;e<i;e++)r=a[e],t.push.apply(t,r.addedNodes),o.push.apply(o,r.removedNodes);return 0===t.length&&1===o.length&&u(o[0])?(l=[],c=["\n"]):(l=h(t),c=h(o)),{additions:function(){var t,e,i;for(i=[],n=t=0,e=l.length;t<e;n=++t)(s=l[n])!==c[n]&&i.push(d(s));return i}(),deletions:function(){var t,e,i;for(i=[],n=t=0,e=c.length;t<e;n=++t)(s=c[n])!==l[n]&&i.push(d(s));return i}()}},e.prototype.getTextChangesFromCharacterData=function(){var t,e,i,n,r,a,o,s;return(e=this.getMutationsByType("characterData")).length&&(s=e[0],i=e[e.length-1],r=d(s.oldValue),n=d(i.target.data),t=(a=l(r,n)).added,o=a.removed),{additions:t?[t]:[],deletions:o?[o]:[]}},h=function(t){var e,i,n,r;for(null==t&&(t=[]),r=[],e=0,i=t.length;e<i;e++)switch(n=t[e],n.nodeType){case Node.TEXT_NODE:r.push(n.data);break;case Node.ELEMENT_NODE:"br"===s(n)?r.push("\n"):r.push.apply(r,h(n.childNodes))}return r},e}(P.BasicObject)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.FileVerificationOperation=function(t){function e(t){this.file=t}return i(e,t),e.prototype.perform=function(e){var i,n;return(i=new FileReader).onerror=function(){return e(!1)},i.onload=(n=this,function(){i.onerror=null;try{i.abort()}catch(t){}return e(!0,n.file)}),i.readAsArrayBuffer(this.file)},e}(P.Operation)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.CompositionInput=function(t){function e(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return i(e,t),e.prototype.start=function(t){var e,i;return this.data.start=t,"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(i=this.responder)?i.getSelectedRange():void 0},e.prototype.update=function(t){var e;return this.data.update=t,(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},e.prototype.end=function(t){var e,i,n,r;return this.data.end=t,this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(i=this.responder)&&i.setSelectedRange(this.range),null!=(n=this.responder)&&n.insertString(this.data.end),null!=(r=this.responder)?r.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0},e.prototype.getEndData=function(){return this.data.end},e.prototype.isEnded=function(){return null!=this.getEndData()},e.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&0<(null!=(e=this.data.end)?e.length:void 0)&&null!=this.range},e.proxyMethod("inputController.setInputSummary"),e.proxyMethod("inputController.requestRender"),e.proxyMethod("inputController.requestReparse"),e.proxyMethod("responder?.selectionIsExpanded"),e.proxyMethod("responder?.insertPlaceholder"),e.proxyMethod("responder?.selectPlaceholder"),e.proxyMethod("responder?.forgetPlaceholder"),e}(P.BasicObject)}.call(this),function(){var k,n,T,i,r,h,a,o,s,l,D,c,u=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty,L=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};i=P.handleEvent,s=P.makeElement,r=P.innerElementIsActive,l=P.objectsAreEqual,P.tagName,P.InputController=function(t){function e(t){var e;for(e in this.element=t,this.resetInputSummary(),this.mutationObserver=new P.MutationObserver(this.element),(this.mutationObserver.delegate=this).events)i(e,{onElement:this.element,withCallback:this.handlerFor(e),inPhase:"capturing"})}var S;return u(e,t),S=0,e.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},e.prototype.handlerFor=function(e){return i=this,function(t){return i.handleInput(function(){return r(this.element)?void 0:(this.eventName=e,this.events[e].call(this,t))})};var i},e.prototype.setInputSummary=function(t){var e,i;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)i=t[e],this.inputSummary[e]=i;return this.inputSummary},e.prototype.resetInputSummary=function(){return this.inputSummary={}},e.prototype.reset=function(){return this.resetInputSummary(),P.selectionChangeObserver.reset()},e.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},e.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},e.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},e.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},e.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})},e.prototype.mutationIsExpected=function(t){var e,i,n,r,a,o,s,l,c;return o=t.textAdded,s=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=o?o===this.inputSummary.textAdded:!this.inputSummary.textAdded,i=null!=s?this.inputSummary.didDelete:!this.inputSummary.didDelete,c="\n"===s&&!i,!!(((l="\n"===o&&!e)&&!c||c&&!l)&&(r=this.getSelectedRange())&&(n=l?-1:1,null!=(a=this.responder)?a.positionIsBlockBreak(r[1]+n):void 0))||e&&i)},e.prototype.mutationIsSignificant=function(t){var e,i,n;return n=0<Object.keys(t).length,e=""===(null!=(i=this.compositionInput)?i.getEndData():void 0),n||!e},e.prototype.attachFiles=function(n){var r,t,e;return t=function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)r=n[t],i.push(new P.FileVerificationOperation(r));return i}(),Promise.all(t).then((e=this,function(i){return e.handleInput(function(){var t,e;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(e=this.responder)&&e.insertFiles(i),this.requestRender()})}))},e.prototype.events={keydown:function(r){var t,e,i,n,a,o,s,l,c;if(this.isComposing()||this.resetInputSummary(),n=this.constructor.keyNames[r.keyCode]){for(e=this.keys,i=0,o=(l=["ctrl","alt","shift","meta"]).length;i<o;i++)s=l[i],r[s+"Key"]&&("ctrl"===s&&(s="control"),e=null!=e?e[s]:void 0);null!=(null!=e?e[n]:void 0)&&(this.setInputSummary({keyName:n}),P.selectionChangeObserver.reset(),e[n].call(this,r))}return h(r)&&(t=String.fromCharCode(r.keyCode).toLowerCase())&&((a=function(){var t,e,i,n;for(n=[],t=0,e=(i=["alt","shift"]).length;t<e;t++)s=i[t],r[s+"Key"]&&n.push(s);return n}()).push(t),null!=(c=this.delegate)?c.inputControllerDidReceiveKeyboardCommand(a):void 0)?r.preventDefault():void 0},keypress:function(t){var e,i,n;if(null==this.inputSummary.eventName&&(!t.metaKey&&!t.ctrlKey||t.altKey)&&!o(t)&&!a(t))return null===t.which?e=String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode&&(e=String.fromCharCode(t.charCode)),null!=e?(null!=(i=this.delegate)&&i.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,i,n,r;return e=t.data,(r=this.inputSummary.textAdded)&&r!==e&&r.toUpperCase()===e?(i=this.getSelectedRange(),this.setSelectedRange([i[0],i[1]+r.length]),null!=(n=this.responder)&&n.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(i)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,i;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},l(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(i=this.delegate)&&"function"==typeof i.inputControllerDidReceiveDragOverPoint?i.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var e,i,n,r,a,o,s,l,c;return t.preventDefault(),n=null!=(a=t.dataTransfer)?a.files:void 0,r={x:t.clientX,y:t.clientY},null!=(o=this.responder)&&o.setLocationRangeFromPointRange(r),(null!=n?n.length:void 0)?this.attachFiles(n):this.draggedRange?(null!=(s=this.delegate)&&s.inputControllerWillMoveText(),null!=(l=this.responder)&&l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(i=t.dataTransfer.getData("application/x-trix-document"))&&(e=P.Document.fromJSONString(i),null!=(c=this.responder)&&c.insertDocument(e),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e;return this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented?this.requestRender():void 0},copy:function(t){return this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var e,i,n,r,a,o,s,l,c,h,u,d,p,f,g,m,v,x,b,y,w,A,C;return a=null!=(s=t.clipboardData)?s:t.testClipboardData,o={paste:a},null==a||D(t)?void this.getPastedHTMLUsingHiddenElement((C=this,function(t){var e,i,n;return o.html=t,null!=(e=C.delegate)&&e.inputControllerWillPasteText(o),null!=(i=C.responder)&&i.insertHTML(t),C.requestRender(),null!=(n=C.delegate)?n.inputControllerDidPaste(o):void 0})):((n=a.getData("URL"))?(A=a.getData("public.url-name")||n,o.string=A,this.setInputSummary({textAdded:A,didDelete:this.selectionIsExpanded()}),null!=(l=this.delegate)&&l.inputControllerWillPasteText(o),null!=(f=this.responder)&&f.insertText(P.Text.textForStringWithAttributes(A,{href:n})),this.requestRender(),null!=(g=this.delegate)&&g.inputControllerDidPaste(o)):k(a)?(A=a.getData("text/plain"),o.string=A,this.setInputSummary({textAdded:A,didDelete:this.selectionIsExpanded()}),null!=(m=this.delegate)&&m.inputControllerWillPasteText(o),null!=(v=this.responder)&&v.insertString(A),this.requestRender(),null!=(x=this.delegate)&&x.inputControllerDidPaste(o)):(r=a.getData("text/html"))?(o.html=r,null!=(b=this.delegate)&&b.inputControllerWillPasteText(o),null!=(y=this.responder)&&y.insertHTML(r),this.requestRender(),null!=(w=this.delegate)&&w.inputControllerDidPaste(o)):0<=L.call(a.types,"Files")&&(i=null!=(c=a.items)&&null!=(h=c[0])&&"function"==typeof h.getAsFile?h.getAsFile():void 0)&&(!i.name&&(e=T(i))&&(i.name="pasted-file-"+ ++S+"."+e),o.file=i,null!=(u=this.delegate)&&u.inputControllerWillAttachFiles(),null!=(d=this.responder)&&d.insertFile(i),this.requestRender(),null!=(p=this.delegate)&&p.inputControllerDidPaste(o)),t.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},input:function(t){return t.stopPropagation()}},e.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},"delete":function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},"return":function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,i;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(i=this.responder)&&i.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,i;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(i=this.responder)&&i.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{"return":function(t){var e,i;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(i=this.responder)&&i.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,i;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(i=this.responder)&&i.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},e.prototype.handleInput=function(t){var e,i;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(i=this.delegate)&&i.inputControllerDidHandleInput()}},e.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new P.CompositionInput(this)},e.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},e.prototype.deleteInDirection=function(t,e){var i;return!1!==(null!=(i=this.responder)?i.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},e.prototype.serializeSelectionToDataTransfer=function(t){var e,i;if(n(t))return e=null!=(i=this.responder)?i.getSelectedDocument().toSerializableDocument():void 0,t.setData("application/x-trix-document",JSON.stringify(e)),t.setData("text/html",P.DocumentView.render(e).innerHTML),t.setData("text/plain",e.toString().replace(/\n$/,"")),!0},e.prototype.canAcceptDataTransfer=function(t){var e,i,n,r,a;for(a={},e=0,i=(r=null!=(n=null!=t?t.types:void 0)?n:[]).length;e<i;e++)a[r[e]]=!0;return a.Files||a["application/x-trix-document"]||a["text/html"]||a["text/plain"]},e.prototype.getPastedHTMLUsingHiddenElement=function(e){var i,n,t,r;return n=this.getSelectedRange(),t={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},i=s({style:t,tagName:"div",editable:!0}),document.body.appendChild(i),i.focus(),requestAnimationFrame((r=this,function(){var t;return t=i.innerHTML,document.body.removeChild(i),r.setSelectedRange(n),e(t)}))},e.proxyMethod("responder?.getSelectedRange"),e.proxyMethod("responder?.setSelectedRange"),e.proxyMethod("responder?.expandSelectionInDirection"),e.proxyMethod("responder?.selectionIsInCursorTarget"),e.proxyMethod("responder?.selectionIsExpanded"),e}(P.BasicObject),T=function(t){var e,i;return null!=(e=t.type)&&null!=(i=e.match(/\/(\w+)$/))?i[1]:void 0},o=function(t){return t.metaKey&&t.altKey&&!t.shiftKey&&94===t.keyCode},a=function(t){return t.metaKey&&t.altKey&&t.shiftKey&&9674===t.keyCode},h=function(t){return/Mac|^iP/.test(navigator.platform)?t.metaKey:t.ctrlKey},D=function(t){var e,i;return(i=null!=(e=t.clipboardData)?e.types:void 0)?L.call(i,"text/html")<0&&(0<=L.call(i,"com.apple.webarchive")||0<=L.call(i,"com.apple.flat-rtfd")):void 0},k=function(t){var e,i,n;return n=t.getData("text/plain"),i=t.getData("text/html"),n&&i?((e=s("div")).innerHTML=i,e.textContent===n?!e.querySelector(":not(meta)"):void 0):null!=n?n.length:void 0},c={"application/x-trix-feature-detection":"test"},n=function(t){var e,i;if(null!=(null!=t?t.setData:void 0)){for(e in c)if(i=c[e],t.setData(e,i),t.getData(e)!==i)return;return!0}}}.call(this),function(){var a,o,n,s,l,r,c=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=P.handleEvent,l=P.makeElement,r=P.tagName,n=P.InputController.keyNames,s=P.config.lang,a=P.config.css.classNames,P.AttachmentEditorController=function(t){function e(t,e,i){this.attachmentPiece=t,this.element=e,this.container=i,this.uninstall=c(this.uninstall,this),this.didKeyDownCaption=c(this.didKeyDownCaption,this),this.didChangeCaption=c(this.didChangeCaption,this),this.didClickCaption=c(this.didClickCaption,this),this.didClickRemoveButton=c(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===r(this.element)&&(this.element=this.element.firstChild),this.install()}var i;return h(e,t),i=function(e){return function(){var t;return(t=e.apply(this,arguments))["do"](),null==this.undos&&(this.undos=[]),this.undos.push(t.undo)}},e.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},e.prototype.makeElementMutable=i(function(){return{"do":(e=this,function(){return e.element.dataset.trixMutable=!0}),undo:(t=this,function(){return delete t.element.dataset.trixMutable})};var t,e}),e.prototype.makeCaptionEditable=i(function(){var t,e,i;return t=this.element.querySelector("figcaption"),e=null,{"do":(i=this,function(){return e=o("click",{onElement:t,withCallback:i.didClickCaption,inPhase:"capturing"})}),undo:function(){return e.destroy()}}}),e.prototype.addRemoveButton=i(function(){var t,e,i;return t=l({tagName:"button",textContent:s.remove,className:a.attachment.removeButton,attributes:{type:"button",title:s.remove},data:{trixMutable:!0}}),o("click",{onElement:t,withCallback:this.didClickRemoveButton}),{"do":(i=this,function(){return i.element.appendChild(t)}),undo:(e=this,function(){return e.element.removeChild(t)})}}),e.prototype.editCaption=i(function(){var t,e,i,n,r;return(n=l({tagName:"textarea",className:a.attachment.captionEditor,attributes:{placeholder:s.captionPlaceholder}})).value=this.attachmentPiece.getCaption(),(r=n.cloneNode()).classList.add("trix-autoresize-clone"),t=function(){return r.value=n.value,n.style.height=r.scrollHeight+"px"},o("input",{onElement:n,withCallback:t}),o("keydown",{onElement:n,withCallback:this.didKeyDownCaption}),o("change",{onElement:n,withCallback:this.didChangeCaption}),o("blur",{onElement:n,withCallback:this.uninstall}),i=this.element.querySelector("figcaption"),e=i.cloneNode(),{"do":function(){return i.style.display="none",e.appendChild(n),e.appendChild(r),e.classList.add(a.attachment.editingCaption),i.parentElement.insertBefore(e,i),t(),n.focus()},undo:function(){return e.parentNode.removeChild(e),i.style.display=null}}}),e.prototype.didClickRemoveButton=function(t){var e;return t.preventDefault(),t.stopPropagation(),null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},e.prototype.didClickCaption=function(t){return t.preventDefault(),this.editCaption()},e.prototype.didChangeCaption=function(t){var e,i,n;return(e=t.target.value.replace(/\s/g," ").trim())?null!=(i=this.delegate)&&"function"==typeof i.attachmentEditorDidRequestUpdatingAttributesForAttachment?i.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0},e.prototype.didKeyDownCaption=function(t){var e;return"return"===n[t.keyCode]?(t.preventDefault(),this.didChangeCaption(t),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},e.prototype.uninstall=function(){for(var t,e;e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},e}(P.BasicObject)}.call(this),function(){var u,i,d,p,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;d=P.makeElement,p=P.selectionElements,u=P.config.css.classNames,P.AttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment=this.object,(this.attachment.uploadProgressDelegate=this).attachmentPiece=this.options.piece}return n(e,t),e.attachmentSelector="[data-trix-attachment]",e.prototype.createContentNodes=function(){return[]},e.prototype.createNodes=function(){var t,e,i,n,r,a,o,s,l,c,h;if(n=d({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())n.innerHTML=this.attachment.getContent();else for(a=0,s=(c=this.createContentNodes()).length;a<s;a++)l=c[a],n.appendChild(l);for(o in n.appendChild(this.createCaptionElement()),e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(t=this.attachmentPiece.getAttributesForAttachment()).isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(
this.progressElement=d({tagName:"progress",attributes:{"class":u.attachment.progressBar,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),n.appendChild(this.progressElement),e.trixSerialize=!1),(r=this.getHref())?(i=d("a",{href:r})).appendChild(n):i=n,e)h=e[o],i.dataset[o]=h;return i.setAttribute("contenteditable",!1),[p.create("cursorTarget"),i,p.create("cursorTarget")]},e.prototype.createCaptionElement=function(){var t,e,i,n,r;return e=d({tagName:"figcaption",className:u.attachment.caption}),(t=this.attachmentPiece.getCaption())?(e.classList.add(u.attachment.captionEdited),e.textContent=t):(i=this.attachment.getFilename())&&(e.textContent=i,(n=this.attachment.getFormattedFilesize())&&(e.appendChild(document.createTextNode(" ")),r=d({tagName:"span",className:u.attachment.size,textContent:n}),e.appendChild(r))),e},e.prototype.getClassName=function(){var t,e;return e=[u.attachment.container,""+u.attachment.typePrefix+this.attachment.getType()],(t=this.attachment.getExtension())&&e.push(t),e.join(" ")},e.prototype.getHref=function(){return i(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},e.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},e.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},e}(P.ObjectView),i=function(t,e){var i;return(i=d("div")).innerHTML=null!=t?t:"",i.querySelector(e)}}.call(this),function(){var i,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=P.makeElement,P.PreviewableAttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return n(e,t),e.prototype.createContentNodes=function(){return this.image=i({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},e.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},e.prototype.updateAttributesForImage=function(t){var e,i,n,r,a,o;return a=this.attachment.getURL(),i=this.attachment.getPreviewURL(),t.src=i||a,i===a?t.removeAttribute("data-trix-serialized-attributes"):(n=JSON.stringify({src:a}),t.setAttribute("data-trix-serialized-attributes",n)),o=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=o&&(t.width=o),null!=e&&(t.height=e),r=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=r},e.prototype.attachmentDidChangePreviewURL=function(){return this.refresh(this.image),this.refresh()},e}(P.AttachmentView)}.call(this),function(){var o,l,c,n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;c=P.makeElement,o=P.findInnerElement,l=P.getTextConfig,P.PieceView=function(t){function e(){var t;e.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var i;return n(e,t),e.prototype.createNodes=function(){var t,e,i,n,r,a;if(a=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement()){for(i=o(t),e=0,n=a.length;e<n;e++)r=a[e],i.appendChild(r);a=[t]}return a},e.prototype.createAttachmentNodes=function(){var t;return t=this.attachment.isPreviewable()?P.PreviewableAttachmentView:P.AttachmentView,this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()},e.prototype.createStringNodes=function(){var t,e,i,n,r,a,o,s,l;if(null!=(o=this.textConfig)?o.plaintext:void 0)return[document.createTextNode(this.string)];for(a=[],i=e=0,n=(s=this.string.split("\n")).length;e<n;i=++e)l=s[i],0<i&&(t=c("br"),a.push(t)),l.length&&(r=document.createTextNode(this.preserveSpaces(l)),a.push(r));return a},e.prototype.createElement=function(){var t,e,i,n,r,a,o,s;for(n in this.attributes)if((t=l(n))&&(t.tagName&&(r=c(t.tagName),i?(i.appendChild(r),i=r):e=i=r),t.style))if(o)for(n in a=t.style)s=a[n],o[n]=s;else o=t.style;if(o)for(n in null==e&&(e=c("span")),o)s=o[n],e.style[n]=s;return e},e.prototype.createContainerElement=function(){var t,e,i,n,r;for(i in n=this.attributes)if(r=n[i],(e=l(i))&&e.groupTagName)return(t={})[i]=r,c(e.groupTagName,t)},i=P.NON_BREAKING_SPACE,e.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,i)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+i+" $2").replace(/\ {2}/g,i+" ").replace(/\ {2}/g," "+i),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,i)),t},e}(P.ObjectView)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.TextView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var h;return i(e,t),e.prototype.createNodes=function(){var t,e,i,n,r,a,o,s,l,c;for(a=[],n=(s=P.ObjectGroup.groupObjects(this.getPieces())).length-1,i=e=0,r=s.length;e<r;i=++e)o=s[i],t={},0===i&&(t.isFirst=!0),i===n&&(t.isLast=!0),h(l)&&(t.followsWhitespace=!0),c=this.findOrCreateCachedChildView(P.PieceView,o,{textConfig:this.textConfig,context:t}),a.push.apply(a,c.getNodes()),l=o;return a},e.prototype.getPieces=function(){var t,e,i,n,r;for(r=[],t=0,e=(n=this.text.getPieces()).length;t<e;t++)(i=n[t]).hasAttribute("blockBreak")||r.push(i);return r},h=function(t){return/\s$/.test(null!=t?t.toString():void 0)},e}(P.ObjectView)}.call(this),function(){var l,c,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;c=P.makeElement,l=P.getBlockConfig,P.BlockView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return i(e,t),e.prototype.createNodes=function(){var t,e,i,n,r,a,o,s;if(r=[document.createComment("block")],this.block.isEmpty()?r.push(c("br")):(o=null!=(a=l(this.block.getLastAttribute()))?a.text:void 0,s=this.findOrCreateCachedChildView(P.TextView,this.block.text,{textConfig:o}),r.push.apply(r,s.getNodes()),this.shouldAddExtraNewlineElement()&&r.push(c("br"))),this.attributes.length)return r;for(t=c(P.config.blockAttributes["default"].tagName),e=0,i=r.length;e<i;e++)n=r[e],t.appendChild(n);return[t]},e.prototype.createContainerElement=function(t){var e,i;return e=this.attributes[t],i=l(e),c(i.tagName)},e.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},e}(P.ObjectView)}.call(this),function(){var r,s,a=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=P.defer,s=P.makeElement,P.DocumentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new P.ElementStore,this.setDocument(this.object)}var i,h,n;return a(e,t),e.render=function(t){var e,i;return(i=new this(t,{element:e=s("div")})).render(),i.sync(),e},e.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},e.prototype.render=function(){var t,e,r,i,n,a,o;if(this.childViews=[],this.shadowElement=s("div"),!this.document.isEmpty()){for(a=[],t=0,e=(n=P.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;t<e;t++)i=n[t],o=this.findOrCreateCachedChildView(P.BlockView,i),a.push(function(){var t,e,i,n;for(n=[],t=0,e=(i=o.getNodes()).length;t<e;t++)r=i[t],n.push(this.shadowElement.appendChild(r));return n}.call(this));return a}},e.prototype.isSynced=function(){return i(this.shadowElement,this.element)},e.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},e.prototype.didSync=function(){return this.elementStore.reset(h(this.element)),r((t=this,function(){return t.garbageCollectCachedViews()}));var t},e.prototype.createDocumentFragmentForSync=function(){var t,e,i,n,r,a,o,s,l,c;for(e=document.createDocumentFragment(),i=0,r=(s=this.shadowElement.childNodes).length;i<r;i++)o=s[i],e.appendChild(o.cloneNode(!0));for(n=0,a=(l=h(e)).length;n<a;n++)t=l[n],(c=this.elementStore.remove(t))&&t.parentNode.replaceChild(c,t);return e},h=function(t){return t.querySelectorAll("[data-trix-store-key]")},i=function(t,e){return n(t.innerHTML)===n(e.innerHTML)},n=function(t){return t.replace(/&nbsp;/g," ")},e}(P.ObjectView)}.call(this),function(){var i,n,r,a,o=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=P.handleEvent,a=P.innerElementIsActive,n=P.defer,i=P.AttachmentView.attachmentSelector,P.CompositionController=function(t){function e(t,e){this.element=t,this.composition=e,this.didClickAttachment=o(this.didClickAttachment,this),this.didBlur=o(this.didBlur,this),this.didFocus=o(this.didFocus,this),this.documentView=new P.DocumentView(this.composition.document,{element:this.element}),r("focus",{onElement:this.element,withCallback:this.didFocus}),r("blur",{onElement:this.element,withCallback:this.didBlur}),r("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),r("mousedown",{onElement:this.element,matchingSelector:i,withCallback:this.didClickAttachment}),r("click",{onElement:this.element,matchingSelector:"a"+i,preventDefault:!0})}return s(e,t),e.prototype.didFocus=function(){var t,e,i,n;return t=function(){var t;return n.focused?void 0:(n.focused=!0,null!=(t=n.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)},null!=(e=null!=(i=(n=this).blurPromise)?i.then(t):void 0)?e:t()},e.prototype.didBlur=function(){return this.blurPromise=new Promise((i=this,function(e){return n(function(){var t;return a(i.element)||(i.focused=null)!=(t=i.delegate)&&"function"==typeof t.compositionControllerDidBlur&&t.compositionControllerDidBlur(),i.blurPromise=null,e()})}));var i},e.prototype.didClickAttachment=function(t,e){var i,n;return i=this.findAttachmentForElement(e),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidSelectAttachment?n.compositionControllerDidSelectAttachment(i):void 0},e.prototype.render=function(){var t,e,i;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.documentView.isSynced()||(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),this.reinstallAttachmentEditor(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(i=this.delegate)&&"function"==typeof i.compositionControllerDidRender?i.compositionControllerDidRender():void 0},e.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},e.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},e.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},e.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},e.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},e.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},e.prototype.installAttachmentEditorForAttachment=function(t){var e,i,n;if((null!=(n=this.attachmentEditor)?n.attachment:void 0)!==t&&(i=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),e=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new P.AttachmentEditorController(e,i,this.element),this.attachmentEditor.delegate=this},e.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},e.prototype.reinstallAttachmentEditor=function(){var t;return this.attachmentEditor?(t=this.attachmentEditor.attachment,this.uninstallAttachmentEditor(),this.installAttachmentEditorForAttachment(t)):void 0},e.prototype.editAttachmentCaption=function(){var t;return null!=(t=this.attachmentEditor)?t.editCaption():void 0},e.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},e.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var i;return null!=(i=this.delegate)&&"function"==typeof i.compositionControllerWillUpdateAttachment&&i.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var i;return null!=(i=this.delegate)&&"function"==typeof i.compositionControllerWillUpdateAttachment&&i.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},e.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},e.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},e}(P.BasicObject)}.call(this),function(){var p,f,g,m=function(t,e){return function(){return t.apply(e,arguments)}},v=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;f=P.handleEvent,g=P.triggerEvent,p=P.findClosestElementFromNode,P.ToolbarController=function(t){function e(t){this.element=t,this.didKeyDownDialogInput=m(this.didKeyDownDialogInput,this),this.didClickDialogButton=m(this.didClickDialogButton,this),this.didClickAttributeButton=m(this.didClickAttributeButton,this),this.didClickActionButton=m(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),f("mousedown",{onElement:this.element,matchingSelector:o,withCallback:this.didClickActionButton}),f("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickAttributeButton}),f("click",{onElement:this.element,matchingSelector:d,preventDefault:!0}),f("click",{onElement:this.element,matchingSelector:n,withCallback:this.didClickDialogButton}),f("keydown",{onElement:this.element,matchingSelector:a,withCallback:this.didKeyDownDialogInput})}var o,i,s,n,a,r,l,h,c,u,d;return v(e,t),d=[o="button[data-trix-action]",s="button[data-trix-attribute]"].join(", "),i=(r=".dialog[data-trix-dialog]")+".active",n=r+" input[data-trix-method]",a=r+" input[type=text], "+r+" input[type=url]",e.prototype.didClickActionButton=function(t,e){var i,n,r;return null!=(n=this.delegate)&&n.toolbarDidClickButton(),t.preventDefault(),i=l(e),this.getDialog(i)?this.toggleDialog(i):null!=(r=this.delegate)?r.toolbarDidInvokeAction(i):void 0},e.prototype.didClickAttributeButton=function(t,e){var i,n,r;return null!=(n=this.delegate)&&n.toolbarDidClickButton(),t.preventDefault(),i=h(e),this.getDialog(i)?this.toggleDialog(i):null!=(r=this.delegate)&&r.toolbarDidToggleAttribute(i),this.refreshAttributeButtons()},e.prototype.didClickDialogButton=function(t,e){var i;return i=p(e,{matchingSelector:r}),this[e.getAttribute("data-trix-method")].call(this,i)},e.prototype.didKeyDownDialogInput=function(t,e){var i,n;return 13===t.keyCode&&(t.preventDefault(),i=e.getAttribute("name"),n=this.getDialog(i),this.setAttribute(n)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},e.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},e.prototype.refreshActionButtons=function(){return this.eachActionButton((i=this,function(t,e){return t.disabled=!1===i.actions[e]}));var i},e.prototype.eachActionButton=function(t){var e,i,n,r,a;for(a=[],i=0,n=(r=this.element.querySelectorAll(o)).length;i<n;i++)e=r[i],a.push(t(e,l(e)));return a},e.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},e.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton((i=this,function(t,e){return t.disabled=!1===i.attributes[e],i.attributes[e]||i.dialogIsVisible(e)?t.classList.add("active"):t.classList.remove("active")}));var i},e.prototype.eachAttributeButton=function(t){var e,i,n,r,a;for(a=[],i=0,n=(r=this.element.querySelectorAll(s)).length;i<n;i++)e=r[i],a.push(t(e,h(e)));return a},e.prototype.applyKeyboardCommand=function(t){var e,i,n,r,a,o;for(r=JSON.stringify(t.sort()),n=0,a=(o=this.element.querySelectorAll("[data-trix-key]")).length;n<a;n++)if(i=(e=o[n]).getAttribute("data-trix-key").split("+"),JSON.stringify(i.sort())===r)return g("mousedown",{onElement:e}),!0;return!1},e.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.classList.contains("active"):void 0},e.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},e.prototype.showDialog=function(t){var e,i,n,r,a,o,s,l,c;for(this.hideDialog(),null!=(o=this.delegate)&&o.toolbarWillShowDialog(),(i=this.getDialog(t)).classList.add("active"),n=0,a=(s=i.querySelectorAll("input[disabled]")).length;n<a;n++)s[n].removeAttribute("disabled");return(e=h(i))&&(r=u(i,t))&&(r.value=null!=(l=this.attributes[e])?l:"",r.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(t):void 0},e.prototype.setAttribute=function(t){var e,i,n;return e=h(t),(i=u(t,e)).willValidate&&!i.checkValidity()?(i.classList.add("validate"),i.focus()):(null!=(n=this.delegate)&&n.toolbarDidUpdateAttribute(e,i.value),this.hideDialog())},e.prototype.removeAttribute=function(t){var e,i;return e=h(t),null!=(i=this.delegate)&&i.toolbarDidRemoveAttribute(e),this.hideDialog()},e.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(i))?(t.classList.remove("active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(c(t)):void 0):void 0},e.prototype.resetDialogInputs=function(){var t,e,i,n,r;for(r=[],t=0,i=(n=this.element.querySelectorAll(a)).length;t<i;t++)(e=n[t]).setAttribute("disabled","disabled"),r.push(e.classList.remove("validate"));return r},e.prototype.getDialog=function(t){return this.element.querySelector(".dialog[data-trix-dialog="+t+"]")},u=function(t,e){return null==e&&(e=h(t)),t.querySelector("input[name='"+e+"']")},l=function(t){return t.getAttribute("data-trix-action")},h=function(t){return t.getAttribute("data-trix-attribute")},c=function(t){return t.getAttribute("data-trix-dialog")},e}(P.BasicObject)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.ImagePreloadOperation=function(t){function e(t){this.url=t}return i(e,t),e.prototype.perform=function(t){var e,i;return(e=new Image).onload=(i=this,function(){return e.width=i.width=e.naturalWidth,e.height=i.height=e.naturalHeight,t(!0,e)}),e.onerror=function(){return t(!1)},e.src=this.url},e}(P.Operation)}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Attachment=function(t){function e(t){null==t&&(t={}),this.releaseFile=i(this.releaseFile,this),e.__super__.constructor.apply(this,arguments),this.attributes=P.Hash.box(t),this.didChangeAttributes()}return n(e,t),e.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,e.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},e.attributesForFile=function(t){return new P.Hash({filename:t.name,filesize:t.size,contentType:t.type})},e.fromJSON=function(t){return new this(t)},e.prototype.getAttribute=function(t){return this.attributes.get(t)},e.prototype.hasAttribute=function(t){return this.attributes.has(t)},e.prototype.getAttributes=function(){return this.attributes.toObject()},e.prototype.setAttributes=function(t){var e,i;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(i=this.delegate)&&"function"==typeof i.attachmentDidChangeAttributes?i.attachmentDidChangeAttributes(this):void 0)},e.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},e.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},e.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},e.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},e.prototype.getURL=function(){return this.attributes.get("url")},e.prototype.getHref=function(){return this.attributes.get("href")},e.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},e.prototype.getFilesize=function(){return this.attributes.get("filesize")},e.prototype.getFormattedFilesize=function(){var t;return"number"==typeof(t=this.attributes.get("filesize"))?P.config.fileSize.formatter(t):""},e.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},e.prototype.getContentType=function(){return this.attributes.get("contentType")},e.prototype.hasContent=function(){return this.attributes.has("content")},e.prototype.getContent=function(){return this.attributes.get("content")},e.prototype.getWidth=function(){return this.attributes.get("width")},e.prototype.getHeight=function(){return this.attributes.get("height")},e.prototype.getFile=function(){return this.file},e.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},e.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},e.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},e.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},e.prototype.toJSON=function(){return this.getAttributes()},e.prototype.getCacheKey=function(){return[e.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},e.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},e.prototype.setPreviewURL=function(t){var e,i;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangePreviewURL&&e.attachmentDidChangePreviewURL(this),null!=(i=this.delegate)&&"function"==typeof i.attachmentDidChangePreviewURL?i.attachmentDidChangePreviewURL(this):void 0):void 0},e.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},e.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},e.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},e.prototype.preload=function(n,r){var a;return n&&n!==this.getPreviewURL()?(this.preloadingURL=n,new P.ImagePreloadOperation(n).then((a=this,function(t){var e,i;return i=t.width,e=t.height,a.setAttributes({width:i,height:e}),a.preloadingURL=null,a.setPreviewURL(n),"function"==typeof r?r():void 0}))):void 0},e}(P.Object)}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Piece=function(t){function i(t,e){null==e&&(e={}),i.__super__.constructor.apply(this,arguments),this.attributes=P.Hash.box(e)}return e(i,t),i.types={},i.registerType=function(t,e){return e.type=t,this.types[t]=e},i.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},i.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},i.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},i.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},i.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},i.prototype.getAttribute=function(t){return this.attributes.get(t)},i.prototype.getAttributesHash=function(){return this.attributes},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.getCommonAttributes=function(){var e,i,t;return(t=pieceList.getPieceAtIndex(0))?(e=t.attributes,i=e.getKeys(),pieceList.eachPiece(function(t){return i=e.getKeysCommonToHash(t.attributes),e=e.slice(i)}),e.toObject()):{}},i.prototype.hasAttribute=function(t){return this.attributes.has(t)},i.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},i.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},i.prototype.isBlockBreak=function(){return!1},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isSerializable=function(){return!0},i.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},i.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},i.prototype.canBeGrouped=function(){return this.hasAttribute("href")},i.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},i.prototype.getLength=function(){return this.length},i.prototype.canBeConsolidatedWith=function(){return!1},i}(P.Object)}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Piece.registerType("attachment",P.AttachmentPiece=function(t){function i(t){this.attachment=t,i.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return e(i,t),i.fromJSON=function(t){return new this(P.Attachment.fromJSON(t.attachment),t.attributes)},i.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)&&this.attachment.hasAttribute(t)?this.attributes=this.attributes.remove(t):void 0},i.prototype.getValue=function(){return this.attachment},i.prototype.isSerializable=function(){return!this.attachment.isPending()},i.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},i.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},i.prototype.canBeGrouped=function(){return i.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},i.prototype.toString=function(){return P.OBJECT_REPLACEMENT_CHARACTER},i.prototype.toJSON=function(){var t;return(t=i.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},i.prototype.toConsole=function(){return JSON.stringify(this.toString())},i}(P.Piece))}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Piece.registerType("string",P.StringPiece=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.string=t,this.length=this.string.length}return i(e,t),e.fromJSON=function(t){return new this(t.string,t.attributes)},e.prototype.getValue=function(){return this.string},e.prototype.toString=function(){return this.string.toString()},e.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},e.prototype.toJSON=function(){var t;return(t=e.__super__.toJSON.apply(this,arguments)).string=this.string,t},e.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},e.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},e.prototype.splitAtOffset=function(t){var e,i;return 0===t?(e=null,i=this):t===this.length?(e=this,i=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[e,i]},e.prototype.toConsole=function(){var t;return 15<(t=this.string).length&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())},e}(P.Piece))}.call(this),function(){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty,l=[].slice;n=P.spliceArray,P.SplittableList=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var o,i,s;return r(e,t),e.box=function(t){return t instanceof this?t:new this(t)},e.prototype.indexOf=function(t){return this.objects.indexOf(t)},e.prototype.splice=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],new this.constructor(n.apply(null,[this.objects].concat(l.call(t))))},e.prototype.eachObject=function(t){var e,i,n,r,a,o;for(o=[],i=e=0,n=(a=this.objects).length;e<n;i=++e)r=a[i],o.push(t(r,i));return o},e.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},e.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(l.call(t.objects)))},e.prototype.insertSplittableListAtPosition=function(t,e){var i,n,r;return n=(r=this.splitObjectAtPosition(e))[0],i=r[1],new this.constructor(n).insertSplittableListAtIndex(t,i)},e.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},e.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},e.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},e.prototype.getObjectAtIndex=function(t){return this.objects[t]},e.prototype.getSplittableListInRange=function(t){var e,i,n,r;return i=(n=this.splitObjectsAtRange(t))[0],e=n[1],r=n[2],new this.constructor(i.slice(e,r+1))},e.prototype.selectSplittableList=function(r){var a,t;return t=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.objects).length;t<e;t++)a=i[t],r(a)&&n.push(a);return n}.call(this),new this.constructor(t)},e.prototype.removeObjectsInRange=function(t){var e,i,n,r;return i=(n=this.splitObjectsAtRange(t))[0],e=n[1],r=n[2],new this.constructor(i).splice(e,r-e+1)},e.prototype.transformObjectsInRange=function(t,n){var r,a,o,s,e,l,i;return e=this.splitObjectsAtRange(t),s=e[0],a=e[1],l=e[2],i=function(){var t,e,i;for(i=[],r=t=0,e=s.length;t<e;r=++t)o=s[r],i.push(a<=r&&r<=l?n(o):o);return i}(),new this.constructor(i)},
e.prototype.splitObjectsAtRange=function(t){var e,i,n,r,a;return i=(r=this.splitObjectAtPosition(s(t)))[0],e=r[1],n=r[2],[i=(a=new this.constructor(i).splitObjectAtPosition(o(t)+n))[0],e,a[1]-1]},e.prototype.getObjectAtPosition=function(t){var e,i;return e=(i=this.findIndexAndOffsetAtPosition(t)).index,i.offset,this.objects[e]},e.prototype.splitObjectAtPosition=function(t){var e,i,n,r,a,o,s,l,c;return e=(a=this.findIndexAndOffsetAtPosition(t)).index,r=a.offset,n=this.objects.slice(0),null!=e?0===r?(l=e,c=0):(i=(o=this.getObjectAtIndex(e).splitAtOffset(r))[0],s=o[1],n.splice(e,1,i,s),l=e+1,c=i.getLength()-r):(l=n.length,c=0),[n,l,c]},e.prototype.consolidate=function(){var t,e,i,n,r,a;for(n=[],r=this.objects[0],t=0,e=(a=this.objects.slice(1)).length;t<e;t++)i=a[t],("function"==typeof r.canBeConsolidatedWith?r.canBeConsolidatedWith(i):void 0)?r=r.consolidateWith(i):(n.push(r),r=i);return null!=r&&n.push(r),new this.constructor(n)},e.prototype.consolidateFromIndexToIndex=function(t,e){var i,n;return n=this.objects.slice(0).slice(t,e+1),i=new this.constructor(n).consolidate().toArray(),this.splice.apply(this,[t,n.length].concat(l.call(i)))},e.prototype.findIndexAndOffsetAtPosition=function(t){var e,i,n,r,a,o;for(n=i=e=0,r=(o=this.objects).length;i<r;n=++i){if(a=e+o[n].getLength(),e<=t&&t<a)return{index:n,offset:t-e};e=a}return{index:null,offset:null}},e.prototype.findPositionAtIndexAndOffset=function(t,e){var i,n,r,a,o,s;for(i=n=o=0,r=(s=this.objects).length;n<r;i=++n)if(a=s[i],i<t)o+=a.getLength();else if(i===t){o+=e;break}return o},e.prototype.getEndPosition=function(){var n,r;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var t,e,i;for(t=r=0,e=(i=this.objects).length;t<e;t++)n=i[t],r+=n.getLength();return r}.call(this)},e.prototype.toString=function(){return this.objects.join("")},e.prototype.toArray=function(){return this.objects.slice(0)},e.prototype.toJSON=function(){return this.toArray()},e.prototype.isEqualTo=function(t){return e.__super__.isEqualTo.apply(this,arguments)||i(this.objects,null!=t?t.objects:void 0)},i=function(t,e){var i,n,r,a,o;if(null==e&&(e=[]),t.length!==e.length)return!1;for(o=!0,n=i=0,r=t.length;i<r;n=++i)a=t[n],o&&!a.isEqualTo(e[n])&&(o=!1);return o},e.prototype.contentsForInspection=function(){var r;return{objects:"["+function(){var t,e,i,n;for(n=[],t=0,e=(i=this.objects).length;t<e;t++)r=i[t],n.push(r.inspect());return n}.call(this).join(", ")+"]"}},s=function(t){return t[0]},o=function(t){return t[1]},e}(P.Object)}.call(this),function(){var e=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.Text=function(t){function i(n){var r;null==n&&(n=[]),i.__super__.constructor.apply(this,arguments),this.pieceList=new P.SplittableList(function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)(r=n[t]).isEmpty()||i.push(r);return i}())}return e(i,t),i.textForAttachmentWithAttributes=function(t,e){return new this([new P.AttachmentPiece(t,e)])},i.textForStringWithAttributes=function(t,e){return new this([new P.StringPiece(t,e)])},i.fromJSON=function(n){var r;return new this(function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)r=n[t],i.push(P.Piece.fromJSON(r));return i}())},i.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},i.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},i.prototype.copyUsingObjectMap=function(a){var o,t;return t=function(){var t,e,i,n,r;for(r=[],t=0,e=(i=this.getPieces()).length;t<e;t++)o=i[t],r.push(null!=(n=a.find(o))?n:o);return r}.call(this),new this.constructor(t)},i.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},i.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},i.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},i.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},i.prototype.moveTextFromRangeToPosition=function(t,e){var i,n;if(!(t[0]<=e&&e<=t[1]))return i=(n=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=i),this.removeTextAtRange(t).insertTextAtPosition(n,e)},i.prototype.addAttributeAtRange=function(t,e,i){var n;return(n={})[t]=e,this.addAttributesAtRange(n,i)},i.prototype.addAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAdditionalAttributes(e)}))},i.prototype.removeAttributeAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithoutAttribute(e)}))},i.prototype.setAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAttributes(e)}))},i.prototype.getAttributesAtPosition=function(t){var e,i;return null!=(e=null!=(i=this.pieceList.getObjectAtPosition(t))?i.getAttributes():void 0)?e:{}},i.prototype.getCommonAttributes=function(){var t,r;return t=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.pieceList.toArray()).length;t<e;t++)r=i[t],n.push(r.getAttributes());return n}.call(this),P.Hash.fromCommonAttributesOfObjects(t).toObject()},i.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},i.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var i,n,r;for(i=r=e,n=this.getLength();0<i&&this.getCommonAttributesAtRange([i-1,r])[t];)i--;for(;r<n&&this.getCommonAttributesAtRange([e,r+1])[t];)r++;return[i,r]},i.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},i.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},i.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},i.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},i.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},i.prototype.getAttachmentPieces=function(){var t,e,i,n,r;for(r=[],t=0,e=(n=this.pieceList.toArray()).length;t<e;t++)null!=(i=n[t]).attachment&&r.push(i);return r},i.prototype.getAttachments=function(){var t,e,i,n,r;for(r=[],t=0,e=(n=this.getAttachmentPieces()).length;t<e;t++)i=n[t],r.push(i.attachment);return r},i.prototype.getAttachmentAndPositionById=function(t){var e,i,n,r,a,o;for(e=r=0,i=(a=this.pieceList.toArray()).length;e<i;e++){if((null!=(o=(n=a[e]).attachment)?o.id:void 0)===t)return{attachment:n.attachment,position:r};r+=n.length}return{attachment:null,position:null}},i.prototype.getAttachmentById=function(t){var e,i;return e=(i=this.getAttachmentAndPositionById(t)).attachment,i.position,e},i.prototype.getRangeOfAttachment=function(t){var e,i;return t=(i=this.getAttachmentAndPositionById(t.id)).attachment,e=i.position,null!=t?[e,e+1]:void 0},i.prototype.updateAttributesForAttachment=function(t,e){var i;return(i=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,i):this},i.prototype.getLength=function(){return this.pieceList.getEndPosition()},i.prototype.isEmpty=function(){return 0===this.getLength()},i.prototype.isEqualTo=function(t){var e;return i.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},i.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},i.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},i.prototype.getPieces=function(){return this.pieceList.toArray()},i.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},i.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},i.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},i.prototype.toString=function(){return this.pieceList.toString()},i.prototype.toJSON=function(){return this.pieceList.toJSON()},i.prototype.toConsole=function(){var r;return JSON.stringify(function(){var t,e,i,n;for(n=[],t=0,e=(i=this.pieceList.toArray()).length;t<e;t++)r=i[t],n.push(JSON.parse(r.toConsole()));return n}.call(this))},i}(P.Object)}.call(this),function(){var u,d,p,f,g=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty,m=[].slice,v=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};u=P.arraysAreEqual,f=P.spliceArray,d=P.getBlockConfig,P.getBlockAttributeNames,p=P.getListAttributeNames,P.Block=function(t){function i(t,e){null==t&&(t=new P.Text),null==e&&(e=[]),i.__super__.constructor.apply(this,arguments),this.text=n(t),this.attributes=e}var e,n,r,a,o,s,l,c,h;return g(i,t),i.fromJSON=function(t){return new this(P.Text.fromJSON(t.text),t.attributes)},i.prototype.isEmpty=function(){return this.text.isBlockBreak()},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=t?t.text:void 0)&&u(this.attributes,null!=t?t.attributes:void 0)},i.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},i.prototype.copyWithoutText=function(){return this.copyWithText(null)},i.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},i.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},i.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(a(t)),this.copyWithAttributes(e)},i.prototype.removeAttribute=function(t){var e,i;return i=d(t).listAttribute,e=s(s(this.attributes,t),i),this.copyWithAttributes(e)},i.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},i.prototype.getLastAttribute=function(){return o(this.attributes)},i.prototype.getAttributes=function(){return this.attributes.slice(0)},i.prototype.getAttributeLevel=function(){return this.attributes.length},i.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},i.prototype.hasAttributes=function(){return 0<this.getAttributeLevel()},i.prototype.getLastNestableAttribute=function(){return o(this.getNestableAttributes())},i.prototype.getNestableAttributes=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.attributes).length;e<i;e++)t=n[e],d(t).nestable&&r.push(t);return r},i.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},i.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},i.prototype.increaseNestingLevel=function(){var t,e,i;return(t=this.getLastNestableAttribute())?(i=this.attributes.lastIndexOf(t),e=f.apply(null,[this.attributes,i+1,0].concat(m.call(a(t)))),this.copyWithAttributes(e)):this},i.prototype.getListItemAttributes=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.attributes).length;e<i;e++)t=n[e],d(t).listAttribute&&r.push(t);return r},i.prototype.isListItem=function(){var t;return null!=(t=d(this.getLastAttribute()))?t.listAttribute:void 0},i.prototype.isTerminalBlock=function(){var t;return null!=(t=d(this.getLastAttribute()))?t.terminal:void 0},i.prototype.breaksOnReturn=function(){var t;return null!=(t=d(this.getLastAttribute()))?t.breakOnReturn:void 0},i.prototype.findLineBreakInDirectionFromPosition=function(t,e){var i,n;return n=this.toString(),-1!==(i=function(){switch(t){case"forward":return n.indexOf("\n",e);case"backward":return n.slice(0,e).lastIndexOf("\n")}}())?i:void 0},i.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},i.prototype.toString=function(){return this.text.toString()},i.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},i.prototype.getLength=function(){return this.text.getLength()},i.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},i.prototype.consolidateWith=function(t){var e,i;return e=P.Text.textForStringWithAttributes("\n"),i=this.getTextWithoutBlockBreak().appendText(e),this.copyWithText(i.appendText(t.text))},i.prototype.splitAtOffset=function(t){var e,i;return 0===t?(e=null,i=this):t===this.getLength()?(e=this,i=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,i]},i.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},i.prototype.getTextWithoutBlockBreak=function(){return l(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},i.prototype.canBeGrouped=function(t){return this.attributes[t]},i.prototype.canBeGroupedWith=function(t,e){var i,n,r,a;return n=(r=t.getAttributes())[e],(i=this.attributes[e])===n&&!(!1===d(i).group&&(a=r[e+1],v.call(p(),a)<0))},n=function(t){return t=h(t),e(t)},h=function(t){var e,n,i,r,a,o;return r=!1,o=t.getPieces(),n=2<=o.length?m.call(o,0,e=o.length-1):(e=0,[]),null==(i=o[e++])?t:(n=function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)(a=n[t]).isBlockBreak()?(r=!0,i.push(c(a))):i.push(a);return i}(),r?new P.Text(m.call(n).concat([i])):t)},r=P.Text.textForStringWithAttributes("\n",{blockBreak:!0}),e=function(t){return l(t)?t:t.appendText(r)},l=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},c=function(t){return t.copyWithoutAttribute("blockBreak")},a=function(t){var e;return null!=(e=d(t).listAttribute)?[e,t]:[t]},o=function(t){return t.slice(-1)[0]},s=function(t,e){var i;return-1===(i=t.lastIndexOf(e))?t:f(t,i,1)},i}(P.Object)}.call(this),function(){var x,b,y,w,A,C,S,k,T,D=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty,L=[].slice,E=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};x=P.arraysAreEqual,S=P.normalizeSpaces,A=P.makeElement,k=P.tagName,w=P.getBlockTagNames,T=P.walkTree,y=P.findClosestElementFromNode,b=P.elementContainsNode,C=P.nodeIsAttachmentElement,P.HTMLParser=function(t){function e(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var m,n,i,r,v,o,a,s,l,c,h,u,d,p,f,g;return D(e,t),m="style href src width height class".split(" "),e.parse=function(t,e){var i;return(i=new this(t,e)).parse(),i},e.prototype.getDocument=function(){return P.Document.fromJSON(this.blocks)},e.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=d(this.html),this.containerElement.innerHTML=t,e=T(this.containerElement,{usingFilter:c});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},e.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=A({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},e.prototype.removeHiddenContainer=function(){return this.containerElement.parentNode.removeChild(this.containerElement)},d=function(t){var e,i,n,r,a,o,s,l,c,h,u,d,p,f,g;for(t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(i=document.implementation.createHTMLDocument("")).documentElement.innerHTML=t,e=i.body,n=0,o=(d=i.head.querySelectorAll("style")).length;n<o;n++)f=d[n],e.appendChild(f);for(u=[],g=T(e);g.nextNode();)switch(h=g.currentNode,h.nodeType){case Node.ELEMENT_NODE:if(v(h))u.push(h);else for(r=0,s=(p=L.call(h.attributes)).length;r<s;r++)c=p[r].name,0<=E.call(m,c)||0===c.indexOf("data-trix")||h.removeAttribute(c);break;case Node.COMMENT_NODE:u.push(h)}for(a=0,l=u.length;a<l;a++)(h=u[a]).parentNode.removeChild(h);return e.innerHTML},v=function(t){return(null!=t?t.nodeType:void 0)!==Node.ELEMENT_NODE||C(t)?void 0:"script"===k(t)||"false"===t.getAttribute("data-trix-serialize")},c=function(t){return"style"===k(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},e.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:return this.processTextNode(t);case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},e.prototype.appendBlockForElement=function(t){var e,i,n,r;if(n=this.isBlockElement(t),i=b(this.currentBlockElement,t),n&&!this.isBlockElement(t.firstChild)){if(!(this.isInsignificantTextNode(t.firstChild)&&this.isBlockElement(t.firstElementChild)||(e=this.getBlockAttributes(t),i&&x(e,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(e,t),this.currentBlockElement=t}else if(this.currentBlockElement&&!i&&!n)return(r=this.findParentBlockElement(t))?this.appendBlockForElement(r):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},e.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&0<=E.call(this.blockElements,e))return e;e=e.parentElement}return null},e.prototype.processTextNode=function(t){var e,i;return this.isInsignificantTextNode(t)?void 0:(i=t.data,r(t.parentNode)||(i=p(i),f(null!=(e=t.previousSibling)?e.textContent:void 0)&&(i=l(i))),this.appendStringWithAttributes(i,this.getTextAttributes(t.parentNode)))},e.prototype.processElement=function(t){var e,i,n,r,a;if(C(t))return e=o(t),Object.keys(e).length&&(r=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,r),t.innerHTML=""),this.processedElements.push(t);switch(k(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":for(i in e={url:t.getAttribute("src"),contentType:"image"},n=s(t))a=n[i],e[i]=a;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},e.prototype.appendBlockForAttributesWithElement=function(t,e){var i;return this.blockElements.push(e),i=n(t),this.blocks.push(i),i},e.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},e.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(u(t,e))},e.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(h(t,e))},e.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},e.prototype.appendStringToTextAtIndex=function(t,e){var i,n;return"string"===(null!=(i=(n=this.blocks[e].text)[n.length-1])?i.type:void 0)?i.string+=t:n.push(u(t))},e.prototype.prependStringToTextAtIndex=function(t,e){var i,n;return"string"===(null!=(i=(n=this.blocks[e].text)[0])?i.type:void 0)?i.string=t+i.string:n.unshift(u(t))},u=function(t,e){var i;return null==e&&(e={}),i="string",{string:t=S(t),attributes:e,type:i}},h=function(t,e){return null==e&&(e={}),{attachment:t,attributes:e,type:"attachment"}},n=function(t){return null==t&&(t={}),{text:[],attributes:t}},e.prototype.getTextAttributes=function(t){var e,i,n,r,a,o,s,l,c,h,u,d,p;for(e in n={},h=P.config.textAttributes)if((a=h[e]).tagName&&y(t,{matchingSelector:a.tagName,untilNode:this.containerElement}))n[e]=!0;else if(a.parser&&(p=a.parser(t))){for(i=!1,o=0,c=(u=this.findBlockElementAncestors(t)).length;o<c;o++)if(r=u[o],a.parser(r)===p){i=!0;break}i||(n[e]=p)}if(C(t)&&(s=t.getAttribute("data-trix-attributes")))for(l in d=JSON.parse(s))p=d[l],n[l]=p;return n},e.prototype.getBlockAttributes=function(t){var e,i,n,r;for(i=[];t&&t!==this.containerElement;){for(e in r=P.config.blockAttributes)!1!==(n=r[e]).parse&&k(t)===n.tagName&&(("function"==typeof n.test?n.test(t):void 0)||!n.test)&&(i.push(e),n.listAttribute&&i.push(n.listAttribute));t=t.parentNode}return i.reverse()},e.prototype.findBlockElementAncestors=function(t){var e,i;for(e=[];t&&t!==this.containerElement;)i=k(t),0<=E.call(w(),i)&&e.push(t),t=t.parentNode;return e},o=function(t){return JSON.parse(t.getAttribute("data-trix-attachment"))},s=function(t){var e,i,n;return n=t.getAttribute("width"),i=t.getAttribute("height"),e={},n&&(e.width=parseInt(n,10)),i&&(e.height=parseInt(i,10)),e},e.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!y(t,{matchingSelector:"td",untilNode:this.containerElement}))return e=k(t),0<=E.call(w(),e)||"block"===window.getComputedStyle(t).display},e.prototype.isInsignificantTextNode=function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&g(t.data)&&!r(t.parentNode)?!t.previousSibling||this.isBlockElement(t.previousSibling)||!t.nextSibling||this.isBlockElement(t.nextSibling):void 0},e.prototype.isExtraBR=function(t){return"br"===k(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},r=function(t){var e;return"pre"===(e=window.getComputedStyle(t).whiteSpace)||"pre-wrap"===e||"pre-line"===e},e.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,i,n,r,a,o;for(t=this.getMarginOfDefaultBlockElement(),o=[],i=e=0,n=(a=this.blocks).length;e<n;i=++e)a[i],(r=this.getMarginOfBlockElementAtIndex(i))&&(r.top>2*t.top&&this.prependStringToTextAtIndex("\n",i),o.push(r.bottom>2*t.bottom?this.appendStringToTextAtIndex("\n",i):void 0));return o},e.prototype.getMarginOfBlockElementAtIndex=function(t){var e,i;return!(e=this.blockElements[t])||(i=k(e),0<=E.call(w(),i)||0<=E.call(this.processedElements,e))?void 0:a(e)},e.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=A(P.config.blockAttributes["default"].tagName),this.containerElement.appendChild(t),a(t)},a=function(t){var e;return"block"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},i=RegExp("[^\\S"+P.NON_BREAKING_SPACE+"]"),p=function(t){return t.replace(RegExp(""+i.source,"g")," ").replace(/\ {2,}/g," ")},l=function(t){return t.replace(RegExp("^"+i.source+"+"),"")},g=function(t){return RegExp("^"+i.source+"*$").test(t)},f=function(t){return/\s$/.test(t)},e}(P.BasicObject)}.call(this),function(){var f,s,b,y,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty,d=[].slice,p=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};f=P.arraysAreEqual,b=P.normalizeRange,y=P.rangeIsCollapsed,s=P.getBlockConfig,P.Document=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new P.Block]),this.blockList=P.SplittableList.box(t)}var u;return i(e,t),e.fromJSON=function(n){var r;return new this(function(){var t,e,i;for(i=[],t=0,e=n.length;t<e;t++)r=n[t],i.push(P.Block.fromJSON(r));return i}())},e.fromHTML=function(t,e){return P.HTMLParser.parse(t,e).getDocument()},e.fromString=function(t,e){var i;return i=P.Text.textForStringWithAttributes(t,e),new this([new P.Block(i)])},e.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},e.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},e.prototype.copyUsingObjectsFromDocument=function(t){var e;return e=new P.ObjectMap(t.getObjects()),this.copyUsingObjectMap(e)},e.prototype.copyUsingObjectMap=function(r){var a,t,o;return t=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.getBlocks()).length;t<e;t++)a=i[t],n.push((o=r.find(a))?o:a.copyUsingObjectMap(r));return n}.call(this),new this.constructor(t)},e.prototype.copyWithBaseBlockAttributes=function(r){var a,o,t;return null==r&&(r=[]),t=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.getBlocks()).length;t<e;t++)o=i[t],a=r.concat(o.getAttributes()),n.push(o.copyWithAttributes(a));return n}.call(this),new this.constructor(t)},e.prototype.replaceBlock=function(t,e){var i;return-1===(i=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,i))},e.prototype.insertDocumentAtRange=function(t,e){var i,n,r,a,o,s,l;return n=t.blockList,o=(e=b(e))[0],r=(s=this.locationFromPosition(o)).index,a=s.offset,i=(l=this).getBlockAtPosition(o),y(e)&&i.isEmpty()&&!i.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(r)):i.getBlockBreakPosition()===a&&o++,l=l.removeTextAtRange(e),new this.constructor(l.blockList.insertSplittableListAtPosition(n,o))},e.prototype.mergeDocumentAtRange=function(t,e){var i,n,r,a,o,s,l,c,h,u,d,p;return d=(e=b(e))[0],u=this.locationFromPosition(d),n=this.getBlockAtIndex(u.index).getAttributes(),i=t.getBaseBlockAttributes(),p=n.slice(-i.length),f(i,p)?(l=n.slice(0,-i.length),s=t.copyWithBaseBlockAttributes(l)):s=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(n),r=s.getBlockCount(),a=s.getBlockAtIndex(0),f(n,a.getAttributes())?(o=a.getTextWithoutBlockBreak(),h=this.insertTextAtRange(o,e),1<r&&(s=new this.constructor(s.getBlocks().slice(1)),c=d+o.getLength(),h=h.insertDocumentAtRange(s,c))):h=this.insertDocumentAtRange(s,e),h},e.prototype.insertTextAtRange=function(e,t){var i,n,r,a,o;return o=(t=b(t))[0],n=(a=this.locationFromPosition(o)).index,r=a.offset,i=this.removeTextAtRange(t),new this.constructor(i.blockList.editObjectAtIndex(n,function(t){return t.copyWithText(t.text.insertTextAtPosition(e,r))}))},e.prototype.removeTextAtRange=function(t){var e,i,n,r,a,o,s,l,c,h,u,d,p,f,g,m,v,x;return l=(h=t=b(t))[0],m=h[1],y(t)?this:(o=(u=this.locationRangeFromRange(t))[0],f=u[1],a=o.index,s=o.offset,r=this.getBlockAtIndex(a),p=f.index,g=f.offset,d=this.getBlockAtIndex(p),m-l==1&&r.getBlockBreakPosition()===s&&d.getBlockBreakPosition()!==g&&"\n"===d.text.getStringAtPosition(g)?n=this.blockList.editObjectAtIndex(p,function(t){return t.copyWithText(t.text.removeTextAtRange([g,g+1]))}):(c=r.text.getTextAtRange([0,s]),v=d.text.getTextAtRange([g,d.getLength()]),x=c.appendText(v),i=a!==p&&0===s&&r.getAttributeLevel()>=d.getAttributeLevel()?d.copyWithText(x):r.copyWithText(x),e=p+1-a,n=this.blockList.splice(a,e,i)),new this.constructor(n))},e.prototype.moveTextFromRangeToPosition=function(t,e){var i,n,r,a,o,s,l,c,h,u;if(h=(s=t=b(t))[0],r=s[1],h<=e&&e<=r)return this;if(n=this.getDocumentAtRange(t),c=this.removeTextAtRange(t),(o=h<e)&&(e-=n.getLength()),!c.firstBlockInRangeIsEntirelySelected(t)){if(a=(l=n.getBlocks())[0],0===(i=2<=l.length?d.call(l,1):[]).length?(u=a.getTextWithoutBlockBreak(),o&&(e+=1)):u=a.text,c=c.insertTextAtRange(u,e),0===i.length)return c;n=new this.constructor(i),e+=u.getLength()}return c.insertDocumentAtRange(n,e)},e.prototype.addAttributeAtRange=function(n,r,t){var a;return a=this.blockList,this.eachBlockAtRange(t,function(t,e,i){return a=a.editObjectAtIndex(i,function(){return s(n)?t.addAttribute(n,r):e[0]===e[1]?t:t.copyWithText(t.text.addAttributeAtRange(n,r,e))})}),new this.constructor(a)},e.prototype.addAttribute=function(i,n){var r;return r=this.blockList,this.eachBlock(function(t,e){return r=r.editObjectAtIndex(e,function(){return t.addAttribute(i,n)})}),new this.constructor(r)},e.prototype.removeAttributeAtRange=function(n,t){var r;return r=this.blockList,this.eachBlockAtRange(t,function(t,e,i){return s(n)?r=r.editObjectAtIndex(i,function(){return t.removeAttribute(n)}):e[0]!==e[1]?r=r.editObjectAtIndex(i,function(){return t.copyWithText(t.text.removeAttributeAtRange(n,e))}):void 0}),new this.constructor(r)},e.prototype.updateAttributesForAttachment=function(e,i){var t,n,r;return n=this.getRangeOfAttachment(i)[0],t=this.locationFromPosition(n).index,r=this.getTextAtIndex(t),new this.constructor(this.blockList.editObjectAtIndex(t,function(t){return t.copyWithText(r.updateAttributesForAttachment(e,i))}))},e.prototype.removeAttributeForAttachment=function(t,e){var i;return i=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,i)},e.prototype.insertBlockBreakAtRange=function(t){var e,i,n,r;return r=(t=b(t))[0],n=this.locationFromPosition(r).offset,i=this.removeTextAtRange(t),0===n&&(e=[new P.Block]),new this.constructor(i.blockList.insertSplittableListAtPosition(new P.SplittableList(e),r))},e.prototype.applyBlockAttributeAtRange=function(t,e,i){var n,r,a,o;return r=(a=this.expandRangeToLineBreaksAndSplitBlocks(i)).document,i=a.range,(n=s(t)).listAttribute?(r=(o=(r=r.removeLastListAttributeAtRange(i,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(i)).document,i=o.range):r=n.terminal?r.removeLastTerminalAttributeAtRange(i):r.consolidateBlocksAtRange(i),r.addAttributeAtRange(t,e,i)},e.prototype.removeLastListAttributeAtRange=function(t,r){var a;return null==r&&(r={}),a=this.blockList,this.eachBlockAtRange(t,function(t,e,i){var n;if((n=t.getLastAttribute())&&s(n).listAttribute&&n!==r.exceptAttributeName)return a=a.editObjectAtIndex(i,function(){return t.removeAttribute(n)})}),new this.constructor(a)},e.prototype.removeLastTerminalAttributeAtRange=function(t){var r;return r=this.blockList,this.eachBlockAtRange(t,function(t,e,i){var n;if((n=t.getLastAttribute())&&s(n).terminal)return r=r.editObjectAtIndex(i,function(){return t.removeAttribute(n)})}),new this.constructor(r)},e.prototype.firstBlockInRangeIsEntirelySelected=function(t){var e,i,n,r,a,o;return o=(r=t=b(t))[0],e=r[1],i=this.locationFromPosition(o),a=this.locationFromPosition(e),0===i.offset&&i.index<a.index||i.index===a.index&&(n=this.getBlockAtIndex(i.index).getLength(),0===i.offset&&a.offset===n)},e.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,i,n,r,a,o,s,l,c;return c=(o=t=b(t))[0],r=o[1],l=this.locationFromPosition(c),n=this.locationFromPosition(r),s=(e=this).getBlockAtIndex(l.index),null!=(l.offset=s.findLineBreakInDirectionFromPosition("backward",l.offset))&&(a=e.positionFromLocation(l),e=e.insertBlockBreakAtRange([a,a+1]),n.index+=1,n.offset-=e.getBlockAtIndex(l.index).getLength(),l.index+=1),(l.offset=0)===n.offset&&n.index>l.index?(n.index-=1,n.offset=e.getBlockAtIndex(n.index).getBlockBreakPosition()):("\n"===(i=e.getBlockAtIndex(n.index)).text.getStringAtRange([n.offset-1,n.offset])?n.offset-=1:n.offset=i.findLineBreakInDirectionFromPosition("forward",n.offset),n.offset!==i.getBlockBreakPosition()&&(a=e.positionFromLocation(n),e=e.insertBlockBreakAtRange([a,a+1]))),c=e.positionFromLocation(l),r=e.positionFromLocation(n),{document:e,range:t=b([c,r])}},e.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,i,n;return i=(t=b(t))[0],n=this.getStringAtRange(t).slice(0,-1),e=this,n.replace(/.*?\n/g,function(t){return i+=t.length,e=e.insertBlockBreakAtRange([i-1,i])}),{document:e,range:t}},e.prototype.consolidateBlocksAtRange=function(t){var e,i,n,r,a;return a=(n=t=b(t))[0],i=n[1],r=this.locationFromPosition(a).index,e=this.locationFromPosition(i).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(r,e))},e.prototype.getDocumentAtRange=function(t){var e;return t=b(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},e.prototype.getStringAtRange=function(t){return this.getDocumentAtRange(t).toString()},e.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},e.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},e.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},e.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},e.prototype.getPieceAtPosition=function(t){var e,i,n;return e=(n=this.locationFromPosition(t)).index,i=n.offset,this.getTextAtIndex(e).getPieceAtPosition(i)},e.prototype.getCharacterAtPosition=function(t){var e,i,n;return e=(n=this.locationFromPosition(t)).index,i=n.offset,this.getTextAtIndex(e).getStringAtRange([i,i+1])},e.prototype.getLength=function(){return this.blockList.getEndPosition()},e.prototype.getBlocks=function(){return this.blockList.toArray()},e.prototype.getBlockCount=function(){return this.blockList.length},
e.prototype.getEditCount=function(){return this.editCount},e.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},e.prototype.eachBlockAtRange=function(t,e){var i,n,r,a,o,s,l,c,h,u,d,p;if(d=(s=t=b(t))[0],r=s[1],u=this.locationFromPosition(d),n=this.locationFromPosition(r),u.index===n.index)return i=this.getBlockAtIndex(u.index),p=[u.offset,n.offset],e(i,p,u.index);for(h=[],o=a=l=u.index,c=n.index;l<=c?a<=c:c<=a;o=l<=c?++a:--a)(i=this.getBlockAtIndex(o))?(p=function(){switch(o){case u.index:return[u.offset,i.text.getLength()];case n.index:return[0,n.offset];default:return[0,i.text.getLength()]}}(),h.push(e(i,p,o))):h.push(void 0);return h},e.prototype.getCommonAttributesAtRange=function(t){var i,e,n;return e=(t=b(t))[0],y(t)?this.getCommonAttributesAtPosition(e):(n=[],i=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(n.push(t.text.getCommonAttributesAtRange(e)),i.push(u(t))):void 0}),P.Hash.fromCommonAttributesOfObjects(n).merge(P.Hash.fromCommonAttributesOfObjects(i)).toObject())},e.prototype.getCommonAttributesAtPosition=function(t){var e,i,n,r,a,o,s,l,c,h;if(a=(c=this.locationFromPosition(t)).index,l=c.offset,!(n=this.getBlockAtIndex(a)))return{};for(s in r=u(n),e=n.text.getAttributesAtPosition(l),i=n.text.getAttributesAtPosition(l-1),o=function(){var t,e;for(s in e=[],t=P.config.textAttributes)(h=t[s]).inheritable&&e.push(s);return e}(),i)((h=i[s])===e[s]||0<=p.call(o,s))&&(r[s]=h);return r},e.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var i,n,r,a,o,s,l,c;return r=(o=this.locationFromPosition(e)).index,a=o.offset,c=(s=this.getTextAtIndex(r).getExpandedRangeForAttributeAtOffset(t,a))[0],n=s[1],l=this.positionFromLocation({index:r,offset:c}),i=this.positionFromLocation({index:r,offset:n}),b([l,i])},e.prototype.getBaseBlockAttributes=function(){var n,r,t,e,a,o,i;for(n=this.getBlockAtIndex(0).getAttributes(),t=e=1,i=this.getBlockCount();1<=i?e<i:i<e;t=1<=i?++e:--e)r=this.getBlockAtIndex(t).getAttributes(),o=Math.min(n.length,r.length),n=function(){var t,e,i;for(i=[],a=t=0,e=o;(0<=e?t<e:e<t)&&r[a]===n[a];a=0<=e?++t:--t)i.push(r[a]);return i}();return n},u=function(t){var e,i;return i={},(e=t.getLastAttribute())&&(i[e]=!0),i},e.prototype.getAttachmentById=function(t){var e,i,n,r;for(i=0,n=(r=this.getAttachments()).length;i<n;i++)if((e=r[i]).id===t)return e},e.prototype.getAttachmentPieces=function(){var i;return i=[],this.blockList.eachObject(function(t){var e;return e=t.text,i=i.concat(e.getAttachmentPieces())}),i},e.prototype.getAttachments=function(){var t,e,i,n,r;for(r=[],t=0,e=(n=this.getAttachmentPieces()).length;t<e;t++)i=n[t],r.push(i.attachment);return r},e.prototype.getRangeOfAttachment=function(t){var e,i,n,r,a,o,s;for(i=e=r=0,n=(a=this.blockList.toArray()).length;e<n;i=++e){if(s=(o=a[i].text).getRangeOfAttachment(t))return b([r+s[0],r+s[1]]);r+=o.getLength()}},e.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},e.prototype.getAttachmentPieceForAttachment=function(t){var e,i,n,r;for(e=0,i=(r=this.getAttachmentPieces()).length;e<i;e++)if((n=r[e]).attachment===t)return n},e.prototype.locationFromPosition=function(t){var e,i;return null!=(i=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?i:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},e.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},e.prototype.locationRangeFromPosition=function(t){return b(this.locationFromPosition(t))},e.prototype.locationRangeFromRange=function(t){var e,i,n,r;if(t=b(t))return r=t[0],i=t[1],n=this.locationFromPosition(r),e=this.locationFromPosition(i),b([n,e])},e.prototype.rangeFromLocationRange=function(t){var e,i;return t=b(t),e=this.positionFromLocation(t[0]),y(t)||(i=this.positionFromLocation(t[1])),b([e,i])},e.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},e.prototype.getTexts=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.getBlocks()).length;e<i;e++)t=n[e],r.push(t.text);return r},e.prototype.getPieces=function(){var t,e,i,n,r;for(i=[],t=0,e=(n=this.getTexts()).length;t<e;t++)r=n[t],i.push.apply(i,r.getPieces());return i},e.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},e.prototype.toSerializableDocument=function(){var e;return e=[],this.blockList.eachObject(function(t){return e.push(t.copyWithText(t.text.toSerializableText()))}),new this.constructor(e)},e.prototype.toString=function(){return this.blockList.toString()},e.prototype.toJSON=function(){return this.blockList.toJSON()},e.prototype.toConsole=function(){var r;return JSON.stringify(function(){var t,e,i,n;for(n=[],t=0,e=(i=this.blockList.toArray()).length;t<e;t++)r=i[t],n.push(JSON.parse(r.text.toConsole()));return n}.call(this))},e}(P.Object)}.call(this),function(){P.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var n,r,o,a,s,l,c,h,u,d,p=function(t,e){function i(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},f={}.hasOwnProperty;l=P.normalizeRange,u=P.rangesAreEqual,h=P.rangeIsCollapsed,c=P.objectsAreEqual,n=P.arrayStartsWith,d=P.summarizeArrayChange,o=P.getAllAttributeNames,a=P.getBlockConfig,s=P.getTextConfig,r=P.extend,P.Composition=function(t){function e(){this.document=new P.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var i;return p(e,t),e.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},e.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},e.prototype.loadSnapshot=function(t){var e,i,n,r;return e=t.document,r=t.selectedRange,null!=(i=this.delegate)&&"function"==typeof i.compositionWillLoadSnapshot&&i.compositionWillLoadSnapshot(),this.setDocument(null!=e?e:new P.Document),this.setSelection(null!=r?r:[0,0]),null!=(n=this.delegate)&&"function"==typeof n.compositionDidLoadSnapshot?n.compositionDidLoadSnapshot():void 0},e.prototype.insertText=function(t,e){var i,n,r,a;return a=(null!=e?e:{updatePosition:!0}).updatePosition,n=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,n)),i=(r=n[0])+t.getLength(),a&&this.setSelection(i),this.notifyDelegateOfInsertionAtRange([r,i])},e.prototype.insertBlock=function(t){var e;return null==t&&(t=new P.Block),e=new P.Document([t]),this.insertDocument(e)},e.prototype.insertDocument=function(t){var e,i,n;return null==t&&(t=new P.Document),i=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,i)),e=(n=i[0])+t.getLength(),this.setSelection(e),this.notifyDelegateOfInsertionAtRange([n,e])},e.prototype.insertString=function(t,e){var i,n;return i=this.getCurrentTextAttributes(),n=P.Text.textForStringWithAttributes(t,i),this.insertText(n,e)},e.prototype.insertBlockBreak=function(){var t,e,i;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(i=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([i,t])},e.prototype.insertLineBreak=function(){var t,e;return(e=new P.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(e.startPosition)):e.shouldPrependListItem()?(t=new P.Document([e.block.copyWithoutText()]),this.insertDocument(t)):e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString("\n")},e.prototype.insertHTML=function(t){var e,i,n,r;return r=this.getPosition(),n=this.document.getLength(),e=P.Document.fromHTML(t),this.setDocument(this.document.mergeDocumentAtRange(e,this.getSelectedRange())),i=r+(this.document.getLength()-n),this.setSelection(i),this.notifyDelegateOfInsertionAtRange([i,i])},e.prototype.replaceHTML=function(t){var e,i,n;return e=P.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),n=this.document.rangeFromLocationRange(i),this.setDocument(e),this.setSelection(n)},e.prototype.insertFile=function(t){var e,i;return(null!=(i=this.delegate)?i.compositionShouldAcceptFile(t):void 0)?(e=P.Attachment.attachmentForFile(t),this.insertAttachment(e)):void 0},e.prototype.insertFiles=function(t){var e,i,n,r,a,o,s;for(s=new P.Text,r=0,a=t.length;r<a;r++)n=t[r],(null!=(o=this.delegate)?o.compositionShouldAcceptFile(n):void 0)&&(e=P.Attachment.attachmentForFile(n),i=P.Text.textForAttachmentWithAttributes(e,this.currentAttributes),s=s.appendText(i));return this.insertText(s)},e.prototype.insertAttachment=function(t){var e;return e=P.Text.textForAttachmentWithAttributes(t,this.currentAttributes),this.insertText(e)},e.prototype.deleteInDirection=function(t){var e,i,n,r,a,o,s;return r=this.getLocationRange(),a=this.getSelectedRange(),(o=h(a))?n="backward"===t&&0===r[0].offset:s=r[0].index!==r[1].index,!(n&&this.canDecreaseBlockAttributeLevel()&&((i=this.getBlock()).isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),i.isEmpty()))&&(o&&(a=this.getExpandedRangeInDirection(t),"backward"===t&&(e=this.getAttachmentAtRange(a))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!n&&!s&&void 0))},e.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},e.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},e.prototype.removeLastBlockAttribute=function(){var t,e,i,n;return n=(i=this.getSelectedRange())[0],e=i[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(n)},i=" ",e.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(i)},e.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+i.length]),this.getSelectedRange()):void 0},e.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},e.prototype.hasCurrentAttribute=function(t){var e;return null!=(e=this.currentAttributes[t])&&!1!==e},e.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},e.prototype.canSetCurrentAttribute=function(t){return a(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},e.prototype.canSetCurrentTextAttribute=function(t){switch(t){case"href":return!this.selectionContainsAttachmentWithAttribute(t);default:return!0}},e.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},e.prototype.setCurrentAttribute=function(t,e){return a(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},e.prototype.setTextAttribute=function(t,e){var i,n;if(i=this.getSelectedRange())return i[0]!==i[1]?this.setDocument(this.document.addAttributeAtRange(t,e,i)):"href"===t?(n=P.Text.textForStringWithAttributes(e,{href:e}),this.insertText(n)):void 0},e.prototype.setBlockAttribute=function(t,e){var i;if(i=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)):void 0},e.prototype.removeCurrentAttribute=function(t){return a(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},e.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.canDecreaseNestingLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getNestingLevel():void 0)},e.prototype.canIncreaseNestingLevel=function(){var t,e,i;if(t=this.getBlock())return null!=(i=a(t.getLastNestableAttribute()))&&i.listAttribute?(e=this.getPreviousBlock())?n(e.getListItemAttributes(),t.getListItemAttributes()):void 0:0<t.getNestingLevel()},e.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},e.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},e.prototype.canDecreaseBlockAttributeLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)},e.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},e.prototype.decreaseListLevel=function(){var t,e,i,n,r,a;for(a=this.getSelectedRange()[0],i=r=this.document.locationFromPosition(a).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(i+1))&&e.isListItem()&&e.getAttributeLevel()>t;)i++;return a=this.document.positionFromLocation({index:r,offset:0}),n=this.document.positionFromLocation({index:i,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([a,n]))},e.prototype.updateCurrentAttributes=function(){var t,e,i,n,r,a;if(a=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(a),i=0,n=(r=o()).length;i<n;i++)e[t=r[i]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!c(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},e.prototype.getCurrentAttributes=function(){return r.call({},this.currentAttributes)},e.prototype.getCurrentTextAttributes=function(){var t,e,i,n;for(e in t={},i=this.currentAttributes)n=i[e],s(e)&&(t[e]=n);return t},e.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},e.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},e.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},e.proxyMethod("getSelectionManager().getPointRange"),e.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),e.proxyMethod("getSelectionManager().locationIsCursorTarget"),e.proxyMethod("getSelectionManager().selectionIsExpanded"),e.proxyMethod("delegate?.getSelectionManager"),e.prototype.setSelection=function(t){var e,i;return e=this.document.locationRangeFromRange(t),null!=(i=this.delegate)?i.compositionDidRequestChangingSelectionToLocationRange(e):void 0},e.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},e.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},e.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},e.prototype.getLocationRange=function(t){var e;return null!=(e=this.getSelectionManager().getLocationRange(t))?e:l({index:0,offset:0})},e.prototype.getExpandedRangeInDirection=function(t){var e,i,n;return n=(i=this.getSelectedRange())[0],e=i[1],"backward"===t?n=this.translateUTF16PositionFromOffset(n,-1):e=this.translateUTF16PositionFromOffset(e,1),l([n,e])},e.prototype.moveCursorInDirection=function(t){var e,i,n,r;return this.editingAttachment?n=this.document.getRangeOfAttachment(this.editingAttachment):(r=this.getSelectedRange(),n=this.getExpandedRangeInDirection(t),i=!u(r,n)),this.setSelectedRange("backward"===t?n[0]:n[1]),i&&(e=this.getAttachmentAtRange(n))?this.editAttachment(e):void 0},e.prototype.expandSelectionInDirection=function(t){var e;return e=this.getExpandedRangeInDirection(t),this.setSelectedRange(e)},e.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},e.prototype.expandSelectionAroundCommonAttribute=function(t){var e,i;return e=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(i)},e.prototype.selectionContainsAttachmentWithAttribute=function(t){var e,i,n,r;if(r=this.getSelectedRange()){for(e=0,i=(n=this.document.getDocumentAtRange(r).getAttachments()).length;e<i;e++)if(n[e].hasAttribute(t))return!0;return!1}},e.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},e.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},e.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},e.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},e.prototype.getAttachments=function(){return this.attachments.slice(0)},e.prototype.refreshAttachments=function(){var t,e,i,n,r,a,o,s,l,c,h,u;for(i=this.document.getAttachments(),t=(s=d(this.attachments,i)).added,h=s.removed,this.attachments=i,n=0,a=h.length;n<a;n++)((e=h[n]).delegate=null)!=(l=this.delegate)&&"function"==typeof l.compositionDidRemoveAttachment&&l.compositionDidRemoveAttachment(e);for(u=[],r=0,o=t.length;r<o;r++)(e=t[r]).delegate=this,u.push(null!=(c=this.delegate)&&"function"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(e):void 0);return u},e.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},e.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},e.prototype.editAttachment=function(t){var e;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(e=this.delegate)&&"function"==typeof e.compositionDidStartEditingAttachment?e.compositionDidStartEditingAttachment(this.editingAttachment):void 0},e.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},e.prototype.canEditAttachmentCaption=function(){var t;return null!=(t=this.editingAttachment)?t.isPreviewable():void 0},e.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},e.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},e.prototype.breakFormattedBlock=function(t){var e,i,n,r,a;return i=t.document,e=t.block,a=[(r=t.startPosition)-1,r],e.getBlockBreakPosition()===t.startLocation.offset?(e.breaksOnReturn()&&"\n"===t.nextCharacter?r+=1:i=i.removeTextAtRange(a),a=[r,r]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?a=[r-1,r+1]:(a=[r,r+1],r+=1):t.startLocation.offset-1!=0&&(r+=1),n=new P.Document([e.removeLastAttribute().copyWithoutText()]),this.setDocument(i.insertDocumentAtRange(n,a)),this.setSelection(r)},e.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&0<(t=e[0].index)?this.document.getBlockAtIndex(t-1):void 0},e.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},e.prototype.getAttachmentAtRange=function(t){var e;return(e=this.document.getDocumentAtRange(t)).toString()===P.OBJECT_REPLACEMENT_CHARACTER+"\n"?e.getAttachments()[0]:void 0},e.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},e.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},e.prototype.translateUTF16PositionFromOffset=function(t,e){var i,n;return i=(n=this.document.toUTF16String()).offsetFromUCS2Offset(t),n.offsetToUCS2Offset(i+e)},e}(P.BasicObject)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.UndoManager=function(t){function e(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var s;return i(e,t),e.prototype.recordUndoEntry=function(t,e){var i,n,r,a,o;return n=(a=null!=e?e:{}).context,i=a.consolidatable,r=this.undoEntries.slice(-1)[0],i&&s(r,t,n)?void 0:(o=this.createEntry({description:t,context:n}),this.undoEntries.push(o),this.redoEntries=[])},e.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},e.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},e.prototype.canUndo=function(){return 0<this.undoEntries.length},e.prototype.canRedo=function(){return 0<this.redoEntries.length},e.prototype.createEntry=function(t){var e,i,n;return i=(n=null!=t?t:{}).description,e=n.context,{description:null!=i?i.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},s=function(t,e,i){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(i)},e}(P.BasicObject)}.call(this),function(){P.Editor=function(){function t(t,e,i){this.composition=t,this.selectionManager=e,this.element=i,this.undoManager=new P.UndoManager(this.composition)}return t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(P.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var e,i;return e=t.document,i=t.selectedRange,e=P.Document.fromJSON(e),this.loadSnapshot({document:e,selectedRange:i})},t.prototype.loadSnapshot=function(t){return this.undoManager=new P.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canDecreaseIndentationLevel=function(){return this.canDecreaseNestingLevel()},t.prototype.canIncreaseIndentationLevel=function(){return this.canIncreaseNestingLevel()},t.prototype.decreaseIndentationLevel=function(){return this.decreaseNestingLevel()},t.prototype.increaseIndentationLevel=function(){return this.increaseNestingLevel()},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var i,n,r;return n=(r=null!=e?e:{}).context,i=r.consolidatable,this.undoManager.recordUndoEntry(t,{context:n,consolidatable:i})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.ManagedAttachment=function(t){function e(t,e){var i;this.attachmentManager=t,this.attachment=e,i=this.attachment,this.id=i.id,this.file=i.file}return i(e,t),e.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},e.proxyMethod("attachment.getAttribute"),e.proxyMethod("attachment.hasAttribute"),e.proxyMethod("attachment.setAttribute"),e.proxyMethod("attachment.getAttributes"),e.proxyMethod("attachment.setAttributes"),e.proxyMethod("attachment.isPending"),e.proxyMethod("attachment.isPreviewable"),e.proxyMethod("attachment.getURL"),e.proxyMethod("attachment.getHref"),e.proxyMethod("attachment.getFilename"),e.proxyMethod("attachment.getFilesize"),e.proxyMethod("attachment.getFormattedFilesize"),e.proxyMethod("attachment.getExtension"),e.proxyMethod("attachment.getContentType"),e.proxyMethod("attachment.getFile"),e.proxyMethod("attachment.setFile"),e.proxyMethod("attachment.releaseFile"),e.proxyMethod("attachment.getUploadProgress"),e.proxyMethod("attachment.setUploadProgress"),e}(P.BasicObject)}.call(this),function(){var i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;P.AttachmentManager=function(t){function e(t){var e,i,n;for(null==t&&(t=[]),this.managedAttachments={},i=0,n=t.length;i<n;i++)e=t[i],this.manageAttachment(e)}return i(e,t),e.prototype.getAttachments=function(){var t,e,i,n;for(e in n=[],i=this.managedAttachments)t=i[e],n.push(t);return n},e.prototype.manageAttachment=function(t){var e,i;return null!=(e=this.managedAttachments)[i=t.id]?e[i]:e[i]=new P.ManagedAttachment(this,t)},e.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},e.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},e.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},e}(P.BasicObject)}.call(this),function(){var d,p,i,s,f,l,g,n,m,r,v;d=P.elementContainsNode,p=P.findChildIndexOfNode,f=P.nodeIsBlockStart,l=P.nodeIsBlockStartComment,s=P.nodeIsBlockContainer,g=P.nodeIsCursorTarget,n=P.nodeIsEmptyTextNode,m=P.nodeIsTextNode,i=P.nodeIsAttachmentElement,r=P.tagName,v=P.walkTree,P.LocationMapper=function(){function t(t){this.element=t}var o,h,u,e;return t.prototype.findLocationFromContainerAndOffset=function(t,e,i){var n,r,a,o,s,l,c;for(l=(null!=i?i:{strict:!0}).strict,a=!1,o={index:r=0,offset:0},(n=this.findAttachmentElementParentForNode(t))&&(t=n.parentNode,e=p(n)),c=v(this.element,{usingFilter:u});c.nextNode();){if((s=c.currentNode)===t&&m(t)){g(s)||(o.offset+=e);break}if(s.parentNode===t){if(r++===e)break}else if(!d(t,s)&&0<r)break;f(s,{strict:l})?(a&&o.index++,a=!(o.offset=0)):o.offset+=h(s)}return o},t.prototype.findContainerAndOffsetFromLocation=function(t){var e,i,n,r,a;if(0===t.index&&0===t.offset){for(e=this.element,r=0;e.firstChild;)if(e=e.firstChild,s(e)){r=1;break}return[e,r]}if(i=(a=this.findNodeAndOffsetFromLocation(t))[0],n=a[1],i){if(m(i))(e=i).textContent,r=t.offset-n;else{if(e=i.parentNode,!f(i.previousSibling)&&!s(e))for(;i===e.lastChild&&(e=(i=e).parentNode,!s(e)););r=p(i),0!==t.offset&&r++}return[e,r]}},t.prototype.findNodeAndOffsetFromLocation=function(t){var e,i,n,r,a,o,s,l;for(i=s=0,n=(l=this.getSignificantNodesForIndex(t.index)).length;i<n;i++){if(e=l[i],r=h(e),t.offset<=s+r)if(m(e)){if(a=e,o=s,t.offset===o&&g(a))break}else a||(a=e,o=s);if((s+=r)>t.offset)break}return[a,o]},t.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(i(t))return t;t=t.parentNode}},t.prototype.getSignificantNodesForIndex=function(t){var e,i,n,r,a;for(n=[],a=v(this.element,{usingFilter:o}),r=!1;a.nextNode();)if(i=a.currentNode,l(i)){if(null!=e?e++:e=0,e===t)r=!0;else if(r)break}else r&&n.push(i);return n},h=function(t){return t.nodeType===Node.TEXT_NODE?g(t)?0:t.textContent.length:"br"===r(t)||i(t)?1:0},o=function(t){return e(t)===NodeFilter.FILTER_ACCEPT?u(t):NodeFilter.FILTER_REJECT},e=function(t){return n(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},u=function(t){return i(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},t}()}.call(this),function(){var h,u,i=[].slice;h=P.getDOMRange,u=P.setDOMRange,P.PointMapper=function(){function t(){}return t.prototype.createDOMRangeFromPoint=function(t){var e,i,n,r,a,o,s,l;if(s=t.x,l=t.y,document.caretPositionFromPoint)return n=(a=document.caretPositionFromPoint(s,l)).offsetNode,i=a.offset,(e=document.createRange()).setStart(n,i),e;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(s,l);if(document.body.createTextRange){r=h();try{(o=document.body.createTextRange()).moveToPoint(s
,l),o.select()}catch(c){}return e=h(),u(r),e}},t.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=i.call(t.getClientRects()))[0],e[e.length-1]]},t}()}.call(this),function(){var n,r=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=P.getDOMRange,P.SelectionChangeObserver=function(t){function e(){this.run=r(this.run,this),this.update=r(this.update,this),this.selectionManagers=[]}var i;return a(e,t),e.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},e.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},e.prototype.registerSelectionManager=function(t){return s.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},e.prototype.unregisterSelectionManager=function(r){var a;return this.selectionManagers=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.selectionManagers).length;t<e;t++)(a=i[t])!==r&&n.push(a);return n}.call(this),0===this.selectionManagers.length?this.stop():void 0},e.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,i,n,r;for(n=[],t=0,e=(i=this.selectionManagers).length;t<e;t++)r=i[t],n.push(r.selectionDidChange());return n},e.prototype.update=function(){var t;return t=n(),i(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},e.prototype.reset=function(){return this.domRange=null,this.update()},e.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},i=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},e}(P.BasicObject),null==P.selectionChangeObserver&&(P.selectionChangeObserver=new P.SelectionChangeObserver)}.call(this),function(){var s,i,n,l,r,a,o,c,h,u,d=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function i(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},f={}.hasOwnProperty;n=P.getDOMSelection,i=P.getDOMRange,u=P.setDOMRange,s=P.elementContainsNode,a=P.nodeIsCursorTarget,r=P.innerElementIsActive,l=P.handleEvent,o=P.normalizeRange,c=P.rangeIsCollapsed,h=P.rangesAreEqual,P.SelectionManager=function(t){function e(t){this.element=t,this.selectionDidChange=d(this.selectionDidChange,this),this.didMouseDown=d(this.didMouseDown,this),this.locationMapper=new P.LocationMapper(this.element),this.pointMapper=new P.PointMapper,this.lockCount=0,l("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return p(e,t),e.prototype.getLocationRange=function(t){var e;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(i(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(e=this.lockedLocationRange)?e:this.currentLocationRange},e.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=o(t),(e=this.createDOMRangeFromLocationRange(t))?(u(e),this.updateCurrentLocationRange(t)):void 0},e.prototype.setLocationRangeFromPointRange=function(t){var e,i;return t=o(t),i=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([i,e])},e.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},e.prototype.locationIsCursorTarget=function(t){var e,i;return e=(i=this.findNodeAndOffsetFromLocation(t))[0],i[1],a(e)},e.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},e.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,(this.lockedLocationRange=null)!=t)?this.setLocationRange(t):void 0},e.prototype.clearSelection=function(){var t;return null!=(t=n())?t.removeAllRanges():void 0},e.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=i())?t.collapsed:void 0)},e.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},e.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),e.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),e.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),e.proxyMethod("pointMapper.createDOMRangeFromPoint"),e.proxyMethod("pointMapper.getClientRectsForDOMRange"),e.prototype.didMouseDown=function(){return this.pauseTemporarily()},e.prototype.pauseTemporarily=function(){var r,a,i,n,o;return this.paused=!0,o=this,a=function(){var t,e;for(o.paused=!1,clearTimeout(n),t=0,e=i.length;t<e;t++)i[t].destroy();return s(document,o.element)?o.selectionDidChange():void 0},n=setTimeout(a,200),i=function(){var t,e,i,n;for(n=[],t=0,e=(i=["mousemove","keydown"]).length;t<e;t++)r=i[t],n.push(l(r,{onElement:document,withCallback:a}));return n}()},e.prototype.selectionDidChange=function(){return this.paused||r(this.element)?void 0:this.updateCurrentLocationRange()},e.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(i()))&&!h(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},e.prototype.createDOMRangeFromLocationRange=function(t){var e,i,n,r;return n=this.findContainerAndOffsetFromLocation(t[0]),i=c(t)?n:null!=(r=this.findContainerAndOffsetFromLocation(t[1]))?r:n,null!=n&&null!=i?((e=document.createRange()).setStart.apply(e,n),e.setEnd.apply(e,i),e):void 0},e.prototype.createLocationRangeFromDOMRange=function(t,e){var i,n;if(null!=t&&this.domRangeWithinElement(t)&&(n=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(i=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),o([n,i])},e.prototype.getLocationAtPoint=function(t){var e,i;return(e=this.createDOMRangeFromPoint(t))&&null!=(i=this.createLocationRangeFromDOMRange(e))?i[0]:void 0},e.prototype.domRangeWithinElement=function(t){return t.collapsed?s(this.element,t.startContainer):s(this.element,t.startContainer)&&s(this.element,t.endContainer)},e}(P.BasicObject)}.call(this),function(){var i,n,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty,s=[].slice;n=P.rangeIsCollapsed,r=P.rangesAreEqual,i=P.objectsAreEqual,P.EditorController=function(t){function e(t){var e,i;this.editorElement=t.editorElement,e=t.document,i=t.html,this.selectionManager=new P.SelectionManager(this.editorElement),(this.selectionManager.delegate=this).composition=new P.Composition,(this.composition.delegate=this).attachmentManager=new P.AttachmentManager(this.composition.getAttachments()),(this.attachmentManager.delegate=this).inputController=new P.InputController(this.editorElement),(this.inputController.delegate=this).inputController.responder=this.composition,this.compositionController=new P.CompositionController(this.editorElement,this.composition),(this.compositionController.delegate=this).toolbarController=new P.ToolbarController(this.editorElement.toolbarElement),(this.toolbarController.delegate=this).editor=new P.Editor(this.composition,this.selectionManager,this.editorElement),null!=e?this.editor.loadDocument(e):this.editor.loadHTML(i)}return a(e,t),e.prototype.registerSelectionManager=function(){return P.selectionChangeObserver.registerSelectionManager(this.selectionManager)},e.prototype.unregisterSelectionManager=function(){return P.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},e.prototype.compositionDidChangeDocument=function(){return this.editorElement.notify("document-change"),this.handlingInput?void 0:this.render()},e.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.editorElement.notify("attributes-change",{attributes:this.currentAttributes})},e.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},e.prototype.compositionShouldAcceptFile=function(t){return this.editorElement.notify("file-accept",{file:t})},e.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-add",{attachment:e})},e.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-edit",{attachment:e}),this.editorElement.notify("change")},e.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.editorElement.notify("change")},e.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.editorElement.notify("attachment-remove",{attachment:e})},e.prototype.compositionDidStartEditingAttachment=function(t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},e.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},e.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},e.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},e.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},e.prototype.getSelectionManager=function(){return this.selectionManager},e.proxyMethod("getSelectionManager().setLocationRange"),e.proxyMethod("getSelectionManager().getLocationRange"),e.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},e.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.editorElement.notify("sync")},e.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.composition.updateCurrentAttributes(),this.editorElement.notify("render")),this.renderedCompositionRevision=this.composition.revision},e.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.editorElement.notify("focus")},e.prototype.compositionControllerDidBlur=function(){return this.editorElement.notify("blur")},e.prototype.compositionControllerDidSelectAttachment=function(t){return this.composition.editAttachment(t)},e.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,i;return e=null!=(i=this.attachmentLocationRange)?i:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},e.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},e.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},e.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},e.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},e.prototype.inputControllerDidAllowUnhandledInput=function(){return this.editorElement.notify("change")},e.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},e.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},e.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},e.prototype.inputControllerWillPasteText=function(){return this.editor.recordUndoEntry("Paste"),this.pasting=!0},e.prototype.inputControllerDidPaste=function(t){var e;return e=this.pastedRange,this.pastedRange=null,this.pasting=null,this.editorElement.notify("paste",{pasteData:t,range:e})},e.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},e.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},e.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},e.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},e.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},e.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},e.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!r(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.editorElement.notify("selection-change")},e.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},e.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},e.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},e.prototype.toolbarDidShowDialog=function(t){return this.editorElement.notify("toolbar-dialog-show",{dialogName:t})},e.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.editorElement.notify("toolbar-dialog-hide",{dialogName:t})},e.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},e.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},e.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}}},e.prototype.canInvokeAction=function(t){var e,i;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(i=e.test)?i.call(this):void 0)},e.prototype.invokeAction=function(t){var e,i;return this.actionIsExternal(t)?this.editorElement.notify("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(i=e.perform)?i.call(this):void 0},e.prototype.actionIsExternal=function(t){return/^x-./.test(t)},e.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},e.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),i(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.editorElement.notify("actions-change",{actions:this.currentActions}))},e.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},e.prototype.render=function(){return this.compositionController.render()},e.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},e.prototype.recordFormattingUndoEntry=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},e.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},e.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(s.call(t))},e.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),n(t)?t[0].index:t},e.prototype.getTimeContext=function(){return 0<P.config.undoInterval?Math.floor((new Date).getTime()/P.config.undoInterval):0},e.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},e}(P.Controller)}.call(this),function(){var t,e,i,n,r,a,o,s,l,c,h,u;n=P.makeElement,r=P.selectionElements,a=P.triggerEvent,e=P.handleEvent,i=P.handleEventOnce,t=P.AttachmentView.attachmentSelector,P.registerElement("trix-editor",(c=0,o=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},h=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),i("focus",{onElement:t,withCallback:function(){return s(t)}}))},s=function(t){return l(t),u(t)},l=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),e("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},u=function(){var t;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&("div"===(t=P.config.blockAttributes["default"].tagName)||"p"===t)?document.execCommand("DefaultParagraphSeparator",!1,t):void 0},{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+t+'[data-trix-mutable] figcaption:empty::before {\n  content: "'+P.config.lang.captionPrompt+'";\n  color: graytext;\n}\n\n%t '+r.selector+" { "+r.cssText+" }",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++c),this.trixId)}},toolbarElement:{get:function(){var t,e,i;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentElement?(i="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",i),t=n("trix-toolbar",{id:i}),this.parentElement.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,i;return this.hasAttribute("input")?null!=(i=this.ownerDocument)?i.getElementById(this.getAttribute("input")):void 0:this.parentElement?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=n("input",{type:"hidden",id:e}),this.parentElement.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){var i;switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notify("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":null!=(i=this.inputElement)&&(i.value=P.serializeToContentType(this,"text/html"))}return this.editorController?a("trix-"+t,{onElement:this,attributes:e}):void 0},createdCallback:function(){return h(this)},attachedCallback:function(){return this.hasAttribute("data-trix-internal")?void 0:(null==this.editorController&&(this.editorController=new P.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),o(this),requestAnimationFrame((t=this,function(){return t.notify("initialize")})));var t},detachedCallback:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=P:"function"==typeof define&&define.amd&&define(P)}.call(this),$(document).ready(function(){$("#datatable").DataTable({language:{lengthMenu:"Exibir _MENU_ registro por p\xe1ginas",info:"Exibindo p\xe1gina _PAGE_ de _PAGES_",infoEmpty:"N\xe3o foram encontrados registros",infoFiltered:"",search:"Buscar:",paginate:{first:"Primeira",last:"\xdaltima",next:"Proxima",previous:"Anterior"},loadingRecords:"Carregando...",processing:"Processando...",zeroRecords:"Sem registros compat\xedveis"}}),$("#AnexImagem").click(function(){$("#validationImage").click()})}),document.getElementById("validationImage").addEventListener("change",readImage,!1);